



<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Data Types in Rails - Wendi's Blog</title>
  <meta http-equiv="Content-Type" content="text/html" />
  <meta name="author" content="wendi">

  
  <meta name="description" content="Rails, Ruby Aug 10th, 2015 Data Types in Rails Have you ever got annoyed with data types when you are creating Rails migrations? What’s the full &hellip;">
  <meta name="keywords" content="Ruby, Rails, Tech, Web"/>
  

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.ifyouseewendy.com/blog/2015/08/10/data-types-in-rails">
  <link href="/favicon.td.png" rel="icon">
  <link href="/stylesheets/styles.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Wendi's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/jquery-1.9.1.min.js"></script>
  <script src="/javascripts/octopress.js"></script>
  <script src="/javascripts/jquery.sidr.min.js"></script>
  <script src="/javascripts/ah-blue.js"></script>
  
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48830538-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head> 

<body   >
  <div class="aux-container">
    <a id="nav-toggle" href="#sidr"></a>
    <a id="search-toggle"></a>
</div>

<header class="header-container clearfix">
  <!-- <a href="/"><img src="/images/ah-frame.svg" onerror="this.onerror=null; this.src='ah-frame.png'"></a> -->
  <a href='/'>
    <img src="/images/portrait-2019.jpg" width="200" height="200" title="wendi" >
  </a>
</header>


  <div class="main-container">
    <div class="main wrapper clearfix" >
    	
    	<aside>
        
          <div class="search-container">
            <form action="http://google.com/search" method="get">
              <fieldset role="search">
                <input type="hidden" name="q" value="site:blog.ifyouseewendy.com" />
                <input class="search-field" type="text" name="q" results="0" placeholder=""/>
                <input class="submit" type="submit" value=""/>
              </fieldset>
            </form>
          </div>
        
        <div id="main-nav">
    <nav>
        <ul>
        	<li>
        		
              <!-- <h3>Tags</h3> -->


<h3>Recent Posts</h3>
<ul>
	
    <li>
    	<a href="/blog/2021/01/11/what-ive-done-in-2021/">What I've Done in 2021</a>
    </li>
    
    <li>
    	<a href="/blog/2021/01/01/what-weve-done-in-2020/">What We've Done in 2020</a>
    </li>
    
    <li>
    	<a href="/blog/2020/06/07/review-soe-ycscs1-compilers/">[Review] SOE-YCSCS1 Compilers</a>
    </li>
    
    <li>
    	<a href="/blog/2020/01/13/what-ive-done-in-2020/">What I've Done in 2020</a>
    </li>
    
    <li>
    	<a href="/blog/2020/01/03/what-weve-done-in-2019/">What We've Done in 2019</a>
    </li>
    
</ul>


            
        	</li>
        	<li>
        		<ul>
                <li>Github - <a href="http://www.github.com/ifyouseewendy" target="_blank">github.com/ifyouseewendy</a></li>
                <li>Twitter - <a href="http://www.twitter.com/ifyouseewendy" target="_blank">@ifyouseewendy</a></li>
                <li>Email - <a href="mailto:ifyouseewendy@gmail.com" target="_blank">ifyouseewendy at gmail</a></li>
        		</ul>
        	</li>
        </ul>
    </nav>
</div>

      </aside>
      
      <div>
<article>
	<header>
  
    <div class="article-tags">
        

<span class="categories">
  
    <a class='category' href='/blog/categories/rails/'>Rails</a>, <a class='category' href='/blog/categories/ruby/'>Ruby</a>
  
</span>


        








  




<span class='date'>
  <a href='#'>Aug 10<span>th</span>, 2015</a>
</span>

    </div>
    <h1>
      Data Types in Rails
    </h1>
  
</header>


  <section><p><strong><em>Have you ever got annoyed with data types when you are creating Rails migrations?</em></strong></p>

<p><strong><em>What’s the full list of data types in Rails? Does it differ from MySQL to PostgreSQL?</em></strong></p>

<p><strong><em>When adding a <code>title</code> field to <code>Post</code> table, should we use <code>title</code> as a <code>string</code> or <code>text</code>? Same answer with MySQL and PostgreSQL?</em></strong></p>

<p>You may want to check the Rails guides of <a href="http://edgeguides.rubyonrails.org/active_record_migrations.html">Active Record Migrations</a>, but all you get is disappointment because its lacking of essential information about data types.</p>

<p>Here is a quick entry about data types which I extracts from Rails API and Stack Overflow.</p>

<h2 id="general-data-type">General Data Type</h2>

<blockquote>
  <p>From <a href="http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-column">ActiveRecord::ConnectionAdapters::TableDefinition#column</a></p>
</blockquote>

<p>Instantiates a new column for the table. The type parameter is normally one of the migrations native types, which is one of the following:</p>

<ul>
  <li><code>:primary_key</code></li>
  <li><code>:string</code></li>
  <li><code>:text</code></li>
  <li><code>:integer</code></li>
  <li><code>:float</code></li>
  <li><code>:decimal</code></li>
  <li><code>:datetime</code></li>
  <li><code>:time</code></li>
  <li><code>:date</code></li>
  <li><code>:binary</code></li>
  <li><code>:boolean</code></li>
</ul>

<h2 id="specific-dbms-data-type">Specific DBMS Data Type</h2>

<blockquote>
  <p>From Psylone’s answer on <a href="http://stackoverflow.com/a/17279395/1331774">Where is the documentation page for ActiveRecord data types?</a></p>
</blockquote>

<p>Check the specific DB adaptor in source code.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>MySQL Data Types</span><a href="https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L244-L256">link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span></span><span class="no">NATIVE_DATABASE_TYPES</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="ss">:primary_key</span> <span class="o">=&gt;</span> <span class="s2">&quot;int(11) auto_increment PRIMARY KEY&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="ss">:string</span>      <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;varchar&quot;</span><span class="p">,</span> <span class="ss">:limit</span> <span class="o">=&gt;</span> <span class="mi">255</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:text</span>        <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;text&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:integer</span>     <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="ss">:limit</span> <span class="o">=&gt;</span> <span class="mi">4</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:float</span>       <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;float&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:decimal</span>     <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;decimal&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:datetime</span>    <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;datetime&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:time</span>        <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;time&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:date</span>        <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;date&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:binary</span>      <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;blob&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">:boolean</span>     <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;tinyint&quot;</span><span class="p">,</span> <span class="ss">:limit</span> <span class="o">=&gt;</span> <span class="mi">1</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>PostgreSQL Data Types</span><a href="https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb#L77-L112">link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span></span><span class="no">NATIVE_DATABASE_TYPES</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="ss">primary_key</span><span class="p">:</span> <span class="s2">&quot;serial primary key&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="ss">bigserial</span><span class="p">:</span> <span class="s2">&quot;bigserial&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="ss">string</span><span class="p">:</span>      <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;character varying&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">text</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">integer</span><span class="p">:</span>     <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">float</span><span class="p">:</span>       <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">decimal</span><span class="p">:</span>     <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;decimal&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">datetime</span><span class="p">:</span>    <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;timestamp&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">time</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;time&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">date</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">daterange</span><span class="p">:</span>   <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;daterange&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">numrange</span><span class="p">:</span>    <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;numrange&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">tsrange</span><span class="p">:</span>     <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;tsrange&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">tstzrange</span><span class="p">:</span>   <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;tstzrange&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">int4range</span><span class="p">:</span>   <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;int4range&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">int8range</span><span class="p">:</span>   <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;int8range&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">binary</span><span class="p">:</span>      <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;bytea&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">boolean</span><span class="p">:</span>     <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">bigint</span><span class="p">:</span>      <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;bigint&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">xml</span><span class="p">:</span>         <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;xml&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">tsvector</span><span class="p">:</span>    <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;tsvector&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">hstore</span><span class="p">:</span>      <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;hstore&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">inet</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;inet&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">cidr</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;cidr&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">macaddr</span><span class="p">:</span>     <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;macaddr&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">uuid</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;uuid&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">json</span><span class="p">:</span>        <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">jsonb</span><span class="p">:</span>       <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;jsonb&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">ltree</span><span class="p">:</span>       <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;ltree&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">citext</span><span class="p">:</span>      <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;citext&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">point</span><span class="p">:</span>       <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;point&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">bit</span><span class="p">:</span>         <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;bit&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">bit_varying</span><span class="p">:</span> <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;bit varying&quot;</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">money</span><span class="p">:</span>       <span class="p">{</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;money&quot;</span> <span class="p">},</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Or, use <code>ActiveRecord::Base.connection.native_database_types.keys</code> to get all valid data types based on your database adaptor.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span></span><span class="c1"># PostgreSQL</span>
</span><span class="line"><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">native_database_types</span><span class="o">.</span><span class="n">keys</span>
</span><span class="line"><span class="o">[</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">0</span><span class="o">]</span> <span class="ss">:primary_key</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">1</span><span class="o">]</span> <span class="ss">:bigserial</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">2</span><span class="o">]</span> <span class="ss">:string</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">3</span><span class="o">]</span> <span class="ss">:text</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">4</span><span class="o">]</span> <span class="ss">:integer</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">5</span><span class="o">]</span> <span class="ss">:float</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">6</span><span class="o">]</span> <span class="ss">:decimal</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">7</span><span class="o">]</span> <span class="ss">:datetime</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">8</span><span class="o">]</span> <span class="ss">:time</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span> <span class="mi">9</span><span class="o">]</span> <span class="ss">:date</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">10</span><span class="o">]</span> <span class="ss">:daterange</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">11</span><span class="o">]</span> <span class="ss">:numrange</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">12</span><span class="o">]</span> <span class="ss">:tsrange</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">13</span><span class="o">]</span> <span class="ss">:tstzrange</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">14</span><span class="o">]</span> <span class="ss">:int4range</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">15</span><span class="o">]</span> <span class="ss">:int8range</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">16</span><span class="o">]</span> <span class="ss">:binary</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">17</span><span class="o">]</span> <span class="ss">:boolean</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">18</span><span class="o">]</span> <span class="ss">:bigint</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">19</span><span class="o">]</span> <span class="ss">:xml</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">20</span><span class="o">]</span> <span class="ss">:tsvector</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">21</span><span class="o">]</span> <span class="ss">:hstore</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">22</span><span class="o">]</span> <span class="ss">:inet</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">23</span><span class="o">]</span> <span class="ss">:cidr</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">24</span><span class="o">]</span> <span class="ss">:macaddr</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">25</span><span class="o">]</span> <span class="ss">:uuid</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">26</span><span class="o">]</span> <span class="ss">:json</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">27</span><span class="o">]</span> <span class="ss">:jsonb</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">28</span><span class="o">]</span> <span class="ss">:ltree</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">29</span><span class="o">]</span> <span class="ss">:citext</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">30</span><span class="o">]</span> <span class="ss">:point</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">31</span><span class="o">]</span> <span class="ss">:bit</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">32</span><span class="o">]</span> <span class="ss">:bit_varying</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="mi">33</span><span class="o">]</span> <span class="ss">:money</span>
</span><span class="line"><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>There is another guide about <a href="http://edgeguides.rubyonrails.org/active_record_postgresql.html">Active Record and PostgreSQL</a>.</p>

<blockquote>
  <p>From gotqn’s answer on <a href="http://stackoverflow.com/a/25702629/1331774">Rails 4 datatypes?</a></p>
</blockquote>

<p>Rails data types mapping to different DB data types:</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/data_types_1.png" alt="Data Types 1" />
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/data_types_2.png" alt="Data Types 2" /></p>

<h2 id="data-type-shortcut-when-generating-model">Data Type Shortcut When Generating Model</h2>

<blockquote>
  <p>From tomascharad’s answer on <a href="http://stackoverflow.com/questions/17918117/rails-4-datatypes">Rails 4 datatypes?</a></p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span></span>$ rails generate model -h
</span><span class="line">
</span><span class="line">Available field types:
</span><span class="line">
</span><span class="line">    Just after the field name you can specify a <span class="nb">type</span> like text or boolean.
</span><span class="line">    It will generate the column with the associated SQL type. For instance:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model post title:string body:text<span class="sb">`</span>
</span><span class="line">
</span><span class="line">    will generate a title column with a varchar <span class="nb">type</span> and a body column with a text
</span><span class="line">    type. If no <span class="nb">type</span> is specified the string <span class="nb">type</span> will be used by default.
</span><span class="line">    You can use the following types:
</span><span class="line">
</span><span class="line">        integer
</span><span class="line">        primary_key
</span><span class="line">        decimal
</span><span class="line">        float
</span><span class="line">        boolean
</span><span class="line">        binary
</span><span class="line">        string
</span><span class="line">        text
</span><span class="line">        date
</span><span class="line">        <span class="nb">time</span>
</span><span class="line">        datetime
</span><span class="line">
</span><span class="line">    You can also consider <span class="sb">`</span>references<span class="sb">`</span> as a kind of type. For instance, <span class="k">if</span> you run:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model photo title:string album:references<span class="sb">`</span>
</span><span class="line">
</span><span class="line">    It will generate an <span class="sb">`</span>album_id<span class="sb">`</span> column. You should generate these kinds of fields when
</span><span class="line">    you will use a <span class="sb">`</span>belongs_to<span class="sb">`</span> association, <span class="k">for</span> instance. <span class="sb">`</span>references<span class="sb">`</span> also supports
</span><span class="line">    polymorphism, you can <span class="nb">enable</span> polymorphism like this:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model product supplier:references<span class="o">{</span>polymorphic<span class="o">}</span><span class="sb">`</span>
</span><span class="line">
</span><span class="line">    For integer, string, text and binary fields, an integer <span class="k">in</span> curly braces will
</span><span class="line">    be <span class="nb">set</span> as the limit:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model user pseudo:string<span class="o">{</span><span class="m">30</span><span class="o">}</span><span class="sb">`</span>
</span><span class="line">
</span><span class="line">    For decimal, two integers separated by a comma <span class="k">in</span> curly braces will be used
</span><span class="line">    <span class="k">for</span> precision and scale:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model product <span class="s1">&#39;price:decimal{10,2}&#39;</span><span class="sb">`</span>
</span><span class="line">
</span><span class="line">    You can add a <span class="sb">`</span>:uniq<span class="sb">`</span> or <span class="sb">`</span>:index<span class="sb">`</span> suffix <span class="k">for</span> unique or standard indexes
</span><span class="line">    respectively:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model user pseudo:string:uniq<span class="sb">`</span>
</span><span class="line">        <span class="sb">`</span>rails generate model user pseudo:string:index<span class="sb">`</span>
</span><span class="line">
</span><span class="line">    You can combine any single curly brace option with the index options:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model user username:string<span class="o">{</span><span class="m">30</span><span class="o">}</span>:uniq<span class="sb">`</span>
</span><span class="line">        <span class="sb">`</span>rails generate model product supplier:references<span class="o">{</span>polymorphic<span class="o">}</span>:index<span class="sb">`</span>
</span><span class="line">
</span><span class="line">    If you require a <span class="sb">`</span>password_digest<span class="sb">`</span> string column <span class="k">for</span> use with
</span><span class="line">    has_secure_password, you should specify <span class="sb">`</span>password:digest<span class="sb">`</span>:
</span><span class="line">
</span><span class="line">        <span class="sb">`</span>rails generate model user password:digest<span class="sb">`</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="should-you-choose-string-or-text">Should you choose string or text?</h2>

<p>In <strong>MySQL</strong></p>

<blockquote>
  <p>From tjeezy’s answer and Omar Qureshi’s comment on <a href="http://stackoverflow.com/a/3354452/1331774">Difference between string and text in rails?</a></p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span></span>:string <span class="p">|</span>                   VARCHAR                <span class="p">|</span> :limit <span class="o">=</span>&gt; <span class="m">1</span> to <span class="m">255</span> <span class="o">(</span><span class="nv">default</span> <span class="o">=</span> <span class="m">255</span><span class="o">)</span>
</span><span class="line">:text   <span class="p">|</span> TINYTEXT, TEXT, MEDIUMTEXT, or LONGTEXT2 <span class="p">|</span> :limit <span class="o">=</span>&gt; <span class="m">1</span> to <span class="m">4294967296</span> <span class="o">(</span><span class="nv">default</span> <span class="o">=</span> <span class="m">65536</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So you’d better specify the <code>:limit</code> as a reminder to yourself that there is a limit and you should have a validation in the model to ensure that the limit is not exceeded.</p>

<p>And, you can have indexes on <code>varchars</code>, you cannot on <code>text</code>.</p>

<p>In <strong>Postgresql</strong></p>

<blockquote>
  <p>From PostgreSQL Manual <a href="http://www.postgresql.org/docs/9.3/interactive/datatype-character.html">Character Types</a></p>
</blockquote>

<p>There is no performance difference among these three types, apart from increased storage space when using the blank-padded type, and a few extra CPU cycles to check the length when storing into a length-constrained column. While <code>character(n)</code> has performance advantages in some other database systems, there is no such advantage in PostgreSQL; in fact <code>character(n)</code> is usually the slowest of the three because of its additional storage costs. In most situations <code>text</code> or <code>character</code> varying should be used instead.</p>

<blockquote>
  <p>From Omar Qureshi’s answer on <a href="http://stackoverflow.com/questions/3354330/difference-between-string-and-text-in-rails">Difference between string and text in rails?</a></p>
</blockquote>

<p>If you are using postgres use <code>text</code> wherever you can, unless you have a size constraint since there is no performance penalty for <code>text</code> vs <code>varchar</code>.</p>

<blockquote>
  <p>From mu is too short’s answer on <a href="http://stackoverflow.com/questions/8129776/rails-3-postgres-how-long-is-a-string-if-you-dont-apply-limit-in-schema">rails 3/postgres - how long is a string if you don’t apply :limit in schema</a> and <a href="http://stackoverflow.com/questions/8694273/changing-a-column-type-to-longer-strings-in-rails/8694483#8694483">Changing a column type to longer strings in rails</a></p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span></span>:string <span class="p">|</span> character varying <span class="o">(</span><span class="m">255</span><span class="o">)</span>
</span><span class="line">:text   <span class="p">|</span> text
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>There’s no reason to use <code>:string</code> (AKA <code>varchar</code>) at all, the database treats <code>text</code> and <code>varchar(n)</code> the same internally except for the extra length constraints for <code>varchar(n)</code>; you should only use <code>varchar(n)</code> (AKA <code>:string</code>) if you have an external constrain on the column size.</p>

</section>



	
	  <section class="comments">
	    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
	  </section>
	
</article>
</div>

    </div>
  </div>
  <footer class="main-footer">
	<section class="interior-footer">
    <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, and theme <a href='https://github.com/alexharris/calm-shallow-sea'>calm-shallow-sea</a>.</span>
	</section>
</footer>


  


<script type="text/javascript">
      var disqus_shortname = 'ifyouseewendy';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.ifyouseewendy.com/blog/2015/08/10/data-types-in-rails/';
        var disqus_url = 'http://blog.ifyouseewendy.com/blog/2015/08/10/data-types-in-rails/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




</body>
</html>
