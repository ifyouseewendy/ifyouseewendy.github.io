<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Wendi's Blog]]></title>
  <link href="http://blog.ifyouseewendy.com/atom.xml" rel="self"/>
  <link href="http://blog.ifyouseewendy.com/"/>
  <updated>2021-03-15T17:20:31-07:00</updated>
  <id>http://blog.ifyouseewendy.com/</id>
  <author>
    <name><![CDATA[wendi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[What I've done in 2021]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2021/01/11/what-ive-done-in-2021/"/>
    <updated>2021-01-11T15:23:20-08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2021/01/11/what-ive-done-in-2021</id>
    <content type="html"><![CDATA[<blockquote>
  <p>A weekly log on my life and personal growth</p>
</blockquote>

<h2 id="w10-0308---0314">W10 (03/08 - 03/14)</h2>

<ul>
  <li>å‘¨ä¸­è§è¯äº†æˆ‘æ–‡3ï¼š2æ³¢å°”å›¾å†ä¸€æ¬¡æ¬§å† å‡ºå±€ï¼Œå·²ç»æœ‰ç‚¹ä¹ æƒ¯äº†ï¼Œæ¯ä¸€å¹´éƒ½æœ‰å¿ƒç¢çš„ä¸€å¤©ï¼Œåªæ˜¯è¿™ä¸¤å¹´æ¯”ä»¥å¾€æ—¶å€™æ¥çš„æ™šä¸€äº›ã€‚è¸¢æˆè¿™ä¸ªbæ ·ï¼Œå³ä½¿æ™‹çº§äº†æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿé—®é¢˜æ˜¯é‚£ä¹ˆçš„çªå‡ºï¼Œåœºé¢æ˜¯é‚£ä¹ˆçš„éš¾çœ‹ï¼Œæˆ‘éƒ½ä½©æœè‡ªå·±ä¸€å¹´å¹´é™ªè·‘ï¼Œåˆ°åº•ä¸ºäº†å•¥å‘¢ï¼Ÿåªèƒ½è¯´æˆ‘ä¸€ç›´åšä¿¡ä¸ç»å†ä½è°·ï¼Œæœ‰ä¸€å¤©èµ¢äº†ä¹Ÿä¸ä¼šé‚£ä¹ˆå¼€å¿ƒå§ã€‚çœ‹çƒå·²ç„¶æˆä¸ºæˆ‘ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘æ²¡æŒ‡æœ›å¿ƒçˆ±çš„çƒé˜Ÿä¸€å®šè¦ç«™åœ¨æ¬§æ´²ä¹‹å·…ï¼Œåªæ˜¯å¥¢æœ›æ¯å‘¨èƒ½æœ‰äº›è®¸ç²¾å½©ä¸è¿›æ­¥å§ã€‚</li>
  <li>è¿™ä¸¤å‘¨å‘¨æœ«å¼€å§‹å’Œå•ç¥ã€æ­¦ç¥æ StarCraft2ï¼Œä½œä¸º OpenRA çš„æå‡ç‰ˆç©ã€‚æœ¬æ¥è¯¥é«˜ä¸­å¤§å­¦ä¸€å¤´æ‰è¿›å»ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ï¼Œç°åœ¨ä½œä¸ºæ¶ˆé£ä¸äº¦ä¹ä¹ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»å°è¯•äº†æ¸”äººçš„çƒ¤çŒªè¹„ï¼Œä¹Ÿéå¸¸ä¸é”™ï¼›å‘¨å…­çš„ #movie-night å’Œå–œç¦ä¸€èµ·çœ‹äº†<a href="https://movie.douban.com/subject/24733428/">å¿ƒçµå¥‡æ—…</a>ï¼Œè¿™éƒ¨åŠ¨ç”»ç‰‡çœŸæ˜¯ç»™å¤§äººçœ‹çš„ï¼Œå› ä¸ºæ¯ä¸ªå°æœ‹å‹å…œé‡Œéƒ½æœ‰è‡ªå·±çš„å°è½å¶å§ã€‚æˆ‘å–œæ¬¢å®ƒæé†’å¤§å®¶å…³æ³¨å½“ä¸‹ï¼Œçæƒœäº«å—ç”Ÿæ´»çš„ç‚¹æ»´ï¼Œä½†æ˜¯å¦‚ä½•åˆ°é‚£é‡Œå‘¢ï¼Ÿå‡ ä¹é¿è€Œä¸è°ˆï¼Œå¥½åƒåªè¦æœ›å‘å¤©ç©ºå°±èƒ½çœ‹åˆ°è½å¶ï¼Œçå¤§çœ¼ç›å°±èƒ½çœ‹è§ç¾å¥½ã€‚ç„¶è€Œï¼Œå¹¶ä¸æ˜¯ã€‚è½å¶ä¸€ç›´éƒ½åœ¨ï¼Œæˆ‘ä»¬çœ‹ä¸åˆ°ï¼Œå³ä½¿çœ‹åˆ°äº†ä¹Ÿæ„Ÿå—ä¸åˆ°ã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼Œæ‰€æœ‰ä¸æ·±å…¥çš„æ¢è®¨éƒ½äº§ç”Ÿæ›´å¤§çš„è¯¯å¯¼ï¼Œå°¤å…¶ä¸€ç›´å’Œä¸»è§’çš„è¿½é€æ¢¦æƒ³åšå¯¹æ¯”ï¼Œå®ƒç»™äººä»¬æä¾›äº†ä¸€ç§é”™è§‰ï¼Œå¥½åƒåº”è¯¥æ”¾å¼ƒæ¢¦æƒ³ï¼Œæ´»åœ¨å½“ä¸‹å°±å¥½äº†ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/1732250/">æ‚‰è¾¾å¤š</a>ï¼Œç¬¬ä¸€æ¬¡é˜…è¯»è‹±æ–‡è€Œæ„Ÿå—åˆ°æ–‡å­—ä¹‹ç¾ã€‚æƒ³èµ·åˆä¸­åœ¨å­¦æ ¡å‚åŠ ç«èµ›ï¼ŒèƒŒè¯µå„ç§åè‘—çš„ä½œè€…å’Œåå­—ï¼Œç¬¬ä¸€æ¬¡çŸ¥é“è¿™æœ¬å¥‡æ€ªåå­—çš„ä¹¦ä»¥åŠå®ƒçš„æ•…äº‹æ¢—æ¦‚ï¼šä¸€ä¸ªå¯Œå®¶å­å¼Ÿç¦»ç»å›é“ä¿®ä»™æˆä½›ã€‚å½“æ—¶å®Œå…¨æ²¡æœ‰ä»»ä½•å»äº†è§£çš„æ¬²æœ›ï¼Œè¢«åº”è¯•æ•™è‚²åˆ¤äº†æ­»åˆ‘ï¼Œæ‰€æœ‰å…´è¶£éƒ½è¢«å…³åœ¨æ°´æ™¶æ£ºæï¼Œæˆ‘è¢«é¢†è¿›å»çœ‹äº†ä¸€çœ¼æ¨ä¸å¾—èµ¶å¿«ç¦»å¼€ã€‚æƒ³ä¸åˆ°è¿™ä¹ˆå¤šå¹´è¿‡å»ï¼Œæˆ‘è®¤çœŸåœ°è¯»å®Œï¼Œå¿ƒä¸­æ·±æ·±åœ°æ„ŸåŠ¨ï¼Œä¸æ­¢æ˜¯ä»–çš„ç»å†ï¼Œè¿˜æœ‰èƒŒåä¸€æ•´å¥—è€äººå¯»å‘³çš„æ€è€ƒã€‚#weekly-read</li>
  <li>å‘¨æœ«èŠ±äº†ä¸€æ•´å¤©æ—¶é—´æŠŠé˜³å°çš„å®¶å…·éƒ½å¸ƒç½®å¥½äº†ï¼Œå¤©æ°”æ¸æš–ï¼ŒæœŸå¾…ç¾å¥½çš„æ˜¥å¤©ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w10-collage.jpg" alt="w10-collage" /></p>

<h2 id="w9-0301---0307">W9 (03/01 - 03/07)</h2>

<ul>
  <li>è¿™å‘¨çš„å·¥ä½œå¾ˆè¿‡ç˜¾ï¼Œæ¨è¿›äº†å¾ˆå¤šäº‹æƒ…ï¼Œåšäº†ä¸¤ä¸ªæœˆçš„ guest serialization ç»ˆäºè¦æ”¶å®˜äº†ã€‚</li>
  <li>å‘¨å››çš„ #date-night åˆå»äº†<a href="https://goo.gl/maps/f651UCmUTq56Hyri8">ä¸€å“å·èœ</a>ï¼Œå°è¯•äº›ä¸Šå‘¨æƒ³åƒæ²¡åƒåˆ°çš„ğŸ˜‹ã€‚å‘¨å…­çš„ #movie-night çœ‹äº†å–œç¦çš„åƒçºï¼Œ<a href="https://movie.douban.com/subject/35096844/">é€ä½ ä¸€æœµå°çº¢èŠ±</a>ï¼Œmehï¼ŒæŠ«ç€è‚¿ç˜¤å¤–è¡£çš„é’æ˜¥çˆ±æƒ…ç‰‡ã€‚å‘¨ä¸­çš„é—²æš‡çœ‹å®Œäº† <a href="https://movie.douban.com/subject/35192377/">The Playbook</a>ï¼Œå¯¹å‡ ä¸ªä¸åŒä½“è‚²é¡¹ç›®é‡‘ç‰Œæ•™ç»ƒçš„é‡‡è®¿ï¼Œå¾ˆæœ‰è¶£ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/26896878/">åˆ€é”‹</a>ã€‚æˆ‘å¥½å–œæ¬¢æ¯›å§†çš„æ–‡å­—ï¼Œåƒå‰ƒåˆ€è¾¹ç¼˜èˆ¬é”‹åˆ©ï¼Œå°–é…¸åˆ»è–„ï¼Œæœ‰æ—¶ä½ åˆä¸å¾—ä¸æ‰¿è®¤è¢«åˆ‡ä¸­è¦å®³ã€‚ä»–ç¬”ä¸‹çš„ä¸»è§’æ€»æ˜¯è¶…å‡¡è„±ä¿—ï¼Œå¸¦æœ‰ä¸€ä¸ä»™æ°”æˆ–è€…å¼‚äºå¸¸äººçš„å‹‡æ°”ï¼Œçœ‹å®Œå¿ƒä¸­å…ä¸äº†ä¸€ä¸å‘å¾€ä¸å†²åŠ¨ã€‚æ—¢ç„¶è¿™éƒ¨æ˜¯ä»–ç”Ÿæ¶¯åæœŸçš„ä½œå“ï¼Œæˆ‘æœ‰ç†ç”±ç›¸ä¿¡ä¸œæ–¹å“²å­¦ï¼Œæ‚‰è¾¾å¤šå¼çš„æµæµªä¸é†’æ‚Ÿï¼Œæ˜¯ä»–è®¤ä¸ºäººç”Ÿçš„å‡ºè·¯ã€‚#weekly-read
    <ul>
      <li>â€œè¿™å›ç­”è®©æˆ‘æ„Ÿåˆ°äº›è®¸ä¸å®‰ã€‚åœ¨å¦‚æ­¤é™ˆè®¾ç²¾ç¾ã€æŒ‚ç€åç”»çš„æˆ¿é—´é‡Œï¼Œè¿™å¥è¯å°±åƒæ˜¯æ¼«è¿‡æµ´ç¼¸çš„æ°´ï¼Œåœ¨æ¸—é€å¤©èŠ±æ¿åï¼Œæ»´ç­”ä¸€å£°è½äº†ä¸‹æ¥ã€‚â€</li>
      <li>â€œä»–æ²¡æœ‰æŠ±è´Ÿä¸”æ·¡æ³Šååˆ©ï¼Œå‡ºååªä¼šè®©ä»–å€’å°½èƒƒå£ï¼Œå› æ­¤å¯èƒ½æ»¡è¶³äºè¿‡è‡ªå·±é€‰æ‹©çš„ç”Ÿæ´»ï¼Œå¿ äºè‡ªå·±ã€‚ä»–ä¸ºäººå¤ªè¿‡è°¦è™šï¼Œä¸æ„¿å½“åˆ«äººçš„æ¦œæ ·ã€‚ä¸è¿‡ä»–ä¹Ÿè®¸è®¤ä¸ºï¼Œç»ˆç©¶ä¼šæœ‰æŸäº›äººå—ä»–å¸å¼•å‰æ¥ï¼Œå®›å¦‚é£è›¾æ‰‘ç«ï¼Œå…±äº«é‚£æ¸©æš–åˆå¸¦ç€å…‰äº®çš„ä¿¡å¿µï¼Œç›¸ä¿¡äººç”Ÿæœ€å¤§çš„æ»¡è¶³åœ¨äºç²¾ç¥ç”Ÿæ´»ã€‚ä»–ä¹Ÿè®¸è§‰å¾—ï¼Œåªè¦æ— æˆ‘å’Œæ— æ±‚ï¼Œåœ¨è‡ªæˆ‘å®ç°çš„é“è·¯ä¸Šè¸½è¸½ç‹¬è¡Œï¼Œè´¡çŒ®ä¹Ÿä¸äºšäºè‘—ä¹¦ç«‹è¯´æˆ–æ•™è¯²ä¸–äººã€‚â€</li>
    </ul>
  </li>
  <li>å‘¨æœ«æ— èŠèººåœ¨æ²™å‘ä¸Šåˆ·åˆ°è¿™ä¸¤ä¸ªè§†é¢‘ <a href="https://www.youtube.com/watch?v=kE7D7qFayVg">Greatest Sports Moments</a> &amp; <a href="https://www.youtube.com/watch?v=v3m_DlYSJOA">Greatest World Records in Sport History</a>ï¼Œæ˜¯å…³äºä¸€äº›ä½“è‚²èµ›äº‹çš„ç»å…¸ç¬é—´ã€‚ä¹‹å‰å½“ç„¶æœ‰çœ‹è¿‡ç±»ä¼¼çš„ï¼Œä½†æ˜¯è¿™æ¬¡ä¸çŸ¥æ€ä¹ˆè¢«æ„ŸåŠ¨åˆ°å“­ã€‚åœ¨é‚£äº›å¥‡è¿¹å½“ä¸­ï¼Œæˆ‘æ„Ÿå—åˆ°äº†ç¾ï¼Œé‚£äº›å¥”è·‘çš„èº¯ä½“ï¼Œç¬é—´çˆ†å‘çš„èƒ½é‡ï¼Œå¯¹èº«ä½“æé™çš„æ‹¼æä¸è¿½é€ã€‚å…¶ä¸­æœ‰ä¸€åœºå†æ—¶æœ€ä¹…ï¼ˆåä¸€å°æ—¶ï¼‰çš„ç½‘çƒæ¯”èµ›ï¼Œåœ¨æ¸©ç½‘çš„é•¿ç›˜å†³èƒœä¸­ Isner 70:68 æˆ˜èƒœ Mahutã€‚èµ›åä¿©äººç­‹ç–²åŠ›ç«­çš„ç«™åœ¨æ¯”åˆ†æ¿åˆç…§ï¼ŒIsner è‡ªç„¶æµéœ²ç€å–œæ‚¦ï¼Œè€Œæˆ‘æœ€éš¾å¿˜ Mahut çš„è¡¨æƒ…ï¼Œé‚£ç§æ— å¥ˆï¼Œæ˜¯ä¸Šå¸å¯¹ä¸€ä¸ªäººæœ€æ®‹é…·çš„ç©ç¬‘ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w9-collage.jpg" alt="w9-collage" /></p>

<h2 id="w8-0222---0228">W8 (02/22 - 02/28)</h2>

<ul>
  <li>åˆšåˆšæ„è¯†åˆ°äºŒæœˆä»½è¿™ä¹ˆå¿«å°±è¿‡å»äº†ã€‚å·¥ä½œä¸Šç»§ç»­å¾ˆæŠ•å…¥ï¼Œæ•ˆç‡ä¸é”™ã€‚å‘¨ä¸­å¾—çŸ¥è¦å¥½çš„åŒäº‹ç¦»èŒï¼Œä¸€èµ·è§†é¢‘èŠå¤©ã€‚ä»–çš„ç¦»èŒç†ç”±æ˜¯ï¼Œé€€ä¼‘ã€‚ä¸ºä»–å¼€å¿ƒï¼Œä¹Ÿä¸ºè‡ªå·±å¿§æ„ä»€ä¹ˆæ—¶å€™èƒ½å®Œå…¨è‡ªç”±ã€‚æˆ‘ä¸è®¨åŒå·¥ä½œï¼Œäº‹å®ä¸Šæˆ‘å¯¹å·¥ä½œçš„å–œçˆ±æ¯”åŒçƒ¦æ›´å¤šï¼Œä½†æ˜¯æ¥è‡ªå·¥ä½œçš„å‹åŠ›æ˜¯æ½œç§»é»˜åŒ–çš„ï¼Œå°±åƒå¾ˆæ˜æ˜¾å‘¨æœ«çš„ç¡çœ è´¨é‡ä¼šæ›´å¥½ã€‚æƒ³æ¥æƒ³å»ï¼Œå¯¹äºç°çŠ¶æˆ‘è¿˜æ˜¯éå¸¸çŸ¥è¶³çš„ã€‚è®¾æƒ³å¦‚æœçœŸçš„èƒ½å¤Ÿé€€ä¼‘ï¼Œæˆ–è€…éœ€è¦ä¸€äº›è¿æ°”ï¼Œæˆ–è€…éœ€è¦è‡ªå·±èƒ½å¯¹ç”Ÿæ´»æœ‰æ›´å¤šçš„è®¤è¯†ï¼Œæ‘†è„±æ›´å¤šç‰©è´¨çš„éœ€æ±‚ã€‚</li>
  <li>å‘¨äº”ä¼‘æ¯å»æ»‘é›ªï¼Œè¿™ä¸ªå†¬å¤©ç¬¬äº”æ¬¡ï¼Œæ•´ä½“æ„Ÿå—æ˜æ˜¾åœ¨å˜å¥½ã€‚æ¥ä¹‹å‰å‡†å¤‡äº†ä¸€äº›è§†é¢‘å­¦ä¹ ï¼Œä½†æ˜¯ç”¨å¤„ä¸å¤§ï¼Œä¸‹æ¬¡å¯ä»¥æ‰¾ä¸ªæ•™ç»ƒå¸®å¿™æŒ‡ç‚¹è¿·æ´¥ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†å°ç™½å…¬ç‘¾æ¨èçš„<a href="https://goo.gl/maps/f651UCmUTq56Hyri8">ä¸€å“å·èœ</a>ï¼Œåä¸è™šä¼ ï¼Œæˆ‘å’Œå–œç¦å¹²æ‰äº†å››ç›˜èœï¼Œåƒç›¸æœ‰ç‚¹éš¾çœ‹ã€‚å‘¨å…­çš„ #movie-night ä¸€èµ·çœ‹äº†<a href="https://movie.douban.com/subject/35068230/">å‰ç¥¥å¦‚æ„</a>ã€‚è™½ç„¶æ˜¯è®°å½•æˆ‘çš„å®¶ä¹¡å‰æ—ï¼Œä½†æ˜¯æ„Ÿå—ä¸å¤§ï¼Œé™¤äº†å•çº¯çš„è®°å½•ï¼Œæˆ‘è§‰ç€å¯¼æ¼”ä»€ä¹ˆéƒ½æ²¡è¯´ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/1022238/">èŠä¸åˆ€</a>ï¼Œä½œä¸ºä¸€ä¸ªä¸­å›½äººè§‚æ‘©æ—¥æœ¬æ–‡åŒ–çš„æœ‰è¶£ä¹‹å¤„åœ¨äºï¼Œé‚£äº›å±äºæ—¥æœ¬çš„ç‰¹ç«‹ç‹¬è¡Œæˆ‘ä»¬éƒ½æ¸…æ¥šä¹Ÿç†è§£å®ƒçš„æºå¤´ï¼Œå°±åƒæ—¥æœ¬æ±‰å­—ä¸€æ ·ï¼Œæˆ‘ä»¬èƒ½çŒœä½†æ˜¯å¾€å¾€getä¸åˆ°é‚£è¿‘ä¼¼åˆå¾®å¦™çš„åŒºåˆ«ï¼›<a href="https://book.douban.com/subject/34840201/">ä½ çš„å­©å­ä¸æ˜¯ä½ çš„å­©å­</a>ï¼Œå†™çš„çœŸå¥½ï¼Œä¸€ç¯‡ç¯‡ç®€å•çš„æ–‡å­—é“å°½æ•™è‚²ææ€–ä¸»ä¹‰ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w8-collage.jpg" alt="w8-collage" /></p>

<h2 id="w7-0215---0221">W7 (02/15 - 02/21)</h2>

<ul>
  <li>æ˜¥èŠ‚å‡æœŸå›æ¥ï¼Œæœ‰ç‚¹æ€…ç„¶è‹¥å¤±ã€‚å€’ä¸æ˜¯ä¸æƒ³å·¥ä½œï¼Œåªæ˜¯å’Œå›½å†…æœ‹å‹å¯†é›†æ¥è§¦ï¼Œå¿ƒä¹Ÿé£äº†å›å»ã€‚èŠ±äº†ä¸€å¤©æ—¶é—´è°ƒæ•´ï¼Œå¾ˆå¿«åˆè®©ç”Ÿæ´»å›åˆ°æ­£è½¨ï¼Œå…¶å®æœ€æœ‰æ•ˆçš„åŠæ³•å°±æ˜¯æ¯å¤©å…­ç‚¹åŠæŠŠè‡ªå·±å¼ºè¡Œæ‹½èµ·æ¥ï¼Œè¿è½¬èµ·æ¥å°±å¥½äº†ã€‚</li>
  <li>å‘¨ä¸‰çœ‹äº†æˆ‘æ–‡æ¬§å† å…«åˆ†ä¹‹ä¸€æ·˜æ±°èµ›ç¬¬ä¸€å›åˆ1:2æ³¢å°”å›¾çš„æ¯”èµ›ï¼Œâ€‹ğŸ’©â€‹æ„æµ“ï¼Œæˆ‘æ˜¯è¯¥ä¹ æƒ¯å‘¢è¿˜æ˜¯è¯¥ä¹ æƒ¯å‘¢ã€‚è¿™èµ›å­£è‡³ä»Šæœ€è®©äººæ— æ³•æ¥å—çš„ä¸‰åœºæ¯”èµ›ï¼Œè¾“å·´è¨ã€å›½ç±³ã€æ³¢å°”å›¾ã€‚å®Œå…¨ä¸æ˜¯å› ä¸ºæ¯”åˆ†ï¼Œè€Œæ˜¯æ¯«æ— ç« æ³•ï¼Œæˆ‘å·²ç»ä¼´éšç€é™ä½é¢„æœŸäº†ï¼Œå¯è¿˜æ˜¯æ¥ä¸ä½å„ç§æ— è„‘çš„è¡¨ç°ã€‚</li>
  <li>å‘¨ä¸­ç¡®è®¤äº†ï¼Œè¿™ä¸€ä¸¤å¹´æ— åº•çº¿å€Ÿé’±çš„å¥½æœ‹å‹æ˜¯å› ä¸ºèµŒåšã€‚äº‹æƒ…çƒ‚åˆ°ä»Šå¤©çš„åœ°æ­¥ï¼Œå…¶å®æ—©å°±æ²¡äº†ä»»ä½•æŒ½æ•‘çš„åŠæ³•ã€‚ä½ ä»¥ä¸ºæ‹¼ä¸Šäº†åº•çº¿ä¼šæœ‰ä¸€çº¿ç”Ÿæœºï¼Œä½†ç°å®æ˜¯ä½ æ•¢æŠŠåº•çº¿æ”¾å¤šä½ï¼Œæœ€åå°±æœ‰å¤šæƒ¨ã€‚æˆ‘å·²ç»å¾ˆåŠªåŠ›å»è¯•ç€ç†è§£ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰ä¹‰åŠ¡å†å»å¸®åŠ©ï¼Œæˆ‘çš„æ„æ„¿ä¹Ÿæ—©è¢«è¿™ä¸¤å¹´çš„æ¬ºéª—è€—å…‰ã€‚æ‰€ä»¥ï¼Œpeaceï¼Œåä¼šæ— æœŸã€‚</li>
  <li>å‘¨æœ«çˆ±ç³æ¥å®¶é‡Œè¿‡å‘¨æœ«ï¼Œå°ç™½å’Œå…¬ç‘¾ä¹Ÿæ¥åšå®¢ï¼Œå–œç¦åšäº†ä¸€å¤§æ¡Œå­èœï¼Œå¤§å®¶ä¸€èµ·é—²èŠæ‰¯æ·¡ï¼Œå•ƒç€æ²¹å…‰é”ƒäº®çš„çƒ¤ç‰›å°¾ï¼Œæ„‰å¿«çš„æµªè´¹æ—¶å…‰ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº† <a href="https://goo.gl/maps/cdpyMfipXSJqFJqW8">Smoking Pig</a>ï¼Œæˆ‘å¯¹æ‹‰é¢çš„å®šä¹‰æ—©å°±è¢« <a href="https://goo.gl/maps/KUMXY4ziqBhiF9oL9">Marutama</a> æ‹‰åˆ°äº†å¤©é™…ï¼Œæ‰€ä»¥è¿™å®¶åªèƒ½ç®—æ˜¯å®¶é™„è¿‘è¿˜ä¸é”™çš„ä¸€å®¶ã€‚å‘¨å…­çš„ #movie-night ä¸€èµ·çœ‹äº†<a href="https://movie.douban.com/subject/1947270/">å¤©ç‹—</a>ï¼Œè¯´æ¥æœ‰è¶£ç«Ÿæ˜¯ä¸€éƒ¨è®²é€€ä¼å†›äººçš„ç”µå½±ï¼Œå½“ç„¶æ›´å¤šæ˜¯æƒ…èŠ‚éœ€è¦ï¼Œä¸€ä¸ªåˆšæ­£ä¸é˜¿çš„å­˜åœ¨å’Œå‘å±•ä¸­çš„ç‰¹è‰²ç¤¾ä¼šçš„æ¿€çƒˆå¯¹æ’ã€‚æˆ‘å…¶å®æ›´æ„¿æ„æŠŠä¸»è§’æƒ³è±¡æˆæ‘æ°‘å’Œæ‰€æœ‰æ‘æ°‘ï¼Œä»–ä»¬æ‰æ˜¯çœŸæ­£çš„å¤§å¤šæ•°å•Šã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯å¤§æ®·å“¥å¿µå…¹åœ¨å…¹çš„<a href="https://book.douban.com/subject/27172839/">è‹è²çš„ä¸–ç•Œ</a>ï¼Œå¤§å­¦æ—¶å€™çœ‹äº†<a href="https://movie.douban.com/subject/1293077/">è‹è²çš„æŠ‰æ‹©</a>å°±ä¸€ç›´ä»¥ä¸ºæ˜¯è¿™æœ¬ä¹¦çš„ç”µå½±ç‰ˆï¼Œç›´åˆ°æˆ‘å¼€å§‹çœ‹è¿˜åœ¨ç”¨æ–¯ç‰¹é‡Œæ™®æƒ³è±¡è‹è²ï¼Œå½“ç„¶äº†çœ‹è¿‡å¼€å¤´å°±çŸ¥é“å®Œå…¨å¯¹ä¸ä¸Šå‘€ :man_facepalming: è¿™æœ¬å“²å­¦ç§‘æ™®ä¹¦çš„ç¡®å†™å‡ºäº†æ–°é«˜åº¦ï¼Œç«Ÿç„¶ç”¨ç”»ä¸­ç”»çš„æ–¹å¼å¥—å¨ƒäº†ä¸‰å±‚è§†è§’ï¼Œå¾ˆå¥½åœ°éšå–»äº†å“²å­¦ä¸­å…³äºä¸ªäººæ„å¿—å…³äºä¸Šå¸çš„ç»ˆæè®®é¢˜ã€‚è¯´å®è¯ï¼Œæˆ‘å¹¶ä¸è§‰å¾—å…¶ä¸­å…³äºå“²å­¦æ¦‚å¿µçš„ä»‹ç»è¶³å¤Ÿæœ‰ç« æ³•ï¼Œä½†æ˜¯å¦‚æ­¤æœ‰è¶£çš„é˜…è¯»ä½“éªŒï¼Œä¸æ•¢è¦æ±‚æ›´å¤šã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w7-collage.jpg" alt="w7-collage" /></p>

<h2 id="w6-0208---0214">W6 (02/08 - 02/14)</h2>

<ul>
  <li>ç»§ç»­è®¤çœŸæ¨è¿›å·¥ä½œï¼Œåœ¨åšçš„ guest serialization ä¹Ÿç»ˆäºè¦åˆ°å°¾å£°äº†ã€‚å½“ç„¶è¶Šåˆ°åæ¥ï¼Œå¯èƒ½é—®é¢˜è¶Šå¤šï¼Œä½†æ˜¯ä¸é‡è¦ï¼Œâ€Set up systems, not goalsâ€ï¼Œä¿æŒèŠ‚å¥å°±å¥½ã€‚</li>
  <li>å‘¨å››æ˜¯å›½å†…çš„æ˜¥èŠ‚ï¼Œæˆ‘ä»¬ç»§ç»­ç«é”…çš„ä¼ ç»Ÿã€‚å’Œçˆ¸çˆ¸å¦ˆå¦ˆè§†é¢‘ï¼Œç»™å„ä½æœ‹å‹æ‹œå¹´ã€‚è™½ç„¶è¿˜æ˜¯æœ‰ç‚¹ç¤¾äº¤ææƒ§ï¼Œä½†æ˜¯ä¸»åŠ¨ç»™æœ‹å‹å‘äº›ç¥ç¦æˆ‘ä¹ŸçœŸå¿ƒæ„Ÿåˆ°æ„‰æ‚¦ã€‚å‘¨å…­å–œç¦åŒ…äº†é¥ºå­ï¼Œæˆ‘éå¸¸è®¤çœŸåœ°åŠ æ²¹é¼“åŠ±ï¼Œç„¶åç•…å¿«å¤§åƒğŸ˜‹</li>
  <li>å‘¨äº”æˆ‘å’Œ Jeff ä¸€èµ·è¯·å‡å» Whistler å°è¯•äº†ä¸€æ¬¡ cross countryã€‚å¤©æ°”ä¸€èˆ¬èˆ¬ï¼Œä½†æ˜¯äººçƒŸç¨€å°‘ï¼Œèµ°åœ¨æ— æ¯”å®‰é™çš„å±±æ—é—´ï¼Œæœ›ç€èŒ«èŒ«ç™½é›ªå’Œè¿œå¤„çš„é›ªå±±ï¼Œç„¶åæ…¢æ…¢æŒæ¡è¿™ç§æ»‘é›ªçš„æŠ€å·§ï¼Œæœ€åä¸€èµ·æ€åˆ°é»‘é“ï¼Œå¤©é»‘äº†æ‰åŒ†å¿™èµ¶å›æ¥ï¼Œéå¸¸çˆ½ã€‚</li>
  <li>å‘¨å…­å¼€å§‹è¿™ä¸ªå†¬å¤©ç¬¬äºŒåœºé›ªï¼Œè¿ç»­ä¸‹äº†ä¸‰å¤©ï¼Œå¸¦ Nikki å»å…¬å›­å¼€å¿ƒäº†ä¸‰å¤©ã€‚è¹¦å•Šè¹¦ï¼Œåƒé›ªè¿½é›ªï¼ŒæŠŠè„‘å­æ’é›ªé‡Œã€‚è®©æˆ‘ï¼Œåœ¨é›ªåœ°ä¸Šæ’’ç‚¹é‡ã€‚</li>
  <li>æ¯å¤©æ™šä¸Šçš„æ—¥å¸¸æ˜¯å’Œå°å“¥å°é¸¡è”æœº OpenRAï¼Œç©å‡ºäº†å„ç§èŠ±æ ·ï¼Œä¸€èµ·è¿›æ­¥ä¹Ÿä¸€èµ·äº’ç›¸åˆ¶è¡¡ã€‚</li>
  <li>å‘¨å››çš„ #date-night åœ¨å®¶ç«é”…ã€‚å‘¨å…­çš„ #movie-night ä¸€èµ·çœ‹äº†<a href="https://movie.douban.com/subject/1469049/">å¤„åˆ‘äºº</a>ï¼Œæœ‰é£æ ¼ï¼Œä½†æ˜¯å½¢å¼å¤§äºå†…å®¹ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/26791320/">å†å²åŸæ¥å¯ä»¥è¿™æ ·å­¦ï¼ˆä¸€ã€äºŒï¼‰</a>ï¼Œé’å°‘å¹´å†å²è¯»ç‰©ï¼Œéå¸¸è½»æ¾æ„‰æ‚¦ï¼ŒçœŸå¸Œæœ›ä¸Šå­¦æ—¶å€™æœ‰è¿™ç§ä¹¦å¯ä»¥è¯»ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w6-collage.jpg" alt="w6-collage" /></p>

<h2 id="w5-0201---0207">W5 (02/01 - 02/07)</h2>

<ul>
  <li>è¿™å‘¨çš„å·¥ä½œèŠ‚å¥è¶…çº§æ£’ï¼Œéå¸¸ä¸“æ³¨ä¸”é«˜æ•ˆã€‚æ¯å¤©ç»“æŸå·¥ä½œç²¾ç¥ä¸Šä¼šç–²æƒ«ï¼Œä½†æ˜¯æœ‰å¾ˆå¤§æ»¡è¶³æ„Ÿã€‚è·Ÿåœ¨å®è·µ Make Time æœ‰å…³ç³»ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯ <a href="https://maketime.blog/">Make Time</a>ï¼Œå¾ˆç®€å•çš„ä¸€æœ¬ä»»åŠ¡ç®¡ç†çš„å°ä¹¦ï¼Œä¸èƒ½è¯´æœ‰ä»€ä¹ˆå¼€åˆ›æ€§çš„æƒ³æ³•ï¼Œä½†æ˜¯ä½œè€…æå‡ºäº†ä¸€å¥—ç®€å•çš„ç³»ç»Ÿï¼Œå¹¶ä¸”æœ‰å„ç§æœ‰è¶£çš„å° tip æ¥å¸®åŠ©åšæ”¹è¿›ã€‚å‡ ä¸ªå¯¹æˆ‘æ¯”è¾ƒé‡è¦çš„ç‚¹ï¼šè®¾ç«‹ highlight å¹¶å®ç°ï¼Œè®©æ¯å¤©éƒ½æœ‰æœŸç›¼ï¼›å‡å°‘æ‰‹æœºæ‰“æ‰°çš„æ ¸å¿ƒçš„åŠæ³•æ˜¯åå‘äº§å“è®¾è®¡ï¼Œè®©ä¸€åˆ‡åŠŸèƒ½å˜å¾—éš¾ç”¨ä¸€ç‚¹ç‚¹ï¼›å…³æ³¨è‡ªå·±çš„ energy levelï¼Œä¾‹å¦‚ä»€ä¹ˆæ—¶å€™åƒé›¶é£Ÿï¼Œä»€ä¹ˆæ—¶å€™æ¥æ¯å’–å•¡æœ€æœ‰æ•ˆï¼›æœ€åï¼Œå¦‚æœæƒ³é‡Šæ”¾å¤§è„‘çš„å‹åŠ›ï¼Œå¯ä»¥ä»æ”¾æ¾èº«ä½“ç€æ‰‹ã€‚#weekly-read</li>
  <li>å‘¨å››çš„ #date-night åˆå’Œå–œç¦å»åƒäº†æ¸”äººçƒ¤é±¼ï¼Œå¯èƒ½æ˜¯æ¥åˆ°æ¸©å“¥åæœ€çˆ±çš„ä¸€å®¶äº†ã€‚å‘¨å…­çš„ #movie-night é‡çœ‹äº†<a href="https://movie.douban.com/subject/1900841/">çªƒå¬é£æš´</a>ï¼Œè¿™ä¸ªç»“å°¾æ€»æ˜¯è®©æˆ‘å°è±¡æ·±åˆ»ã€‚</li>
  <li>è¿™å‘¨çš„æ’­å®¢å¬åˆ°äº†ä¹…è¿çš„å¼€å¿ƒå†…å®¹ï¼šALL THE SMOKE é‡‡è®¿ <a href="https://podcasts.apple.com/us/podcast/kendrick-perkins-ep-69-all-smoke-full-episode-showtime/id1483638752?i=1000506915099">Kendrick Perkins (ep 69)</a> å’Œ <a href="https://podcasts.apple.com/us/podcast/doc-rivers-ep-70-all-smoke-full-episode-showtime-basketball/id1483638752?i=1000507759379">Doc Rivers (ep 70)</a>ã€‚çƒå‘˜å’Œæ•™ç»ƒæ€»æ˜¯æœ‰æœ€çœŸåˆ‡çš„è§’åº¦ï¼Œé˜é‡Šæ¯”èµ›å’Œå›å¿†å†å²ã€‚ä½•å†µè¿™ä¸¤ä½éƒ½å¾ˆæœ‰è¯­è¨€é­…åŠ›ã€‚Doc è‡ªä¸å¿…è¯´ï¼Œå›é¡¾ç»¿å†›ä¸‰å·¨å¤´ä»¥åŠåæ¥å¿«èˆ¹æ—¶æœŸè®²äº†å„ç§è¶£é—»ï¼Œç­‰åˆ° Perkins ç€å®è®©æˆ‘ç†è§£ä¸ºä»€ä¹ˆä»–é€€å½¹ä¹‹ååšäº†åª’ä½“äººã€‚è®©æˆ‘æœ€å–œçˆ±çš„æ˜¯çœ‹åˆ°ä¸€ä¸ªå®Œå…¨åœ¨æˆ‘ç»éªŒä¸æƒ³è±¡å¤–çš„äººã€‚ä»–ä¹Ÿå°±è¯´äº†ä¸€ç™¾æ¥æ¬¡ mother fucker å§ï¼Œæˆ‘å¼€å§‹è„‘å­ç”»é—®å·ï¼Œåæ¥å°±å®Œå…¨ç¬‘å´©ã€‚</li>
  <li>å‘¨äº”ä¸‹åˆç¿˜ç­å»æ»‘é›ªï¼Œç»ˆäºä¸åƒå‰ä¸¤æ¬¡é‚£ä¹ˆæç«¯å¤©æ°”äº†ï¼Œä¹Ÿå¾ˆå¿«æ‰¾å›äº†æ»‘é›ªçš„ä¹è¶£ã€‚ç¼†è½¦ä¸Šè·Ÿä¸€ä¸ªå“¥ä»¬é‡åˆ°ä¸¤æ¬¡ï¼Œä»–è¯´è¦å¸¦æˆ‘ä½“éªŒä¸€ä¸ªä¸é”™çš„è·¯çº¿ï¼Œç„¶åæŒ‡ç€é™¡å¡ä¸Šçš„ä¸€ç‰‡é›ªåŒ…è¯´ä»–åœ¨ç»ƒä¹ è¿™ä¸ªï¼Œè¦æˆ‘è·Ÿç€ä¸€èµ·ã€‚æˆ‘çœ‹ä»–åŠå¤©æ²¡åŠ¨ï¼Œå°±è¯´â€œæˆ‘å…ˆæ¥å§â€ã€‚å¼€å§‹æ—¶å€™æˆ‘ç¨³æ‰ç¨³æ‰“è¡¨ç°ä¸é”™ï¼Œä½†æ˜¯çªç„¶ä¸çŸ¥é“å“ªä¸ªé›ªåŒ…å¥½åƒä¼¸äº†ä¸€ä¸‹æ‰‹ï¼ŒæŠŠæˆ‘çš„é›ªæ¿æ‹½äº†ä¸‹æ¥ï¼Œæˆ‘ä¹Ÿè¢«è¿™è‚¡åŠ›é‡æ¨ä¸Šäº†å¤©ï¼Œç©ºä¸­ç¿»äº†ä¸ªç­‹æ–—ï¼Œç¨³ç¨³åœ°èƒ¸éƒ¨ç€åœ° ğŸ’¯ã€‚æˆ‘ä¹Ÿæ²¡å‡†å¤‡ç«™èµ·æ¥ï¼Œå°±è¿™æ ·ï¼Œå¤´æœä¸‹æ…¢æ…¢åœ¨é›ªé“ä¸Šé©°éª‹ã€‚æ€ä¹ˆè¯´å‘¢ï¼Œè¶…çº§å¼€å¿ƒçš„ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w5-collage.jpg" alt="w5-collage" /></p>

<h2 id="w4-0125---0131">W4 (01/25 - 01/31)</h2>

<ul>
  <li>å·¥ä½œå¾ˆé¡ºåˆ©ï¼Œåšäº†ä¸€ä¸ªæ–°çš„ msgpack prototypeï¼Œç»™å¤§å®¶å±•ç¤ºéƒ½è§‰ç€æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸‹é¢å°±æ˜¯ä¸€ç‚¹ç‚¹å®Œå–„æœ€ç»ˆå®ç°å‡ºæ¥ã€‚</li>
  <li>æœ€è¿‘åœ¨è”ç³» PWL åš financial planning/investmentï¼Œå‘¨æœ«ç»ˆäºæŠŠå»å¹´çš„èŠ±é”€ç»Ÿè®¡å¥½ï¼Œå’Œå–œç¦ç®€å•åšäº†äº›è®¡åˆ’ã€‚</li>
  <li>å‘¨æœ«å’Œå°å“¥ã€å°é¸¡å’Œå¤§åè¿æˆ˜äº†ä¸‰å¤© OpenRAï¼ŒEurope æ‰“å¾—ä¸äº¦ä¹ä¹ã€‚</li>
  <li>å‘¨å››çš„ #date-night å’Œå–œç¦å»åƒäº†<a href="https://goo.gl/maps/kAAS4y976qiKR9BV9">äº¬é—¨æ¶®è‚‰</a>ï¼Œéå¸¸èµï¼›å‘¨å…­çš„ #movie-night ä¸€èµ·çœ‹äº† <a href="https://movie.douban.com/subject/1293821/">Heathers</a>ï¼Œæœ¬æ¥ä»¥ä¸ºæ˜¯è½»æ¾çš„é’æ˜¥ç”µå½±ï¼Œä½†æ˜¯æ…¢æ…¢å‘ç°æ‰€æœ‰äººéƒ½å¾ˆæ€ªï¼Œé€æ¸å°±æ‹æˆäº†é»‘è‰² cult ç‰‡ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/34855123/">å†å²åŸæ¥å¯ä»¥è¿™æ ·å­¦ï¼ˆä¸‰ã€å››ï¼‰</a>ï¼Œè¿˜æ˜¯æ—æ–°æµ©çš„ç§‘æ™®è¯»ç‰©ï¼Œå¯¹æˆ‘è¿™ç§å†å²ç›²äººæ¥è®²çœ‹åˆ°äº†å…‰æ˜ä¸æ„‰æ‚¦ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w4-collage.jpg" alt="w4-collage" /></p>

<h2 id="w3-0118---0124">W3 (01/18 - 01/24)</h2>

<ul>
  <li>åšäº†ä¸¤ä¸ªç¤¼æ‹œçš„é¡¹ç›®ï¼Œç»ˆäºåœ¨è¿™å‘¨å¯ä»¥æ”¶å°¾ã€‚æœ€è¿‘åœ¨çº ç»“æ˜¯åº”è¯¥è¿½æ±‚æ›´è‡ªç”±çš„å·¥ä½œæ–¹å¼æ›´æœ‰çºªå¾‹ã€‚è‡ªç”±çš„å¥½å¤„æ˜¯ï¼Œçœ‹å¤©åƒé¥­ï¼Œç”¨â€œæƒ³â€å­—æ¥åšå†³å®šï¼Œåå¤„ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§ï¼Œåˆ°äº†æ™šä¸Šè¿˜åœ¨é—®è‡ªå·±æ˜¯å¦å®Œæˆäº†å·¥ä½œï¼›è€Œä¿æŒçºªå¾‹å‘¢ï¼Œä¼šæœ‰å›°é¡¿ç€å·¥ä½œçš„æ—¶å€™ï¼Œä½†ä¹Ÿä¼šæœ‰æ›´ç¨³å®šçš„äº§å‡ºï¼Œå°¤å…¶å›ºå®šæ—¶é—´ä¸‹ç­å°±ä¸éœ€è¦å†å»çº ç»“ã€‚æˆ‘ä¸ªäººçš„ç»éªŒç»å¸¸æ‘‡æ‘†ï¼Œç›®å‰æ¥çœ‹æœ€å¥½çš„åšæ³•æ˜¯å°Šé‡çºªå¾‹ï¼Œé€‚å½“ç»™äºˆè‡ªå·±çµæ´»ã€‚å¦å¤–ï¼Œè¿™å‘¨èŠ±äº†å¥½å¤šç²¾åŠ›åœ¨å’Œç»„é•¿å¯¹çº¿ï¼Œå…³äºåŠ è–ªå’Œæ›´æ–°è‚¡ç¥¨ï¼Œå¸Œæœ›ä¸‹å‘¨ä¼šæœ‰å¥½ç»“æœã€‚</li>
  <li>å‘¨ä¸‰å¸¦å–œç¦å»äº†ç¬¬ä¸€æ¬¡Bè¶…ï¼Œæœ¬æ¥æœŸæœ›çš„å¤šèƒèƒè®¡åˆ’è½ç©ºäº† ğŸ™ƒã€‚ä½†æ˜¯è¿™ä¸ªå°å®å®ä¹Ÿå¾ˆå¯çˆ±ï¼Œå–œç¦è¯´å¥¹ä¸€ç›´å¼ ç‰™èˆçˆªï¼Œ161ä¸‹æ¯åˆ†é’Ÿçš„å¿ƒè·³ï¼Œä½ æ˜¯æœ‰å¤šç€æ€¥é•¿å¤§ï¼Ÿ</li>
  <li>å‘¨æœ«ç»§ç»­å’Œå°é¸¡å’Œå°å“¥ OpenRAï¼Œä»ä¸Šå‘¨çš„ä¸‰å®¶å¹³ä¸‰å®¶å†·é…·ï¼Œåˆ°æœ€åä¸€æŠŠå¹³äº†ä¹å®¶å†·é…·ï¼Œå¼€å¿ƒå•Šã€‚</li>
  <li>è¿™å‘¨æ–­æ–­ç»­ç»­åˆ°äº†å¾ˆå¤šå®¶å…·ï¼Œå‘¨å…­èŠ±äº†ä¸€æ•´å¤©æŠŠæ¥¼ä¸Šçš„ä¹¦æ¶ï¼Œé˜…è¯»è§’ï¼Œæ¥¼ä¸‹çš„æ²™å‘ã€å½±éŸ³å®¤å…¨éƒ¨å¼„å¥½ã€‚ç»ˆäºå¿«ç»“æŸåŠå¹´çš„æŠ˜è…¾ï¼Œå¯ä»¥å®‰å¿ƒäº«å—äº†ã€‚</li>
  <li>å‘¨å››çš„ #date-night å’ŒJeffçˆ±ç³å»åƒäº†<a href="https://g.page/vancouver-liziba?share">æå­åæ¿æ —é¸¡</a>ï¼›å‘¨å…­çš„ #movie-night çœ‹äº†éŸ©å›½ç”µå½±<a href="https://movie.douban.com/subject/30475125/">æ‹…ä¿</a>ï¼Œä¹åå¹´ä»£éŸ©å‰§çš„å¥—è·¯ï¼Œæ‰€æœ‰æƒ…èŠ‚éƒ½æ˜¯å¯ä»¥æ‰­æ›²æ“çºµè§‚ä¼—æ„Ÿæƒ…çš„ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ã€‚</li>
  <li>è¿™å‘¨ç”¨ audible å¬äº† Trever Noah çš„ <a href="https://book.douban.com/subject/26907961/">Born A Crime</a>ï¼Œæ–™æƒ³æ˜¯å•å£æ¼”å‘˜äº²è‡ªå£è¿°ï¼Œæœ‰å¾ˆå¤šæœŸå¾…ã€‚ä½†æ˜¯æœ€ç»ˆæ„Ÿå—ä¸€èˆ¬ï¼Œæˆ‘åªå¬åˆ°äº†ç«¥å¹´æ•…äº‹ä¼šï¼Œè€Œä»…æ­¤è€Œå·²ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w3-collage.jpg" alt="w3-collage" /></p>

<h2 id="w2-0111---0117">W2 (01/11 - 01/17)</h2>

<ul>
  <li>å·¥ä½œæŒ‰éƒ¨å°±ç­ï¼ŒåšæŒä¸Šå‘¨åˆ¶å®šçš„è®¡åˆ’ï¼Œå»åšå°±å¥½äº†ã€‚</li>
  <li>è‡ªä» Nikki å‡ å‘¨å‰åœ¨æ“åœºè´´åœ°é£è¡Œæ— æ„ç¢°å€’è€å¥¶å¥¶åï¼Œå°±å†ä¹Ÿä¸æ•¢è®©å¥¹æ”¾è‚†å¥”è·‘äº†ã€‚æœ€è¿‘æ‰¾äº†ä¸ªæ“åœºå¤–å›´ä¸€å—éšç§˜çš„ä¸‹å¡ï¼Œé™ªå¥¹ä½¿åŠ²ç»ƒçƒï¼šæ‰”å‡ºå»æ¡å›æ¥ï¼Œæ‰”å‡ºå»è®©å¥¹ç­‰æŒ‡ä»¤åå†å»æ¡ï¼Œæ‰”ç»™å¥¹é«˜ç©ºçƒä¸€å˜´æ¥ä½ã€‚å¥½ä¹…ä¸è§å¥¹å›åˆ°å®¶é‡Œè¿˜åœ¨è¾¹å–˜è¾¹ç¬‘ï¼Œåœ¨å…´å¥‹ä¸­ç¡å»äº†ã€‚</li>
  <li>å› ä¸ºä¹‹å‰ä¹°äº†æ–°è®¾å¤‡ï¼ŒApple ç»™äº†å‡ ä¸ªæœˆè¯•ç”¨ Arcadeï¼Œçœ‹åˆ°è¿™ä¸ªæ¸¸æˆ <a href="https://apps.apple.com/us/app/mini-motorways/id1453901000">Mini Motorways</a>ï¼Œç©ä¸¤æ¬¡å°±ä¸Šç˜¾äº†ã€‚è§„åˆ™éå¸¸ç®€å•ï¼Œéšç€æ—¶é—´ä¸æ–­å½¢æˆå¤æ‚çš„æƒ…å†µï¼Œæœ€åä¼šå½¢æˆä¸€ä¸ªè¿‘ä¹è‰ºæœ¯å“çš„çŠ¶æ€ã€‚å¾ˆæœ‰ä¹è¶£ä¹Ÿå¾ˆæ²»æ„ˆã€‚</li>
  <li>å‘¨æœ«å’Œå›½å†…æœ‹å‹ä¸€èµ·ç©äº†äº›çº¿ä¸Šæ¸¸æˆï¼ŒOpenRA (é‡åˆ¶çº¢è­¦)ï¼Œå¤ªç©ºç‹¼äººï¼Œè°æ˜¯å§åº•ï¼Œä¸äº¦ä¹ä¹ã€‚</li>
  <li>å‘¨å››çš„ #date-night å’Œé«˜ç£Šæ˜è¿œä¸€èµ·å»äº† Green Leaf Cafeï¼Œä»–ä»¬å®¶çš„ç‚™å¯¿å¸æ²¡å¾—è¯´ã€‚ä¸€èµ·èŠäº†å¾ˆä¹…ï¼Œç›´åˆ°æœåŠ¡å‘˜å®Œå…¨ä¸ç†æˆ‘ä»¬ã€‚å‘¨å…­çš„ #movie-night å’Œå–œç¦é‡æ¸©<a href="https://movie.douban.com/subject/1857099/">è€æ— æ‰€ä¾</a>ï¼Œä¸Šä¸€æ¬¡è¿˜æ˜¯ä¸€ä¸ªäººåœ¨å¤§å­¦å¯å®¤ï¼Œçœ‹çš„äº‘é‡Œé›¾é‡Œã€‚è¿™ä¸€æ¬¡æ‰å‘è§‰ä¹è¶£ã€‚è´¾ç»´å°”å·´ç™»çš„ç—´é¢æ€æ‰‹ï¼ŒçœŸæ˜¯ç‹¬æ ‘ä¸€å¸œçš„å­˜åœ¨ã€‚</li>
  <li>è¿™å‘¨çš„é˜…è¯»æ˜¯<a href="https://book.douban.com/subject/26390842/">å“²å­¦å®¶ä»¬éƒ½å¹²äº†äº›ä»€ä¹ˆ</a>ï¼Œæœ‰è¶£åˆå¥½è¯»ã€‚è¿™æœ¬ä¹¦å¸®æˆ‘å»ºç«‹ä¸€èµ·ä¸€å¥—ç®€å•çš„è°±ç³»ï¼Œå…³äºå„ä½å“²å­¦å¤§å®¶å’Œæ€æ½®ï¼Œä»å‰é‚£äº›çœ‹ä¼¼æ˜¯äººè¯ä½†åˆæ‘¸ä¸åˆ°å¤´ç»ªçš„è¯ç»„ï¼Œè¯¸å¦‚ç†æ€§ä¸»ä¹‰ã€ç»éªŒä¸»ä¹‰ï¼Œç»ˆäºåœ¨æˆ‘è„‘ä¸­å˜å¾—ç”ŸåŠ¨èµ·æ¥ã€‚ä¸€åˆ‡éƒ½æ˜¯é‚£ä¹ˆçš„æœ‰è¶£ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w2-collage.jpg" alt="w2-collage" /></p>

<h2 id="w1-0104---0110">W1 (01/04 - 01/10)</h2>

<ul>
  <li>æ–°å¹´ç¬¬ä¸€å‘¨ï¼Œè¿˜æ²¡å®Œå…¨ä»å‡æœŸä¸­èµ°å‡ºæ¥ï¼Œæœ‰ç‚¹é›„å¿ƒå‹ƒå‹ƒï¼Œä¹Ÿæœ‰ç‚¹æ— ç²¾æ‰“é‡‡ã€‚å‘¨ä¸€æ—©ä¸Šå…­ç‚¹åŠé¡½å¼ºåœ°çˆ¬èµ·æ¥ï¼Œæˆ‘éƒ½è¢«è‡ªå·±æ„ŸåŠ¨äº†ï¼Œå¼ºè¡Œå–‚è‡ªå·±é¸¡è¡€è¿‡äº†å‡ å¤©ï¼Œå‘¨å››å°±å¼€å§‹æ— å¿ƒæ‹æˆ˜äº†ï¼Œè¿˜å¥½å‰ä¸‰å¤©ç®—æ˜¯å®Œæˆäº†ä¸€äº›åŸºæœ¬çš„å·¥ä½œï¼Œåšäº†äº›æ€»ç»“ï¼Œåˆ¶è®¢äº›æ–°çš„å·¥ä½œæ—¥ç¨‹ã€‚</li>
  <li>å‘¨ä¸€æ•´ç†äº†å‡†å¤‡ç»§ç»­ä¿æŒå’Œå®è·µçš„ä¹ æƒ¯ï¼Œå†™åœ¨è¿™é‡Œè‡ªæˆ‘é¼“åŠ±
    <ul>
      <li>æ¯æ—¥ï¼šå·¥ä½œæ—¥å…­ç‚¹åŠèµ·åºŠï¼›ä¹ç‚¹æ´—æ¾¡ã€å†™æ—¥è®°ã€çœ‹ä¹¦ï¼›åç‚¹åŠä¸ŠåºŠç¡è§‰</li>
      <li>æ¯æ—¥ï¼šå†¥æƒ³ï¼ˆå·²ç»åšæŒäº†ä¸€ä¸ªå¤šæœˆï¼Œæ¯å¤©äº”åˆ†é’Ÿï¼Œå¯ä»¥å°è¯•æé«˜æ—¶é—´ï¼‰</li>
      <li>æ¯æ—¥ï¼šå¤ä¹ ç¬”è®°ï¼ˆreadwise + eudicï¼‰</li>
      <li>æ¯å‘¨ï¼šè¿åŠ¨ä¸€æ¬¡ï¼ˆæœ‰ç‚¹çŠ¯æ„ï¼Œä¸çŸ¥é“é˜´é›¨è¿è¿å¯ä»¥å»å¹²å˜›ï¼‰</li>
      <li>æ¯å‘¨ï¼šé˜…è¯»ä¸€æœ¬ä¹¦ #weekly-read</li>
      <li>æ¯å‘¨ï¼šå’Œå–œç¦å‘¨å››æ™šä¸Šçº¦ä¼š #date-nightï¼Œå‘¨å…­çœ‹ç”µå½± #movie-night</li>
      <li>ç¬¬ä¸€ä¸ªå­£åº¦ï¼šæˆ’çƒŸ</li>
    </ul>
  </li>
  <li>å‘¨ä¸‰æˆ‘æ–‡è”èµ›å…³é”®æˆ˜ï¼Œåœ¨ç±³å…°ä¸»åœº3:1å–èƒœï¼Œå¼€å¿ƒäº†ä¸€æ•´å¤©ã€‚è¿™èµ›å­£æˆ‘æ–‡ä¸å†ç¨³å¥ï¼Œæ—¶è€Œè¿˜æ˜¯ä¸Šèµ›å­£çš„ç¿”å‘³å„¿ï¼Œä½†æ˜¯è¸¢å‡ºäº†ä¸¤åœºæ ‡å¿—æ€§çš„èƒœåˆ©ï¼Œä¹‹å‰çš„å®¢æˆ˜å·´è¨å’Œè¿™åœºå›½å®¶å¾·æ¯”ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†æ˜è¿œæ¨èçš„ä¼Šæœ—èœ <a href="https://g.page/KhaghanNorthVancouver?share">Khaghan Restaurant</a>ï¼Œè·Ÿæˆ‘ä»¬åœ¨ Waterloo å–œæ¬¢çš„ä¸€å®¶ä¸­ä¸œèœä¸ç›¸ä¸Šä¸‹ï¼Œå¶å°”ä½“éªŒä¸€æ¬¡å¼‚åŸŸé£æƒ…ï¼Œæ„Ÿå—éå¸¸ä¸é”™ï¼›å‘¨å…­çš„ #movie-night æˆ‘ä»¬çœ‹äº†è¿‡æ˜¥å¤©ï¼Œåº”è¯¥æ˜¯æˆ‘è€äº†ï¼Œå¯¹è¿™ç§é’æ˜¥ç‰‡æ²¡ä»€ä¹ˆå…´è‡´ã€‚å¦‚æœå¯ä»¥é€‰æ‹©ï¼Œæˆ‘å®æ„¿æ´»åœ¨å°‘å¹´æ—¶ä»£ï¼Œæ‡µæ‡‚ä½†æ˜¯çº¯çœŸï¼Œæ›´å¤šæ˜¯é å¥½å¥‡å¿ƒï¼ˆè€Œä¸æ˜¯è‡ªå°Šå¿ƒï¼‰é©±ä½¿ç€å¯¹ä¸–ç•Œçš„æ¢ç´¢ã€‚ä½†æ˜¯é’æ˜¥æœŸï¼Ÿæˆ‘å–œæ¬¢é‚£äº›å›å¿†å’Œèº«ä½“é‡Œæ¶ŒåŠ¨çš„åŠ›é‡ï¼Œä½†æ˜¯é‚£ç§ä¸è‡ªçŸ¥çš„æ‹§å·´ï¼Œå¾ˆåƒèµ°åœ¨è·¯ä¸Šæˆ‘æ— å¤„å®‰æ”¾çš„åŒæ‰‹ï¼Œæˆ‘è¿˜æ˜¯æ›´æ„¿æ„åœ¨è®°å¿†ä¸­å»å›æœ›ã€‚</li>
  <li>è¿™å‘¨è¯»äº† <a href="https://book.douban.com/subject/1291231/">The Curious Incident of the Dog in the Night-Time</a>ï¼Œéå¸¸ç®€å•çš„å°æ•…äº‹ï¼Œä½†æ˜¯è§†è§’éå¸¸æœ‰è¶£ï¼šä¸€ä¸ªè‡ªé—­ç—‡å„¿ç«¥å¦‚ä½•é¢å¯¹ç”Ÿæ´»ï¼Œé¢å¯¹çˆ¶æ¯ç¦»å¼‚çš„ç”Ÿæ´»ã€‚#weekly-read</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2021/w1-collage.jpg" alt="w1-collage" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What we've done in 2020]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2021/01/01/what-weve-done-in-2020/"/>
    <updated>2021-01-01T12:24:53-08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2021/01/01/what-weve-done-in-2020</id>
    <content type="html"><![CDATA[<svg id="gantt-2020"></svg>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] SOE-YCSCS1 Compilers]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2020/06/07/review-soe-ycscs1-compilers/"/>
    <updated>2020-06-07T11:47:14-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2020/06/07/review-soe-ycscs1-compilers</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Course</strong></td>
      <td>Compilers</td>
    </tr>
    <tr>
      <td><strong>Instructor</strong></td>
      <td>Alex Aiken</td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="https://online.stanford.edu/courses/soe-ycscs1-compilers">online.stanford.edu/courses/soe-ycscs1-compilers</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#summary">Summary</a></li>
  <li><a href="#intro">0 Intro</a>    <ul>
      <li><a href="#what-a-compiler-does">0.1 What a compiler does</a></li>
      <li><a href="#economy-of-programming-language">0.2 Economy of programming language</a></li>
    </ul>
  </li>
  <li><a href="#lexical-analysis">1 Lexical Analysis</a>    <ul>
      <li><a href="#intro-1">1.1 Intro</a></li>
      <li><a href="#regular-language">1.2 Regular Language</a></li>
      <li><a href="#formal-language">1.3 Formal Language</a></li>
      <li><a href="#lexcial-specification">1.4 Lexcial Specification</a></li>
      <li><a href="#finite-automata">1.5 Finite Automata</a></li>
    </ul>
  </li>
  <li><a href="#parsing">2 Parsing</a>    <ul>
      <li><a href="#intro-2">2.1 Intro</a></li>
      <li><a href="#context-free-grammars">2.2 Context Free Grammars</a>        <ul>
          <li><a href="#cfg---intro">2.2.1 CFG - Intro</a></li>
          <li><a href="#cfg---deriviations">2.2.2 CFG - DERIVIATIONS</a></li>
          <li><a href="#cfg---ambiguity">2.2.3 CFG - AMBIGUITY</a></li>
          <li><a href="#cfg---error-handling">2.2.4 CFG - ERROR HANDLING</a></li>
        </ul>
      </li>
      <li><a href="#abstract-syntax-tree">2.3 Abstract Syntax Tree</a></li>
      <li><a href="#recursive-descent-parsing">2.4 Recursive-Descent Parsing</a></li>
      <li><a href="#predictive-parsing">2.5 Predictive Parsing</a></li>
      <li><a href="#bottom-up-parsing">2.6 Bottom-up Parsing</a>        <ul>
          <li><a href="#shift--reduce">SHIFT &amp; REDUCE</a></li>
          <li><a href="#handles">HANDLES</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#semantic-analysis">3 Semantic Analysis</a>    <ul>
      <li><a href="#identifiers">3.1 Identifiers</a>        <ul>
          <li><a href="#scope">SCOPE</a></li>
          <li><a href="#symbol-tables">SYMBOL TABLES</a></li>
        </ul>
      </li>
      <li><a href="#types">3.2 Types</a>        <ul>
          <li><a href="#type-checking">3.2.1 TYPE CHECKING</a></li>
          <li><a href="#type-environment">3.2.2 TYPE ENVIRONMENT</a></li>
          <li><a href="#subtype-methods-and-implementation">3.2.3 SUBTYPE, METHODS and IMPLEMENTATION</a></li>
          <li><a href="#static-vs-dynamic">3.2.4 STATIC VS. DYNAMIC</a></li>
          <li><a href="#selftype">3.2.5 SELF_TYPE</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#runtime-organizations">4 Runtime Organizations</a>    <ul>
      <li><a href="#activations">4.1 Activations</a></li>
      <li><a href="#activation-records">4.2 Activation Records</a></li>
      <li><a href="#global--heaps">4.3 Global &amp;&amp; Heaps</a></li>
      <li><a href="#alignment">4.4 Alignment</a></li>
    </ul>
  </li>
  <li><a href="#code-generation">5 Code Generation</a>    <ul>
      <li><a href="#stack-machines">5.1 Stack Machines</a>        <ul>
          <li><a href="#stack-machine-vs-register-machine">5.1.1 Stack machine vs Register machine</a></li>
          <li><a href="#n-register-stack-machine">5.1.2 n-register stack machine</a></li>
        </ul>
      </li>
      <li><a href="#intro-3">5.2 Intro</a></li>
      <li><a href="#code-gen">5.3 Code Gen</a></li>
      <li><a href="#code-gen---object-layout">5.4 Code Gen - Object Layout</a></li>
      <li><a href="#evaluation-semantics">5.5 Evaluation Semantics</a></li>
      <li><a href="#operational-semantics">5.6 Operational Semantics</a></li>
      <li><a href="#intermediate-language">5.7 Intermediate language</a></li>
    </ul>
  </li>
  <li><a href="#optimization">6 Optimization</a>    <ul>
      <li><a href="#intro-4">6.1 Intro</a></li>
      <li><a href="#local-optimization">6.2 Local Optimization</a></li>
      <li><a href="#global-optimization">6.3 Global Optimization</a>        <ul>
          <li><a href="#dataflow-analysis">6.3.1 Dataflow analysis</a></li>
          <li><a href="#global-constant-propogation">6.3.2 Global constant propogation</a></li>
          <li><a href="#liveness-analysis">6.3.3 Liveness Analysis</a></li>
        </ul>
      </li>
      <li><a href="#register-allocation">6.4 Register Allocation</a>        <ul>
          <li><a href="#graph-coloring">6.4.2 Graph Coloring</a></li>
        </ul>
      </li>
      <li><a href="#managing-cache">6.5 Managing Cache</a></li>
      <li><a href="#automatic-memory-management-gc">6.6 Automatic Memory Management (GC)</a>        <ul>
          <li><a href="#intro-5">6.6.1 Intro</a></li>
          <li><a href="#mark-and-sweep">6.6.2 Mark and Sweep</a></li>
          <li><a href="#stop-and-copy">6.6.3 Stop and Copy</a></li>
          <li><a href="#reference-counting">6.6.4 Reference Counting</a></li>
          <li><a href="#advanced-gc-algorithm">6.6.5 Advanced GC Algorithm</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="summary">Summary</h1>

<p><strong>INTRO</strong></p>

<p>Interpreter is â€œonlineâ€ and compiler is â€œofflineâ€</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Program + Data =&gt; Interpreter =&gt; Output
</span><span class="line">
</span><span class="line">Program =&gt; Compiler =&gt; exec
</span><span class="line">                       exec + Data =&gt; Output</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What a compiler does?</p>

<p>Five phases</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Lexical Analysis  (input)   -&gt; tokens
</span><span class="line">Parsing           (tokens)  -&gt; AST
</span><span class="line">Semantic Analysis (AST)     -&gt; IL
</span><span class="line">Optimization      (IL)      -&gt; IL
</span><span class="line">Code Generation   (IL)      -&gt; Machine code</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Why are there new programming languages?</p>

<p>Programming training is the main dominant cost for a programming language. Itâ€™s easy to start a new
language when productivity boost is over the training cost.</p>

<p><strong>LEXICAL ANALYSIS</strong></p>

<p>A LA does two things: partition the input string into lexemes, and identify the token class of each
lexeme. We need a way to specify which set of strings belongs to each token class and the usual tool
for doing that is to use Regular Language.</p>

<p>As a sidenote, inside of the compiler, we typically have several different Formal Languages, and
Regular Language is one of them. A Formal Language has a set of alphabet and a meaning function,
that maps syntax to semantics.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">              described by
</span><span class="line">Lexical Analysis -------------- Lexical Spec
</span><span class="line">                                  |
</span><span class="line">                            Formal Language
</span><span class="line">                                  |           implemented by
</span><span class="line">                            Regular Language ---------------- Regular Expression
</span><span class="line">                                             \--------------- Finite Automata (NFA, DFA)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We use Regular Expression as the Lexical Specification and we use Finite
Automata as the implementation.</p>

<p>To define Deterministic Finite Automata: 1. no e moves; 2. for one input, there is only one
transition from a state.</p>

<p>A token consists of (token class, lexeme).</p>

<p><strong>PARSING</strong></p>

<p>Heuristic: why is there a Parsing stage? A Regular Language is the weakest Formal Language thatâ€™s
widely used, no matter is Regular Expression, NFA, DFA, it has its limit on expressing, eg. nested
structure.</p>

<p>Since not all strings of tokens are programs, a parser must distinguish between valid and invalid
string of tokens. We need</p>

<ul>
  <li>a language for describing valid string of tokens â€“ CFG</li>
  <li>a method (algorithm) for distinguishing valid from invalid string of tokens â€“ Parsing algorithm</li>
</ul>

<p>Context Free Grammars (a Formal Language) is help to describe whether a string of tokens is valid. It consist of</p>

<ul>
  <li>a set of terminals, T</li>
  <li>a set of non-terminals, N</li>
  <li>a start symbol, S, where S (- N</li>
  <li>a set of productions or rules</li>
</ul>

<p>Recursive-descent Parsing (top-down): The parse tree is constructed from the top and from left to
right. Start with top-level non-terminal E, try the rules for E <strong>in order</strong>. Recursive-descent
parsing is a simple and general parsing strategy, which is used in GCC frontend.  To use it, left
recursion must be eliminated first.</p>

<p>Predictivce Parsing (top-down): In Recursive-descent parsing, at each step, there are many choices
of production to use. Therefore, we need to backtrack to undo bad choices. Predictive parsing are a
lot like Recursive-descent parsing, but it can â€œpredictâ€ which production to use by looking at the
next few tokens, thus there is no need to backtrace. Predictive parers accept LL(k) grammars. At
each step, there should be at most one choice of production.</p>

<ul>
  <li>Left-to-right</li>
  <li>Left-most derivation</li>
  <li>k tokens looking ahead</li>
</ul>

<p>Bottom-up parsing is more general than top-down parsing, but just as efficient.  Bottom-up builds on
ideas in top-down parsing and is the preferred method for most of generator tools. Bottom-up parsing
reduces a string to the start symbol by inverting productions.</p>

<p><strong>SEMANTIC ANALYSIS</strong></p>

<p>Lexical analysis detects inputs with illegal tokens; Parsing detects with ill-formed parse trees;
and Semantic Analysis, as last front-end phase, catches all remaning errors, eg</p>

<ul>
  <li>all identifiers are declared</li>
  <li>reserved identifiers are not misused</li>
  <li>types</li>
  <li>inheritance relationships</li>
  <li>classes defined only once</li>
  <li>method in a class defined only once</li>
</ul>

<p>Much of Semantic Analysis can be expressed as recursive descent of an AST:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">before: process an AST node n
</span><span class="line">recurse: process the children of n
</span><span class="line">after: finish processing the node n</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Identifiers. The scope of an identifier is the portion of a program in which that identifier is accesible. Scope
helps match identifier declarations with uses. There are two kinds of scopes:</p>

<ul>
  <li>static, that the scope depends only on the program text not runtime behaviour;</li>
  <li>dynamic, which referes to the cloest enclosing binding in the execution of the program.</li>
</ul>

<p>As we need to know which identifiers are defined, we introduce a data structure that tracks the current bindings of identifiers, which is Symbol Table.</p>

<p>Types. A set of values and a set of operations on those values. A languageâ€™s type system specifies which operations are valid for which types. The goal of type checking is to enture that operations are used with the correct types. There is no types in an assembly language, therefore there are no types at the bit level in the machine code. So, type is a
virtual concept at the language level, and to type check is to enforce the intended interpretation of values.</p>

<p>There are a few kinds:</p>

<ul>
  <li>static typed langs: C, Java. A lot of code is written in statically typed lang has an â€œescapeâ€
mechanism: like unsafe casts in C, Java (void pointer can be anything).</li>
  <li>dynamic typed langs: Lips, Ruby. A lot of dynamically typed lang rewrites their compilers with
static lang for optimization and better debugging.</li>
  <li>untyped langs: machine code</li>
</ul>

<p>Type checking. The Formal Language we use is Logic Rules of Inference, which has the form that â€œif
Hypothesis is true, then Conclusion is trueâ€.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">âŠ¢ Hypothesis .. âŠ¢ Hypothesis
</span><span class="line">----------------------------
</span><span class="line">         âŠ¢ Conclusion
</span><span class="line">
</span><span class="line">âŠ¢ means "it's provable that..."</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Type environment. A type environment gives types for free variables/identifiers in the current scope, by free it means
the varaible is not defined.</p>

<p>As an example for defining Assign type checking rule:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O âŠ¢ e1: T1
</span><span class="line">O(x) = T0       [Assign]
</span><span class="line">T1 &lt;= T0
</span><span class="line">-------------
</span><span class="line">O âŠ¢ x = e1: T1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A type environment is built inisde the Symbol Table and gets passed down the AST from root to
leaves. Types are computed up the AST from the leaves towars the root.</p>

<p><strong>RUNTIME ORGANIZATIONS</strong></p>

<p>Before we get into optimization and code generation, we need to understand what we are trying to
generate. A runtime organization controls the management of run-time resources. Particually, to
understand a compiler works, we should understand the correspondenc between static (compile-time)
and dynamic (run-time) strucutres: what is done by the compiler and what is deferred to the
generated program actually runs.</p>

<p>Execution of a program is initially by OS. When a program is invoked: the OS allocates space for the
program; the code is loaded into part of the space; the OS jumps to the entry point (â€œmainâ€).
A compiler is responsible for generating code and orchestrating code to use the data space.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+
</span><span class="line">|     code    | ---+
</span><span class="line">+-------------+    |
</span><span class="line">|             |    |
</span><span class="line">|     data    | &lt;--+
</span><span class="line">|             |
</span><span class="line">+-------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Activations. An invocation of procedure P is an activation of P. The lifetime of an activation of P
is all the steps of execute P, including all the steps in procedures P calls. We can also say that
the lifetime of a varaible x is the portion of execution in which x is defined. To be noted that,
lifetime is a dynamic (run-time) concept, whereas scope is a static (compile-time) concept. Since
activations are properly nested, we can use a stack to track currently active procedures.</p>

<p>Activation Records. The information needed to manage one procedure activation is called an
Activation Record or Frame. If procedure F calls G, then Gâ€™s activation records contains a mix of
info about F and G. Becuase Gâ€™s AR should contain information to 1. complete execution of G 2.
resume execution of F.</p>

<p>One of many possible AR designs (which works for C)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+----------------+
</span><span class="line">| result         |
</span><span class="line">+----------------+
</span><span class="line">| argument       |
</span><span class="line">+----------------+
</span><span class="line">| control link   |   // who calls the current activation
</span><span class="line">+----------------+
</span><span class="line">| return address |   // where to resume execution after the current activation
</span><span class="line">+----------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The compiler must determine, at compile-time, the layout of AR and generate code
that correctly accesses location in the activation records. Thus, the AR layout and the code
generator must be designed together.</p>

<p>Globals cannot be stored in AR as all references to a global variable should point to
the same object. So, globals are assigned at a fixed address once, as statically allocated.
For values that outlive the procedure that creates it cannot be kept in the AR neither, like in
<code>method foo() { new Bar }</code>, that <code>Bar</code> value must survive deallocation of <code>foo</code>â€™s AR. So, we need to
use heap to store dynamically allocated data.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+ Low address
</span><span class="line">|    code     |
</span><span class="line">+-------------+
</span><span class="line">|             |
</span><span class="line">| static data | -- Globals
</span><span class="line">|             |
</span><span class="line">+-------------+
</span><span class="line">|   stack     | -- ARs
</span><span class="line">|     |       |
</span><span class="line">|     v       |
</span><span class="line">|.............|
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|.............|
</span><span class="line">|     ^       |
</span><span class="line">|     |       |
</span><span class="line">|    heap     |
</span><span class="line">+-------------+ High address</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Alignment. Data is word aligend if it begins at a word boundary. Most machines have some alignment
restrictions or performance penalties for poor alignment.</p>

<p><strong>CODE GENERATION</strong></p>

<p>Stack Machine, the simplest model for code generation. A stack machines use a stack as the only
storage. An instruction <code>r = F(a1,...an)</code> is executed as</p>

<ul>
  <li>Pops n operands from the stack</li>
  <li>Computes the operation F</li>
  <li>Pushes result back to the stack</li>
</ul>

<p>The invariance a stack machine maintains: After evaluating an expression e, the accumulator holds
the value of e and the stack is unchanged. This is a very important property: <strong>Expression
evaluation preserves the stack</strong>.</p>

<p>Stack machine vs Register machine. Location of the operands/result is not explicitly stated, as
which are always on the top of the stack. We consider <code>add</code> as a valid operation, instead of <code>add
r1, r2</code> in a register machine. This leads to more compact programs (space). Java bytecode uses stack
evaluation. However, a register machine is mostly preferred and generally faster (time), because we
can place the data at exactly where we want it to be, which has generally less intermediate
operations and manipulation like pushing and popping off the stack.</p>

<p>N-register stack machine. Itâ€™s an intermediate form between pure stack machine and register machine.
Conceptually, keep the top n locations of the pure stack machineâ€™s stack in registers. A 1-register
stack machines is called the accumulator.</p>

<p>A code gen example</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class=""><span class="line">cgen(e1 + e2) =
</span><span class="line">  // compile time code prints out runtime code
</span><span class="line">
</span><span class="line">  cgen(e1)
</span><span class="line">  print "sw $a0 0($sp)"           // push value onto stack
</span><span class="line">  print "addiu $sp $sp-4"
</span><span class="line">
</span><span class="line">  cgen(e2)
</span><span class="line">
</span><span class="line">  print "lw $t1 4($sp)"           // load value from stack
</span><span class="line">  print "add $a0 $t1 $a0"         // add
</span><span class="line">  print "addiu $sp $sp 4"         // pop from stack</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A code gen example for object layout</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------------+ First 3 words are headers
</span><span class="line">| Class tag    |
</span><span class="line">+--------------+
</span><span class="line">| Object size  |                   Dispatch Table
</span><span class="line">+--------------+                   +-------------------+
</span><span class="line">| Dispatch Ptr | ---------------&gt;  |    |    |    |    |
</span><span class="line">+--------------+                   +-------------------+
</span><span class="line">| Attrs        | then attributes
</span><span class="line">+--------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Given a layout for class A, a layout for subclass B can be defined by
extending the layout of A with additional slots of the addition attributes of B. So consider layout of <code>A3 &lt; A2 &lt; A1</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------------+
</span><span class="line">| Header       |
</span><span class="line">+--------------+
</span><span class="line">| A1 attrs     |
</span><span class="line">+--------------+
</span><span class="line">| A2 attrs     |
</span><span class="line">+--------------+
</span><span class="line">| A3 attrs     |
</span><span class="line">+--------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The offset for an attribute is the same in a class and all of its subclasses.</p>

<p>Dynamic dispatch. Every class has a fixed set of methods, including inherited methods. A dispatch
table is used to index these mtehods. Itâ€™s an array of method entrypoints. A method <code>f</code> lives at a
fixed offset in the dispatch table for a class and all of its subclasses. Theorectially we can save
the table directly as we do for attributes. But attributes are states that 100 objects can each have
a different set of attributes values. Methods are static that it makes sense to share the common
table among objects.</p>

<p>Evaluation Semantics. In Code Generation, we need to define an evaluation rule, which is also called Semantics.</p>

<ul>
  <li>The tokens is parsed by Regular Expressions in Lexical Analysis</li>
  <li>The grammar is represented by CFG in Syntactic Analysis</li>
  <li>The typing rule is represented by Inferenece Rule in Semantics Analysis</li>
  <li>The evaluation rules is represented by Semantics in Code Generation and Optimization</li>
</ul>

<p>Operational Semantics. It describes program evaluation via execution rules on an abstract machine,
which is most useful for specifying implementations.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line"># in type checking, this means in a given context, expression e has type C
</span><span class="line">Context âŠ¢ e: C
</span><span class="line">
</span><span class="line"># in evaluation, this means in a given context, expression e evaluates to value v
</span><span class="line">Context âŠ¢ e: v</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Consider the evaluation of <code>y &lt;- x + 1</code>, we should track variables and their values with:</p>

<ul>
  <li>an environment: where a variable is in memory, <code>E = [a: l1, b: l2]</code></li>
  <li>a store: what is in the memory, <code>S = [l1 -&gt; 5, l2 -&gt; 7]</code></li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">so, E, S âŠ¢ e: v, S'
</span><span class="line">
</span><span class="line">Given
</span><span class="line">  so as the current value of self
</span><span class="line">  E as the current variable environment
</span><span class="line">  S as the current store
</span><span class="line">If the evaluation of e terminates then
</span><span class="line">  the value of e is v
</span><span class="line">  the new store is S'</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>OPTIMIZATION</strong></p>

<p>Most complexity in modern compilers is in the optimizer. Optimization seeks to improve a programâ€™s
resoure utilization: execution time, code size and network messages sent, etc.</p>

<p>What should we perform optimizations on?</p>

<p>On Intermediate language</p>

<ul>
  <li>pro: machine independent</li>
  <li>pro: expose optimization opportunities</li>
  <li>on AST is too high level</li>
  <li>On Assembly is not machine independent</li>
</ul>

<p>Intermediate Language. A language between source and target. With more details than souce and less
than target. Intermidate language can be considered as high-level assmebly. It uses register names,
but has an unlimited number. It uses control structures as assembly language. It uses opcodes but
some are higher level, like <code>push</code> translates to several assembly instructions. Usually, we prefer
to apply optimizations over IL, instead of AST or assembly language.</p>

<p>What are the units of optimization?</p>

<ul>
  <li>A basic block is a maximal sequence of instructions with no labels (except at the first instruction)
and no jumps (except in the last instruction), which makes it a single-entry, single-exit,
straight-line code segment.</li>
  <li>A control-flow graph is a directed graph with basic block as nodes.</li>
</ul>

<p>What are granularities of optimizations? Like in C</p>

<ol>
  <li>Local optimization: apply to a basic block in isolation</li>
  <li>Global optimization (itâ€™s not really global, but to function): apply to a control-flow graph in
isolation</li>
  <li>Inter-procedural optimization: apply across function boundaries.</li>
</ol>

<p>Global optimization. There are many global dataflow analysis, but they all follow the methodology:
The analysis of a complicated program can be expressed as a combination of simple rules relating
the change in information between adjacent statements.</p>

<p>Register Allocation. Register Allocation is a â€œmust haveâ€ in compilers: because intermediate code
uses too many temporaries and it makes a big difference in performance. So the optimization is about
to rewrite the intermediate code to use no more temporarie than there are machine registers.</p>

<p>Solution: Construct an undirected graph, that a node for each temporary, an edge between t1 and t2
if they are live simultaneously at some point in the program, which is called REGISTER INTERFERENCE
GRAPH (RIG). Two temporaries can be allocated to the same register if there is no edge connecting
them. After RIG construction, the Register Allocation algorithm is architecture independent. The
algorithm to use is called Graph coloring.</p>

<p>A coloring of a graph is an assignment of colors to nodes, such that nodes connected by an edge have
different colors. A graph is K-COLORABLE if it has a coloring with k colors. For Register
Aollocation, we need to assign colors (registers) to graph nodes (temporaries), and let k be the
number of machine registers. If the RIG is k-colorable then there is a register assignment that uses
no more than k registers.</p>

<p>Managing Cache</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-----------+---------------+-----------+
</span><span class="line">| Registers | 1 cycle       | 256-8000B |
</span><span class="line">| Cache     | 3 cycles      | 256K-1M   |
</span><span class="line">| Memory    | 20-100 cycles | 32M-4G    |
</span><span class="line">| Disk      | 0.5-5M cycles | 4G-1T     |
</span><span class="line">+-----------+---------------+-----------+
</span><span class="line">
</span><span class="line">*cycle is the clock frequency</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The cost of cache miss (for register) is very high, so typically it requires 2-layered cache to bridge
fast processor with large main memory.</p>

<p>Automatic Memory Managemen (GC)</p>

<ul>
  <li>Advantage: it prevents serious storage bugs</li>
  <li>Disadvantge:
    <ul>
      <li>it reduces programmer control, like the layout of data in memory, or when is memory
deallocated;</li>
      <li>inefficient in some cases</li>
      <li>pauses problematic in real-time applications</li>
      <li>memory leaks possible</li>
    </ul>
  </li>
</ul>

<p>Mark and Sweep</p>

<ul>
  <li>Advantage: objects are not moved during GC, works well for languages with pointers like C and C++</li>
  <li>Disadvantge: fragment memory</li>
</ul>

<p>Stop and Copy</p>

<p>Stop and copy is generally believed to be the fastest GC technique</p>

<ul>
  <li>Advantage: Allocation is very cheap (just increment the heap pointer). Collection is relatively
cheap, especially if there is a lot of garbage, as it only touches reachable objects</li>
  <li>Disadvantge: some languages do not allow copy, like C and C++.</li>
</ul>

<p>Reference Counting</p>

<ul>
  <li>Advantage: easy to implement; collects garbage incrementally without large pauses in the execution</li>
  <li>Disadvantge: cannot collect circular structures; manipulating reference counts at each assignment is
very slow</li>
</ul>

<hr />

<h1 id="intro">0 Intro</h1>

<p>Interpreter is â€œonlineâ€ and compiler is â€œofflineâ€</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Program + Data =&gt; Interpreter =&gt; Output
</span><span class="line">
</span><span class="line">Program =&gt; Compiler =&gt; exec
</span><span class="line">                       exec + Data =&gt; Output</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When John Backus tried to solve program productivity problem in 1950s, compared
to writing machine code, he tried an interpreter language first, which is called
â€œSpeedcodingâ€, which makes programmer happy but takes too much memory and runs
10x slower (as an interpreter lang does). After that, he developed Fortran
(Formalas Translated), which introduces a two stage development, compile and
execute. Modern compilers preserve the outline of Fortran.</p>

<h2 id="what-a-compiler-does">0.1 What a compiler does</h2>

<p>Five phases</p>

<ol>
  <li>Lexical analysis (syntactic)</li>
  <li>Parsing (syntactic)</li>
  <li>Semantic analysis (types, scopes..)</li>
  <li>Optimization</li>
  <li>Code generation (machine code, or byte code on a VM)</li>
</ol>

<p>Lexical analysis is to divide a program into â€œwordsâ€ or â€œtokensâ€</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">This is a sentence.</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Once words are understood, the next step, Parsing, is to understand sentence structure</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">This    line is   a       longer    sentence
</span><span class="line">----    ---- --   -       ------    --------
</span><span class="line">article noun verb article adjective noun
</span><span class="line">   |     /           \       |      /
</span><span class="line">   subject                object
</span><span class="line">          \               /
</span><span class="line">               sentence</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Once sentence structure is understood, the next step, Semantic analysis, is to
try understanding the â€œmeaningâ€. For humans, we do lexical
analysis and parsing, but we donâ€™t know how we understand it. So, this is too
hard for compilers. <strong>Compilers can only perform limited Semantic analysis to
catch inconsistencies.</strong></p>

<p>Eg. 1 Variable bindings</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Jack said Jerry left his assignment at home.
</span><span class="line">                     ---
</span><span class="line">                     points to Jack or Jerry?
</span><span class="line">
</span><span class="line">Jack said Jack left his assignment at home?
</span><span class="line">----      ----      ---
</span><span class="line">How many people are involved?</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The analogy in programming language is variable bindings. Programming lang
define strict rules to avoid such ambiguities. For example, lexical scoped
language</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">{
</span><span class="line">  int Jack = 3;
</span><span class="line">  {
</span><span class="line">    int Jack = 5;
</span><span class="line">    cout &lt;&lt; Jack;
</span><span class="line">  }
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Eg. 2 Type mismatch</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Jack left her homework at home.
</span><span class="line">          ---</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Optimization has no strong counterpart in English, but you can think of what an
editor do. The main purpose here is to modify the program so that they use less
resource, run faster (time) and use less memory (space).</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">But a little bit like editing
</span><span class="line">    -----------------
</span><span class="line">But akin to           editing
</span><span class="line">    -------
</span><span class="line">
</span><span class="line">Y=X*0 =&gt; Y=0
</span><span class="line">// only works for intergers, but not floats, as NAN * 0 = NAN</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Code generation generally means a translation to another language, like in human
language. It usually produces assembly code.</p>

<p>The proportion of each phase does has changed since Fortran</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Fortran: [    L    ] [    P    ] [S] [   O   ] [   CG   ]
</span><span class="line">Modern : [L] [P] [    S    ] [           O              ] [ CG ]</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="economy-of-programming-language">0.2 Economy of programming language</h2>

<p>Q1. Why are so many programming languages?</p>

<p><strong>Application domains have distinctive/conflicting needs.</strong></p>

<ul>
  <li>In scientific computing, there should be good float point numbers, good
arrays, and parallelism, like Fortran</li>
  <li>In bussiness applications, there should be persistence, report generation and
data analysis, like SQL</li>
  <li>In system programming, there should be resource management and real time
constraints, like C and C++.</li>
</ul>

<p>Q2. Why are there new programming languages?</p>

<p>Claim: <strong>Programming training is the dominant cost for a programming
language</strong></p>

<p>Prediction:</p>

<ol>
  <li>Widely used languages are slow to change (for education cost).</li>
  <li>Easy to start a new language, when productivity boost is over the training
cost.</li>
  <li>Language adopted to fill a void as tech grows with new open niche</li>
  <li>New languages tend to look like old languages (think about the training cost)</li>
</ol>

<p>Q3. What is good programming language? :shrug:</p>

<h1 id="lexical-analysis">1 Lexical Analysis</h1>

<h2 id="intro-1">1.1 Intro</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">                         one token
</span><span class="line">String -------&gt; LA --------&gt; (token class, lexeme) --------&gt; Parser
</span><span class="line">
</span><span class="line">foo = 4                       (Id, "foo")
</span><span class="line">                          (Op, "=")
</span><span class="line">                          (Int, "4")</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What are the valid token classes?</p>

<ul>
  <li>Identifier</li>
  <li>Keyword</li>
  <li>Operator</li>
  <li>Whitespace, a non-empty sequence of blanks, newlines and tabs</li>
  <li>Numbers</li>
  <li>(</li>
  <li>)</li>
  <li>;</li>
  <li>=</li>
</ul>

<p>A LA does two things:</p>

<ol>
  <li>Partition the input string into lexemes.</li>
  <li>Identify the token class of each lexeme.</li>
</ol>

<p>Reading left-to-right and recognizing one token at a time, which requires
lookahead, to help determine the end of the current token and start of next
token.</p>

<p>Fun fact:
1. In FORTRAN, all whitespaces can be omitted
2. In PL/1, keywords are not reserved :P</p>

<h2 id="regular-language">1.2 Regular Language</h2>

<p>The lexical strucutre of a programming language is a set of token classes, and
each one of the token classes consists of some set of strings. We need a way to
specify which set of strings belongs to each token class and the usual tool for
doing that is to use <strong>Regular Language</strong>.</p>

<p>Usually, we use Regular Expression (the syntax) to denote Regular Languages (set
of strings).</p>

<p>Empty string (Epsilon)  {â€œâ€}
1-char string           {â€œcâ€}
Compound
  Union                 A + B
  Concatenation         AB
  Interation            A*</p>

<p>The regular expressions over Î£(alphabet) are the smallest set of expressions
including:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">// Grammar
</span><span class="line">R = e
</span><span class="line">  | 'c'
</span><span class="line">  | R +R
</span><span class="line">  | RR
</span><span class="line">  | R*</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Example</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Î£= {0, 1}
</span><span class="line">
</span><span class="line">1*       - represents "" + 1 + 11 + 111 ...
</span><span class="line">(1 + 0)1 - represents 11, 01
</span><span class="line">(0 + 1)* - represents all possible strings, we call it Î£*</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="formal-language">1.3 Formal Language</h2>

<p>Inside of the compiler, we typically have several different formal languages
that we are manipulating. A Regular Expression is one example.</p>

<p><strong>A Formal Language has a set of alphabet Î£</strong>. A language over Î£ is a set of
strings of characters drawn from Î£.</p>

<table>
  <thead>
    <tr>
      <th>Alphabet</th>
      <th>Language</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>a-z</td>
      <td>English</td>
    </tr>
    <tr>
      <td>ASCII</td>
      <td>C</td>
    </tr>
  </tbody>
</table>

<p><strong>A Formal Language has a meaning function L, that maps syntax to semantics</strong>. Why
itâ€™s necessary:</p>

<ul>
  <li>It makes clear what is syntax, what is semantics</li>
  <li>Allow to abstract notaion as a separate issue (1,2,10 vs I,II,X)</li>
</ul>

<p>Generally, <strong>meaning function L is many to one</strong>. Syntax (expressions) and semantics
(meanings) are not 1-1, but many to one, which means there are different ways,
optimizations, to achieve the same meaning.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">L(e) = M
</span><span class="line">L: Exp -&gt; Set of strings
</span><span class="line">
</span><span class="line">L(e)     = {""}
</span><span class="line">L('c')   = {"c"}
</span><span class="line">L(A + B) = L(A) â‹ƒ L(B)
</span><span class="line">L(AB)    = { ab | a âˆˆ (LA) , b âˆˆL(B) }
</span><span class="line">L(A*)    = L(A^i) for i &gt;=0</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Example, L in Regular Expression</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">?     = {""}
</span><span class="line">c     = {"c"}
</span><span class="line">[AB]  = L(A) â‹ƒ L(B)
</span><span class="line">AB    = { ab | a âˆˆ (LA) , b âˆˆL(B) }
</span><span class="line">A*    = L(A^i) for i &gt;=0
</span><span class="line">A+    = AA*</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="lexcial-specification">1.4 Lexcial Specification</h2>

<ol>
  <li>Write a rexp for the lexemes of each token class, like R1 = Number, R2 = Identifier..</li>
  <li>Construct R, matching all lexemes of all tokens. R = R1 + R2 ..</li>
  <li>Let input be x1..xn, for <code>1 &lt;= i &lt;= n</code>, check x1..xi âˆˆ L(R)</li>
  <li>If so, then we know that x1..xi âˆˆ L(Rj) for some i</li>
  <li>Remove x1..xi from input and go to 3.</li>
</ol>

<p>To resolve ambiguities</p>

<ul>
  <li>Apply â€œMaximal Munchâ€ to the input, matching <code>==</code> instead of <code>=</code>.</li>
  <li>Choose highest priority match, (usually list the high priority one first), like putting Keyword ahead of Identifiers</li>
</ul>

<p>To handle errors</p>

<ul>
  <li>Better not let it happen; otherwise specify a Error to denote all strings not in the lexical spec, put it last in priority</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Lexical Analysis -- partition input into lexemes
</span><span class="line">                 -- identify token of each lexeme
</span><span class="line">
</span><span class="line">                  described by
</span><span class="line">Lexical Analysis -------------- Lexical Spec
</span><span class="line">                                      |
</span><span class="line">                                Formal Language
</span><span class="line">                                      |           implemented by
</span><span class="line">                                Regular Language ---------------- Regular Expression
</span><span class="line">                                                 \--------------- Finite Automata (NFA, DFA)</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="finite-automata">1.5 Finite Automata</h2>

<p><strong>We use Regular Expression as the Lexical Specification and we use Finite
Automata as the implementation.</strong></p>

<p>A finite automata consists of
* An input alphabet Î£
* A finite set of states S
* A start state n
* A set of transitions, state + input -&gt; state
* A set of accepting states F âˆˆ S</p>

<p>For a transition s1 + input -&gt; s2, if itâ€™s in accpeting state =&gt; accept;
otherwise =&gt; reject. Eg. terminating in a state that S not âˆˆ F or getting stuck
of a state that cannot be moved.</p>

<p>So Language of a FA is the set of accepted strings.</p>

<p>If we allow a transition from s1 + e -&gt; s2, that means for one input, we
have two valid states, which ends up having two syntax mapping to one semantic.
To define <strong>Deterministic Finite Automata</strong>:</p>

<ul>
  <li>No e moves</li>
  <li>For one input, there is only one transition from a state</li>
</ul>

<p>NFA can have e moves. Essentially, deterministic means for one input, there is
one path through the state graph.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">DFA: -&gt; s1 -&gt; s2 -&gt; ... F
</span><span class="line">NFA: -&gt; s1 -&gt; s2  -&gt; s2a
</span><span class="line">        |        \-&gt; s2b
</span><span class="line">        e        \-&gt; s2c
</span><span class="line">        |
</span><span class="line">        s3  -&gt; s3a
</span><span class="line">           \-&gt; s3b
</span><span class="line">           \-&gt; s3c</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As for one input, NFA might end up multiple states. We say an NFA accepts if
any one of the path finishes at an accepting state.</p>

<p>NFA, DFA and Regular Expression all have equivalent power for specifying Regular
Language.</p>

<ul>
  <li>DFA are faster to execute, as there are no choices to consider. (TIME)</li>
  <li>NFA are in general (might be exponentially) smaller. (SPACE)</li>
</ul>

<p>NFA TO DFA</p>

<p>e-closure for a state is all the states that it can reach through e move.</p>

<p>An NFA may be in many states at any time, but how many different states? For N
states, there would be 2**N - 1 finite set of possible states (except for the
empty set).</p>

<p>NFA</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">states: S
</span><span class="line">start : s âˆˆS
</span><span class="line">final : F
</span><span class="line">transition: a(X) = { y | x âˆˆX, x + a -&gt; y }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>to transit to DFA</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">states: subsets of S
</span><span class="line">start : e-closure(s)
</span><span class="line">final : { X | X â‹‚ F != empty }
</span><span class="line">transition: X + a -&gt; Y if Y = e-closure(a(X))</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>IMPLEMENTING DFA</p>

<p>A DFA can be implemented by a 2D table T
* One dimension is states
* Ohter dimension is input symbol
* For every transition Si + a -&gt; Sk, define T[i,a] = k</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">input = "01010";
</span><span class="line">i = 0;
</span><span class="line">state = S;
</span><span class="line">
</span><span class="line">while (input[i]) {
</span><span class="line">  state = T[state, input[i]];
</span><span class="line">  i++;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="parsing">2 Parsing</h1>

<h2 id="intro-2">2.1 Intro</h2>

<p>Heuristic: why is there a Parsing stage?</p>

<p>A Regular Language is the weakest Formal Language thatâ€™s widely used, no matter is Regular
Expression, NFA, DFA, it has its limit on expressing, eg. nested structure.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">()
</span><span class="line">(())
</span><span class="line">((()))
</span><span class="line">
</span><span class="line">if ... then
</span><span class="line">  if ... then
</span><span class="line">    if ... then
</span><span class="line">    fi
</span><span class="line">  fi
</span><span class="line">fi</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Parsing is the stage to help apply more analysis onto tokens.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  stream of characters        stream of tokens             parse tree
</span><span class="line">------------------------ LA -------------------- Parser --------------- ..</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="context-free-grammars">2.2 Context Free Grammars</h2>

<h3 id="cfg---intro">2.2.1 CFG - Intro</h3>

<p>Since not all strings of tokens are programs, a parser must distinguish between valid and invalid
string of tokens. We need</p>

<ul>
  <li>a language for describing valid string of tokens, and</li>
  <li>a method (algorithm) for distinguishing valid from invalid string of tokens</li>
</ul>

<p>Context Free Grammars is help to solve the first point, which is to answer â€œyesâ€ or â€œnoâ€ whether a
string of tokens is valid.</p>

<p>Programming languages have recursive strucutres. CFG are a natural notaion for
this recursive structure.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">EXPR -&gt; if EXPR then EXPR els EXPR fi
</span><span class="line">      | while EXPR loop EXPR pool
</span><span class="line">      | ...</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A CFG consists of</p>

<ul>
  <li>a set of terminals, T</li>
  <li>a set of non-terminals, N</li>
  <li>a start symbol, S, where S (- N</li>
  <li>a set of productions or rules, X -&gt; Y1â€¦Yn, where X (- N, Yi (- T + N + {e}</li>
</ul>

<p><code>X-&gt;Y1..Yn</code> means you can replace X with <code>Y1..Yn</code>. This also explains that Terminal means there are
no rules to replace them.</p>

<p>Eg, to represent nested structure</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; e
</span><span class="line">S -&gt; (S)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To use CFG to present a language: Let G be a CFG with start symbol S, then the language L(G) is</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">{ a1..an | V ai (- T, S *-&gt; a1..an }
</span><span class="line">           for all</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You can derive from S (with the defined of productions) to <code>a1..an</code>, which are all valid string of tokens.</p>

<p>Usually we use <code>bison</code> to implement a CFG.</p>

<h3 id="cfg---deriviations">2.2.2 CFG - DERIVIATIONS</h3>

<p>A derivation is a sequence of productions.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; * -&gt; * ... -&gt; *</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A derivation can be drawn as a tree, Parse Tree.</p>

<ul>
  <li>use start symbol as the root</li>
  <li>for a production <code>X -&gt; Y1..Yn</code>, add children <code>Y1..Yn</code> to node <code>X</code>.</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  X
</span><span class="line">/  | \
</span><span class="line">Y1 Y2 Y3</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A parse tree</p>

<ul>
  <li>has terminal at the leaves and non-terminals at the interior nodes</li>
  <li>an in-order traversal of the leaves is the original input</li>
  <li>shows the assocation of operations, the input string does not</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Grammar: E -&gt; E+E | E*E|| (E) | id
</span><span class="line">Input:   id * id + id
</span><span class="line">Derivation:
</span><span class="line">
</span><span class="line">        E
</span><span class="line">   /    |    \
</span><span class="line">  E     +     E
</span><span class="line">/ | \         |
</span><span class="line">E *  E        id
</span><span class="line">|    |
</span><span class="line">id   id</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A derivation defines a parse tree, but a parse tree may have many derivations.
Left-most and right-most derivations are important in parser implementations.</p>

<h3 id="cfg---ambiguity">2.2.3 CFG - AMBIGUITY</h3>

<p>A grammar is ambiguous if it has more than one parse tree for some string.
For a string of tokens: <code>id * id + id</code>, there are two parse trees can be derived with the following
grammar <code>E -&gt; E+E | E*E | (E) | id</code>.</p>

<p>To fix it, we can rewrite grammar unambiguously, to enforce precedence</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; E' + E | E'
</span><span class="line">E' -&gt; id * E' | id | (E) * E' | (E)
</span><span class="line">
</span><span class="line">E manage +,   as E -&gt; E' + E -&gt; E' + E' + E =&gt; E' + E' + .. E'
</span><span class="line">E' manage *,  as E' -&gt; id * E' -&gt; id * id * E' =&gt; id * id * .. id
</span><span class="line">E' manage (), as E' -&gt; (E) * E' -&gt; (E' + E' .. E') * E'</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Itâ€™s impossible to convert automatically. Instead of rewriting, we can also use the more natural
(ambiguous) grammar along with disambiguating declarations. Most tools allow <strong>precedence and
associativity</strong> declarations to disambiguate grammars.</p>

<h3 id="cfg---error-handling">2.2.4 CFG - ERROR HANDLING</h3>

<p>A compiler not only translates the valid programms, but also detects non-valid ones.</p>

<table>
  <thead>
    <tr>
      <th>Erro kind</th>
      <th>Example</th>
      <th>Detected by</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Lexical</td>
      <td>..$..</td>
      <td>Lexer</td>
    </tr>
    <tr>
      <td>Syntax</td>
      <td>..x*%..</td>
      <td>Parser</td>
    </tr>
    <tr>
      <td>Semantic</td>
      <td>int x; y = x(3);</td>
      <td>Type checker</td>
    </tr>
    <tr>
      <td>Correctness</td>
      <td>your program</td>
      <td>User</td>
    </tr>
  </tbody>
</table>

<p>Error recorvery</p>

<ul>
  <li>Panic mode. When an error is encountered, discard tokens until one with a clear role is found. The
synchronizing tokens are typicall the statements or expression terminators, like ;</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">// in bison, there is a special terminal error to describe how much input to skip
</span><span class="line">E -&gt; int | E + E | (E) | error int | (error)
</span><span class="line">     ------------------  -------------------
</span><span class="line">           normal               error</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li>Error productions</li>
</ul>

<p>Add <code>E -&gt; .. | EE</code> to support <code>5x</code> in addition to <code>5 * x</code></p>

<ul>
  <li>Error correction: automatic local or global correction by try token insertions and deletions
(historially, due to the slow compilation cycle)</li>
</ul>

<h2 id="abstract-syntax-tree">2.3 Abstract Syntax Tree</h2>

<p>Rather than working on the elaborate parse tree, we can use a more compact (abstract) one</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">-----------------
</span><span class="line">| PLUS | 5 |    |
</span><span class="line">-----------------
</span><span class="line">               |
</span><span class="line">               |--&gt; ----------------
</span><span class="line">                    | PLUS | 2 | 3 |
</span><span class="line">                    ----------------</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="recursive-descent-parsing">2.4 Recursive-Descent Parsing</h2>

<p>Top-down. The parse tree is constructed from the top and from left to right. Start with top-level
non-terminal E, try the rules for E <strong>in order</strong>.</p>

<p>Letâ€™s take an example:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; T | T + E
</span><span class="line">T -&gt; int | int * T | (E)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We should define a few helper funcsionts along with a <code>next</code> pointer pointing to the next input token.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">term(tok: TOKEN) -&gt; bool { return *next++ == tok } // check a token is terminal
</span><span class="line">Sn() -&gt; bool                                       // check the nth production of S
</span><span class="line">S() -&gt; bool                                        // check all productions of S</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; T              E1() -&gt; bool { T() }
</span><span class="line">E -&gt; T + E          E2() -&gt; bool { T() &amp;&amp; term(PLUS) &amp;&amp; E() }
</span><span class="line">                    E()  -&gt; bool {  save = next;
</span><span class="line">                                    (next = save, E1()) ||
</span><span class="line">                                    (next = save, E2()) }
</span><span class="line">
</span><span class="line">T -&gt; int            T1() -&gt; bool { term(INT) }
</span><span class="line">T -&gt; int * T        T2() -&gt; bool { term(INT) &amp;&amp; term(TIMES) &amp;&amp; T() }
</span><span class="line">T -&gt; ( E )          T3() -&gt; bool { term(LEFT) &amp;&amp; E() &amp;&amp; term(RIGHT) }
</span><span class="line">                    T()  -&gt; bool {  save = next;
</span><span class="line">                                    (next = save, T1()) ||
</span><span class="line">                                    (next = save, T2()) ||
</span><span class="line">                                    (next = save, T3()) }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>LIMITATIONS</p>

<p>If a production for non-terminal X succeeds, there is no way to backtract and try a different
production for X later. like matching against <code>int * int</code>, our program would stop after parsing the
first <code>int</code>. A general RD algorithm should support such â€œfullâ€ backtracking. We can also rewrite our
grammar to make it work without backtracking, by rewriting to eliminate left recursion.</p>

<p>LEFT RECURSION</p>

<p>Considering a production S -&gt; Sa, there will be a loop</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S1() -&gt; bool { return S() &amp;&amp; term(a) }
</span><span class="line">S()  -&gt; bool { return S1() }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A left-recursive grammar has a non-terminal S, where S -&gt; Sa for some a. Recursive-descent doesnâ€™t
work with in such cases. Generally, given a left-resurive gramar with Recursive-descent algorithm,
it runs into a loop.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; Sa | b
</span><span class="line">
</span><span class="line">=&gt;
</span><span class="line">S -&gt; Sa -&gt; Saa -&gt; Saaa -&gt; ... -&gt; baaaaa</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>But, we can rewrite it using right-recursion.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; bS'
</span><span class="line">S' -&gt; aS' | e
</span><span class="line">
</span><span class="line">=&gt;
</span><span class="line">S -&gt; bS' -&gt; baS' -&gt; baaS' -&gt; ... -&gt; baaaaa</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To make it more general</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; Sa1 | Sa2 .. San | b1 | b2 .. bm</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>can be rewritten as</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S -&gt; b1S' | b2S' .. bmS'
</span><span class="line">S' =&gt; a1S' | a2S' .. anS' | e</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>SUMMARY</p>

<p>Recursive-descent parsing is a simple and general parsing strategy, which is used in GCC frontend.
To use it, left recursion must be eliminated first.</p>

<h2 id="predictive-parsing">2.5 Predictive Parsing</h2>

<blockquote>
  <p>deterministic top-down parsing</p>
</blockquote>

<p>In Recursive-descent parsing, at each step, there are many choices of production to use. Therefore,
we need to backtrack to undo bad choices. Predictive parsing are a lot like Recursive-descent
parsing, but it can â€œpredictâ€ which production to use by looking at the next few tokens, thus there
is no need to backtrace.</p>

<p>Predictive parers accept LL(k) grammars. At each step, there should be at most one choice of
production.</p>

<ul>
  <li>Left-to-right</li>
  <li>Left-most derivation</li>
  <li>k tokens looking ahead</li>
</ul>

<p>Eg. in Recursive-descent parsing, we have the grammar</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; T + E | T
</span><span class="line">T -&gt; int | int * T | (E)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In Predictive parsing, we should left-factor the grammar to make it LL(k) grammar:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; TX
</span><span class="line">X -&gt; + E | e
</span><span class="line">
</span><span class="line">T -&gt; intY | (E)
</span><span class="line">Y -&gt; * T | e</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>How to apply the Recursive-descent parsing?</p>

<p>Once we have the LL(1) grammar, we should build a LL(1) parsing table: the row is left-most
non-terminals, and the column is the next input token, content is the production rule to use, and
empty content is the error state.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+---+------+----+----+----+-----+---+
</span><span class="line">| _ | int  | *  | +  | (  |  )  | $ |
</span><span class="line">+---+------+----+----+----+-----+---+
</span><span class="line">| E | TX   |    |    | TX |     |   |
</span><span class="line">| X |      |    | +E |    | e   | e |
</span><span class="line">| T | intY |    |    |    | (E) |   |
</span><span class="line">| Y |      | *T | e  |    | e   | e |
</span><span class="line">+---+------+----+----+----+-----+---+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The algorithm maintains a stock records frontier of parse tree. Top of the stack is the left-most
pending terminal or non-terminal. It accpets on end of input $ &amp; empty stack. It rejects on reaching
error state.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">initialize stack = &lt;S $&gt; and next
</span><span class="line">repeat
</span><span class="line">  case stack of
</span><span class="line">    &lt;X, rest&gt; : if T[X, *next] = Y1...Yn
</span><span class="line">                then stack = &lt;Y1...yn rest&gt;;
</span><span class="line">                else error();
</span><span class="line">    &lt;t, rest&gt; : if t == *next ++
</span><span class="line">                then stack = &lt;rest&gt;;
</span><span class="line">                else error();
</span><span class="line">until stack == &lt;&gt;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>How to build build LL(1) parsing table?</p>

<p>Consider non-terminal A, and production A -&gt; a &amp; token t, there are two valid cases for T[A,t] = a:</p>

<ol>
  <li>If a -&gt;* tb, which means a can derive t in the first position, we say t âˆˆFirst(a), t belongs to
the First Set of a.</li>
  <li>Else if A -&gt; a and a -&gt;* e and S -&gt;* <em>At</em>, which means A cannot derive t, but t follows up A in
at least one derivation, we say t âˆˆFollow(A).</li>
</ol>

<p>First Set</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">First(X) = { t | X -&gt;* ta } â‹ƒ { e | X -&gt;* e }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Follow Set</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Follow(X) = { t | S -&gt;* _Xt_ }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To construct a parsing table T for CFG G, for each production A -&gt; a in G do:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">For each terminal t âˆˆ First(a) do T[A, t] = a
</span><span class="line">if e âˆˆFirst(a), foreach t âˆˆFollow(A) do T[A, t] = a</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If in the table, any entry is multiply defined, then G is not LL(1), eg. G is not left factored,
left recursive, or ambiguous.</p>

<h2 id="bottom-up-parsing">2.6 Bottom-up Parsing</h2>

<p>Bottom-up parsing is more general than (deterministic) top-down parsing, but just as efficient.
Bottom-up builds on ideas in top-down parsing and is the preferred method for most of generator
tools. Bottom-up parsers donâ€™t need left-factored grammar.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E -&gt; T + E | T
</span><span class="line">T -&gt; int * T | int | (E)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Bottom-up parsing reduces a string to the start symbol by inverting productions.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">                       input string
</span><span class="line">
</span><span class="line">int * int + int              ^    |
</span><span class="line">int * T   + int              |    |
</span><span class="line">T         + int  production  |    |  reduction
</span><span class="line">T         + T                |    |
</span><span class="line">T         + E                |    |
</span><span class="line">E                            |    v
</span><span class="line">
</span><span class="line">                       start symbol</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Important Fact #1 about Bottom-up parsing: A bottom-up parser traces a rightmost derivation in
reverse.</p>

<p>This has an interesting implication: let Î±Î²Ï‰ be a step of a bottom-up parse, assume the next
reduction is by X -&gt; Î², then Ï‰ must be a string of terminals</p>

<h3 id="shift--reduce">SHIFT &amp; REDUCE</h3>

<p>First, we need a marker and the left handside is called left string and right side is right string.</p>

<p>Bottom-up parsing uses only two kinds of actions:</p>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Shift: Move</td>
          <td>one place to the right <code>ABC|xyz =&gt; ABCx|yz</code></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Reduce: Apply an inverse production at the right end of the left string</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">If A -&gt; xy is a production, then Cbxy|ijk =&gt; CbA|ijk</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Left string can be implemented by a stack. Shift move pushes a terminal onto the stack. Reduce move
pops symbols off of the stack (production rhs) and pushes a non-terminal back to the stack
(production lhs).</p>

<h3 id="handles">HANDLES</h3>

<blockquote>
  <p>How do we decide when to shift or reduce?</p>
</blockquote>

<p>Bottom-up parsing algorithms are based on recognizing handles.</p>

<p>We should reduce only if the result can still be reduced to the start stymbol. Assume a rightmost
derivation, <code>S -&gt;* aXw -&gt; abw</code>, then <code>ab</code> is a handle of <code>abw</code>.</p>

<p>Important Fact #2 about Bottom-up parsing: In shift-reduce parsing, handles appear only at the top
of the stack, never inside.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">stack|input
</span><span class="line">
</span><span class="line">(E|)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In terms of recognizing handles, there are no efficent algorithms, but there are heuristic guessing
always correct for some CFGS.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">All CFGs
</span><span class="line">  Unambiguous CFGs
</span><span class="line">    LR(k) CFGs
</span><span class="line">      LALR(k) CFGs
</span><span class="line">        SLR(k) CFGs</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>a</code> is a <strong>viable prefix</strong> if there is an <code>w</code> such that <code>a|w</code> is a state of shift-reduce parser.</p>

<p>Important fact #3 about Bottom-up parsing: For any grammar, the set of viable prefixs is a regular
language (can be recognized by a FA).</p>

<p>To recognize viable prefixes: we must</p>

<ul>
  <li>recognize a sequence of partial rhsâ€™s of productions, where</li>
  <li>each partial rhs can eventually reduce to part of the missing suffix of its predecessor</li>
</ul>

<p>I DONâ€™T QUITE FOLLOW THIS PART IN DETAILS, HERE IS THE ROADMAP</p>

<ul>
  <li>handles</li>
  <li>items</li>
  <li>valid prefix</li>
  <li>recognize valid prefix</li>
  <li>valid items</li>
</ul>

<h1 id="semantic-analysis">3 Semantic Analysis</h1>

<p>Lexical analysis detects inputs with illegal tokens; Parsing detects with ill-formed parse trees;
and Semantic Analysis, as last front-end phase, catches all remaning errors, eg</p>

<ul>
  <li>all identifiers are declared</li>
  <li>types</li>
  <li>inheritance relationships</li>
  <li>classes defined only once</li>
  <li>method in a class defined only once</li>
  <li>reserved identifiers are not misused</li>
</ul>

<p>Much of Semantic Analysis can be expressed as recursive descent of an AST:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">before: process an AST node n
</span><span class="line">recurse: process the children of n
</span><span class="line">after: finish processing the node n
</span><span class="line">
</span><span class="line">Eg. let x: Int &lt;- 0 in e
</span><span class="line">before: add the definition of x to current definitions, overriding any other definition of x
</span><span class="line">recurse: recurse processing children of e
</span><span class="line">after: remove definition of x and restore the old definition of x</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="identifiers">3.1 Identifiers</h2>

<h3 id="scope">SCOPE</h3>

<p>The scope of an identifier is the portion of a program in which that identifier is accesible. Scope
helps match identifier declarations with uses. There are two kinds of scopes:</p>

<ul>
  <li>most languages use static scope, which means scope depends only on the program text, not runitme behaviour;</li>
  <li>a few languages are dynamically scoped, like LISP. A dynamically-scoped variable refers to the closest
enclosing binding in the execution of the program.</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">f(x) = a + 1
</span><span class="line">
</span><span class="line">let a = 4 in {
</span><span class="line">  f(x)
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Static scopes in Cool lang is introduced by:</p>

<ul>
  <li>class declarations</li>
  <li>method definitions</li>
  <li>attribute definitions</li>
  <li>let expression</li>
  <li>case expressions</li>
  <li>formal parameters</li>
</ul>

<h3 id="symbol-tables">SYMBOL TABLES</h3>

<p>When performing Semantic Analysis on a portion of the program, we need to know which identifiers are
defined. Therefore we introduce a data structure that tracks the current bindings of identifiers,
which is Symbol Table.</p>

<p>For its recursive nature, we can use stack to represent nested scopes and a set to represent Symbol
Table in each scope</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class=""><span class="line">enter_scope()  - start a new nested scope
</span><span class="line">find_symbol(x) - find x (or null) in current scope
</span><span class="line">add_symbol(x)  - add symbol x to the table
</span><span class="line">check_scope(x) - true if x defined in current scope
</span><span class="line">exit_scope()   - exit current scope
</span><span class="line">
</span><span class="line">scope: x, y
</span><span class="line">  scope: x, y, z
</span><span class="line">                       -- enter_scope(), add_symbol(a)
</span><span class="line">    scope: x, y, z, a
</span><span class="line">                       -- exit_scope()</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>There are cases, like Class names, that can be used before being defined. We cannot check class
names using Symbol Table or in one pass. We can gather all class names first and do the checking.
Therefore, Semantic Analysis requires multiple passes.</p>

<h2 id="types">3.2 Types</h2>

<p>What is a type? The notion varies from language to language. But a consensus is: a set of values and
a set of operations on those values. Classes are one instantiation of the modern notion of type,
like in OO.</p>

<p>A languageâ€™s type system specifies which operations are valid for which types. The goal of type
checking is to enture that operations are used with the correct types. There is no types in an
assembly language, therefore there are no types at the bit level in the machine code. So, type is a
virtual concept at the language level, and to type check is to enforce the intended interpretation of values.</p>

<p>There are a few kinds:</p>

<ul>
  <li>static typed langs: C, Java. A lot of code is written in statically typed lang has an â€œescapeâ€
                    mechanism: like unsafe casts in C, Java (void pointer can be anything).</li>
  <li>dynamic typed langs: Lips, Ruby. A lot of dynamically typed lang rewrites their compilers with
                    static lang for optimization and better debugging.</li>
  <li>untyped langs: machine code</li>
</ul>

<h3 id="type-checking">3.2.1 TYPE CHECKING</h3>

<p>When type checking, the compiler basically infers types for every expression, to make sure itâ€™s used
with the correct type.</p>

<p>Weâ€™ve seen two forma notations specifying parts of a compiler: Regular Expression and Context-Free
Grammars. The formalism for type check is <strong>logic rules of inference</strong>, which has the form that â€œif
Hypothesis is true, then Conclusion is true.â€ By tradition, inference rules are written as</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">âŠ¢ Hypothesis .. âŠ¢ Hypothesis
</span><span class="line">----------------------------
</span><span class="line">         âŠ¢ Conclusion
</span><span class="line">
</span><span class="line">âŠ¢ means "it's provable that..."</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If there is no Hypothesis required, we can consider it as an axiom</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">----------------------------
</span><span class="line">         âŠ¢ Axiom
</span><span class="line">
</span><span class="line">--------
</span><span class="line">âŠ¢ 1: Int</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As an example, the inference rule for Int plus operation is</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">âŠ¢ e1: Int âŠ¢ e2: Int
</span><span class="line">-------------------
</span><span class="line">  âŠ¢ e1+e2: Int</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A type system is sound if whenever <code>âŠ¢ e: T</code>, then <code>e</code> evaluates to a value of type <code>T</code>. So, type
checking proves the fact of <code>e: T</code> on the strucuture of the AST, which then maintains the shape of
AST. There is one type rule used for each AST node and in a type rule of node <code>e</code>: Hypotheses are the proofs of
types of <code>e'</code>s subexpression and conclustion is the type of <code>e</code>. So, types are computed in a
bottom-up pass over the AST.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">   +                    âŠ¢ 1: Int âŠ¢ 2: Int
</span><span class="line"> /   \                  -----------------
</span><span class="line">1      2                    âŠ¢ 1+2: Int</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="type-environment">3.2.2 TYPE ENVIRONMENT</h3>

<p>Heuristic: for a literal <code>1 is an Int</code>, we know that <code>âŠ¢ 1: Int</code>; but for a variable <code>x</code> how could we
know it type.</p>

<p>A type environment gives types for free variables/identifiers in the current scope, by free it means
the varaible is not defined. So, we can consider a type environment is a function from identifiers
to types.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x                       // x is free
</span><span class="line">x + y                   // x, y is free
</span><span class="line">let y = 1 in { x + y }  // x is free, y is bound</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>With the type environment, we can refine our Conclusion branch in inference rules: <code>O âŠ¢ e: T</code>, under
the assumption that free variables have the types given by <code>O</code>, itâ€™s provable that the expression
<code>e</code> has type <code>T.</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O(x) = T
</span><span class="line">--------    [Var]
</span><span class="line">O âŠ¢ x: T</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To make it more scoped, we can introduce another notation <code>O[T/x]</code>, which means <code>x</code> is of type <code>T</code>
in <code>O</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">   O[T/x] âŠ¢ e: T
</span><span class="line">--------------------      [Let]
</span><span class="line">O âŠ¢ let x: T in e: T</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A type environment is built inisde the Symbol Table and gets passed down the AST from root to
leaves. Types are computed up the AST from the leaves towars the root.</p>

<h3 id="subtype-methods-and-implementation">3.2.3 SUBTYPE, METHODS and IMPLEMENTATION</h3>

<p>SUBTYPE</p>

<p>Letâ€™s look at the <code>[Assign]</code> inference rule</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O âŠ¢ e1: T1
</span><span class="line">O(x) = T0       [Assign]
</span><span class="line">T1 &lt;= T0
</span><span class="line">-------------
</span><span class="line">O âŠ¢ x = e1: T1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What about <code>[if-then-else]</code>? It should be the smallest supertype larger than each branch. We
introduce <code>lub(X,Y)</code>, the least upper bound of X and Y. In an OO language, <code>lub</code> of two types is the
least common ancestor in the inheritance tree.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O âŠ¢ e0: Bool
</span><span class="line">O âŠ¢ e1: T1
</span><span class="line">O âŠ¢ e2: T2
</span><span class="line">-----------------------------------------
</span><span class="line">O âŠ¢ if e0 then e1 else e2 fi: lub(T1, T2)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>METHODS</p>

<p>In the example language COOL, method and object identifiers in different name spaces, that a method
<code>foo</code> and an object <code>foo</code> can coexist in the same scope. This is reflected by a separate mapping <code>M</code>
for method signatures, which we call the method environment. In most cases, <code>M</code> is passed down the
AST and only gets used in <code>Dispatch</code> rules.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">M(C, f) = (T1, T2, ... Tn, Tn+1)
</span><span class="line">
</span><span class="line">// The method signature of f in class C
</span><span class="line">
</span><span class="line">f(x1: T1, x2: T2 ... xn: Tn): Tn+1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Therefore a method is type checking by</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O, M âŠ¢ e0: T0                          [Dispatch]
</span><span class="line">M(T0, f) = (T1', T2', ... Tn', Tn+1)
</span><span class="line">
</span><span class="line">O, M âŠ¢ e1: T1
</span><span class="line">...
</span><span class="line">O, M âŠ¢ en: Tn
</span><span class="line">
</span><span class="line">Ti &lt;= Ti' for 1 &lt;= i &lt;= n
</span><span class="line">-----------------------------------
</span><span class="line">O, M âŠ¢ e0.f(e1, ..., en): Tn+1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For a static dispatch, we require users to use <code>e0@T</code> explicitly</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O, M âŠ¢ e0: T0                          [Static-dispatch]
</span><span class="line">M(T0, f) = (T1', T2', ... Tn', Tn+1)
</span><span class="line">T0 &lt;= T
</span><span class="line">
</span><span class="line">O, M âŠ¢ e1: T1
</span><span class="line">...
</span><span class="line">O, M âŠ¢ en: Tn
</span><span class="line">
</span><span class="line">Ti &lt;= Ti' for 1 &lt;= i &lt;= n
</span><span class="line">-----------------------------------
</span><span class="line">O, M âŠ¢ e0@T.f(e1, ..., en): Tn+1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>SELF_TYPE</p>

<p>For a language supports self type, we need to know that which class the expression appears in. So
the full type environment for COOL is</p>

<ul>
  <li>A mapping <code>O</code> gives types to object identifiers</li>
  <li>A mapping <code>M</code> gives types to method identifiers</li>
  <li>The current class <code>C</code></li>
</ul>

<p>IMPLEMENTING</p>

<p>COOL type checking can be implemented in a single traversal of the AST, that type environment is
pass down and types are passed up.</p>

<p>Letâ€™et take <code>[Let-init]</code> as an example. Inference rule is the defined as</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">O,M,C âŠ¢ e0: T0
</span><span class="line">O[T/x], M, C âŠ¢ e1: T1
</span><span class="line">T0 &lt;= T
</span><span class="line">-------------------------------
</span><span class="line">O,M,C âŠ¢ let x: T = e0 in e1: T1</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The implementation would be</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">TypeCheck(Environment, let x: T = e0 in e1) = {
</span><span class="line">    T0 = TypeCheck(Environment, e0);
</span><span class="line">    T1 = TypeCheck(Environment.add(x: T), e1);
</span><span class="line">    Check subtype(T0, T);
</span><span class="line">    return T1;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="static-vs-dynamic">3.2.4 STATIC VS. DYNAMIC</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">
</span><span class="line">class A { .. }
</span><span class="line">class B inherits A { .. }
</span><span class="line">class Main {
</span><span class="line">  x: A = new A;           // static type of x is A, dynamic type of x is A
</span><span class="line">  x = new B;              // dynamic type of x is B now
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In COOL, <code>dynamic_type(E) &lt;= static_type(E)</code></p>

<h3 id="selftype">3.2.5 SELF_TYPE</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class=""><span class="line">class Count {
</span><span class="line">  i: int = 0;
</span><span class="line">  inc(): Count {
</span><span class="line">    i = i + 1;
</span><span class="line">    self;
</span><span class="line">  }
</span><span class="line">}
</span><span class="line">
</span><span class="line">class Stock inherits Count {
</span><span class="line">  name: String;
</span><span class="line">}
</span><span class="line">
</span><span class="line">class Main {
</span><span class="line">  Stock a = (new Stock).inc(); // Type error, as we are assigning Count to Stock
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So, we should extend the type system with SELF_TYPE, which allows the return type of <code>inc</code> to change
whne <code>inc</code> is inherited.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">class Count {
</span><span class="line">  i: int = 0;
</span><span class="line">  inc(): SELF_TYPE {
</span><span class="line">    i = i + 1;
</span><span class="line">    self;
</span><span class="line">  }
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="runtime-organizations">4 Runtime Organizations</h1>

<p>Before we get into optimization and code generation, we need to understand what we are trying to
generate. A runtime organization controls the management of run-time resources. Particually, to
understand a compiler works, we should understand the correspondenc between static (compile-time)
and dynamic (run-time) strucutres: what is done by the compiler and what is deferred to the
generated program actually runs.</p>

<p>Execution of a program is initially by OS. When a program is invoked: the OS allocates space for the
program; the code is loaded into part of the space; the OS jumps to the entry point (â€œmainâ€).</p>

<p>In terms of space (memroy), traditionally itâ€™s like this. A compiler is responsible for generating
code and orchestrating code to use the data space.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+
</span><span class="line">|     code    | ---+
</span><span class="line">+-------------+    |
</span><span class="line">|             |    |
</span><span class="line">|     data    | &lt;--+
</span><span class="line">|             |
</span><span class="line">+-------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="activations">4.1 Activations</h2>

<p>There are two goals for code generation: correctness and speed. To talk about that, we need to talk
about activations.</p>

<p>An invocation of procedure P is an activation of P. The lifetime of an activation of P is all the
steps of execute P, including all the steps in procedures P calls. We can also say that the lifetime
of a varaible x is the portion of execution in which x is defined. To be noted that, lifetime is a
dynamic (run-time) concept, whereas scope is a static (compile-time) concept.</p>

<p>Given, when P calls Q, then Q returns before P returns, activation lifetimes can be depicted as a
activation tree. The activation tree depends on run-time behaviour and may be different for every
program input.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class=""><span class="line">class Main {
</span><span class="line">  g(): Int { 1 };
</span><span class="line">  f(): Int { 2 };
</span><span class="line">  main() { g(); f(); }
</span><span class="line">}
</span><span class="line">
</span><span class="line">  main
</span><span class="line">  /  \
</span><span class="line">g     f
</span><span class="line">
</span><span class="line">class Main {
</span><span class="line">  g(): Int { 1 };
</span><span class="line">  f(x: Int): Int { if x == 0 then g() else f(x-1) };
</span><span class="line">
</span><span class="line">  main(): Int {
</span><span class="line">    f(3)
</span><span class="line">  }
</span><span class="line">}
</span><span class="line">
</span><span class="line">main
</span><span class="line">  |
</span><span class="line">  f(3)
</span><span class="line">  |
</span><span class="line">  f(2)
</span><span class="line">  |
</span><span class="line">  f(1)
</span><span class="line">  |
</span><span class="line">  f(0)
</span><span class="line">  |
</span><span class="line">  g</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Since activations are properly nested, we can use a stack to track currently active procedures.</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+
</span><span class="line">|     code    |
</span><span class="line">+-------------+
</span><span class="line">|     stack   | ------------+
</span><span class="line">|       |     |             |
</span><span class="line">|       v     |            main
</span><span class="line">|             |             |
</span><span class="line">+-------------+             f(3)
</span><span class="line">                            |
</span><span class="line">                            ..
</span><span class="line">                            |
</span><span class="line">                            g</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="activation-records">4.2 Activation Records</h2>

<p>So what information we should keep for activations? The information needed to manage one procedure
activation is called an Activation Record or Frame.</p>

<p>If procedure F calls G, then Gâ€™s activation records contains a mix of info about F and G. Becuase
Gâ€™s AR should contain information to 1. complete execution of G 2. resume execution of F.</p>

<p>This is one of many possible AR designs (which works for C)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+----------------+
</span><span class="line">| result         |
</span><span class="line">+----------------+
</span><span class="line">| argument       |
</span><span class="line">+----------------+
</span><span class="line">| control link   |   // who calls the current activation
</span><span class="line">+----------------+
</span><span class="line">| return address |   // where to resume execution after the current activation
</span><span class="line">+----------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Letâ€™s review this example again:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
</pre></td><td class="code"><pre><code class=""><span class="line">class Main {
</span><span class="line">  g(): Int { 1 };
</span><span class="line">  f(x: Int): Int { if x == 0 then g() else f(x-1) (**) };
</span><span class="line">
</span><span class="line">  main(): Int {
</span><span class="line">    f(3); (*)
</span><span class="line">  }
</span><span class="line">}
</span><span class="line">
</span><span class="line">+----------------+ &lt;-+              main
</span><span class="line">| Main AR        |   |                |
</span><span class="line">+----------------+   |                |
</span><span class="line">                     |                |
</span><span class="line">+----------------+ &lt;-|---+           f(3)
</span><span class="line">| result         |   |   |            |
</span><span class="line">+----------------+   |   |            |
</span><span class="line">| argument: 3    |   |   |            |
</span><span class="line">+----------------+   |   |            |
</span><span class="line">| control link   | --+   |            |
</span><span class="line">+----------------+       |            |
</span><span class="line">| return (*)     |       |            |
</span><span class="line">+----------------+       |            |
</span><span class="line">                         |            |
</span><span class="line">+----------------+       |           f(2)
</span><span class="line">| result         |       |            |
</span><span class="line">+----------------+       |            |
</span><span class="line">| argument: 2    |       |            |
</span><span class="line">+----------------+       |
</span><span class="line">| control link   | ------+
</span><span class="line">+----------------+
</span><span class="line">| return (**)    |
</span><span class="line">+----------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The compiler must determine, at compile-time, the layout of AR and generate code
that correctly accesses location in the activation records. Thus, <strong>the AR layout and the code
generator must be designed together.</strong></p>

<h2 id="global--heaps">4.3 Global &amp;&amp; Heaps</h2>

<p>Globals cannot be stored in AR as all references to a global variable should point to
the same object. So, globals are assigned at a fixed address once, as statically allocated.</p>

<p>For values that outlive the procedure that creates it cannot be kept in the AR neither, like in
<code>method foo() { new Bar }</code>, that <code>Bar</code> value must survive deallocation of <code>foo</code>â€™s AR. So, we need to
use heap to store dynamically allocated data.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+ Low address
</span><span class="line">|    code     |
</span><span class="line">+-------------+
</span><span class="line">|             |
</span><span class="line">| static data |
</span><span class="line">|             |
</span><span class="line">+-------------+
</span><span class="line">|   stack     |
</span><span class="line">|     |       |
</span><span class="line">|     v       |
</span><span class="line">|.............|
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|             |
</span><span class="line">|.............|
</span><span class="line">|     ^       |
</span><span class="line">|     |       |
</span><span class="line">|    heap     |
</span><span class="line">+-------------+ High address</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="alignment">4.4 Alignment</h2>

<blockquote>
  <p>This is a very low level but important detail of machine architecture.</p>
</blockquote>

<p>Most modern machines are 32 or 64 bit: 8 bits in a byte, and 4 or 8 bytes in a <strong>word</strong>. Machines are
either byte or word addressable.</p>

<p>Data is <strong>word aligend</strong> if it begins at a word boundary. Most machines have some alignment
restrictions or performance penalties for poor alignment.</p>

<h1 id="code-generation">5 Code Generation</h1>

<h2 id="stack-machines">5.1 Stack Machines</h2>

<blockquote>
  <p>the simplest model for code generation</p>
</blockquote>

<p>A stack machines use a stack as the only storage. An instruction <code>r = F(a1,...an)</code> is executed as</p>

<ul>
  <li>Pops n operands from the stack</li>
  <li>Computes the operation F</li>
  <li>Pushes result back to the stack</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">5 + 7
</span><span class="line">
</span><span class="line">push(5) - push 5 on the stack
</span><span class="line">push(7) - push 7 on the stack
</span><span class="line">add     - pop, add and push 12 on the stack</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="stack-machine-vs-register-machine">5.1.1 Stack machine vs Register machine</h3>

<p>Whatâ€™s the benefit of using a stack machine?</p>

<p>Location of the operands/result is not explicitly stated, as which are always on the top of the
stack. We consider <code>add</code> as a valid operation, instead of <code>add r1, r2</code> in a register machine. This
leads to more compact programs (space). Java bytecode uses stack evaluation.</p>

<p>However, a register machine is mostly preferred and generally faster (time), because we can place
the data at exactly where we want it to be, which has generally less intermediate operations and
manipulation like pushing and popping off the stack.</p>

<h3 id="n-register-stack-machine">5.1.2 n-register stack machine</h3>

<p>Itâ€™s an intermediate form between pure stack machine and register machine. Conceptually, keep the
top n locations of the pure stack machineâ€™s stack in registers. A 1-register stack machines is
called the accumulator.</p>

<p>In a pure stack machine, an <code>add</code> does 3 memory operations, with two reads and one write to the
stack. In a 1-register stack machine, <code>add</code> does one read as <code>acc &lt;- acc + top_of_stack</code>.</p>

<p>In a general form, for expression <code>op(e1,..en)</code> (each <code>e</code> is an subexpression)</p>

<ul>
  <li>for each <code>ei</code>
compute <code>ei</code>
store the result in <code>acc</code>
push result on the stack</li>
  <li>Pop n-1 values from the stack, compute <code>op</code></li>
  <li>Store result in <code>acc</code></li>
</ul>

<p>The invariance a stack machine maintains: After evaluating an expression e, the accumulator holds
the value of e and the stack is unchanged. This is a very important property: <strong>Expression
evaluation preserves the stack</strong>.</p>

<h2 id="intro-3">5.2 Intro</h2>

<p>Weâ€™ll focus on generating code for a stack machine with accumulator. We simulate stack machines
instrinstructions using MIPS instructions and registers. MIPS architecture is prototypical RISC.
Most operations use registers sfor operands &amp; results, use load&amp;store instructions to use values in
memory. There 32 general purpose registers (32 bits each), weâ€™ll use <code>$a0 $sp $t1</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Stack Machine                       MIPS
</span><span class="line">
</span><span class="line">accumulator                         $a0 register
</span><span class="line">stack                               memory
</span><span class="line">  the next location on the stack    $sp
</span><span class="line">  the top of stack                  $sp + 4 (stack grows towards lower addresses)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>MIPS instruction list</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line"># register - memory
</span><span class="line">lw reg1 offset(reg2)    load a 32-bit word from reg2+offset into reg1
</span><span class="line">sw reg1 offset(reg2)    store a 32-bit word in reg1 at address reg2+offset
</span><span class="line">
</span><span class="line"># register - immediate value
</span><span class="line">li reg imm              eg. li reg 4
</span><span class="line">
</span><span class="line"># register - add operation
</span><span class="line">add reg1 reg2 reg3
</span><span class="line">addiu reg1 reg2 imm</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="code-gen">5.3 Code Gen</h2>

<p>Letâ€™s define a simple language with integers and integer operations</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">P -&gt; D; P | D
</span><span class="line">
</span><span class="line">D -&gt; def id(ARGS) = E;
</span><span class="line">ARGS -&gt; id, ARGS | id
</span><span class="line">
</span><span class="line">E -&gt; int | id | if E1 = E2 then E3 else E4
</span><span class="line">      | E1 + E2 | E1 - E2 | id(E1,...En)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For each expression <code>e</code> we generate MIPS code that
* Computes the value of <code>e</code> in <code>$a0</code>
* Preserves <code>$sp</code> and the contents of the stack</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class=""><span class="line">cgen(e1 + e2) =
</span><span class="line">  // compile time code prints out runtime code
</span><span class="line">
</span><span class="line">  cgen(e1)
</span><span class="line">  print "sw $a0 0($sp)"           // push value onto stack
</span><span class="line">  print "addiu $sp $sp-4"
</span><span class="line">
</span><span class="line">  cgen(e2)
</span><span class="line">
</span><span class="line">  print "lw $t1 4($sp)"           // load value from stack
</span><span class="line">  print "add $a0 $t1 $a0"         // add
</span><span class="line">  print "addiu $sp $sp 4"         // pop from stack</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>How about code gen for functions?</p>

<p>Code for function calls and function definitions depend on the layout of the AR. A very simple AR
suffices for COOL lang:</p>

<ul>
  <li>The result is always in the accumulator (no need to store in the AR)</li>
  <li>The AR holds actual parameters. For <code>f(x1,..xn)</code> push <code>xn,..x1</code> on the stack</li>
  <li>The stack discipline guarantees that on function exit <code>$sp</code> is the same as it was on function
entry (no need for a control link)</li>
  <li>We need the return address</li>
  <li>A pointer to the current activation is useful. This pointer lives in register <code>$fp</code> (frame pointer)</li>
</ul>

<p>For AR, the callerâ€™s frame pointer, the actual parameters and the return address suffices.</p>

<p>A call to <code>f(x, y)</code> the AR is</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+
</span><span class="line">| old fp      |
</span><span class="line">+-------------+
</span><span class="line">| y           |
</span><span class="line">+-------------+
</span><span class="line">| x           |
</span><span class="line">+-------------+
</span><span class="line">| return addr |
</span><span class="line">+-------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The calling sequene is the instructions (of both caller and callee) to set up a function invocation.</p>

<p>The caller
  * saves its value of the frame pointer
  * then it saves the actual parameters in reverse order
  * finally the caller saves the return address in register $ra
  * The AR so far is 4*n + 4 bytes long
The callee
  * pops the return address, the actual arguments and restores the callerâ€™s frame pointer</p>

<p>Summary:</p>

<ul>
  <li>The AR must be designed together with the code generator</li>
  <li>Code generation can be done by recursive traversal of the AST</li>
  <li>Production compilers do different things:
    <ul>
      <li>Emphasis on keeping values in registers</li>
      <li>Intermediate results (temporaries) are laid out in the AR, not pushed and poped from the stack</li>
    </ul>
  </li>
</ul>

<p>How about temporaries?</p>

<p>A rule of thumb is to keep temporaries in AR. So, code generation must know how many temporaries are
in use at each point, which can be done by looking at the AST.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-------------+
</span><span class="line">| old fp      |
</span><span class="line">+-------------+
</span><span class="line">| xn          |
</span><span class="line">+-------------+
</span><span class="line">| ..          |
</span><span class="line">+-------------+
</span><span class="line">| x1          |
</span><span class="line">+-------------+
</span><span class="line">| return addr |
</span><span class="line">+-------------+
</span><span class="line">| temp 1      |
</span><span class="line">+-------------+
</span><span class="line">| temp 2      |
</span><span class="line">+-------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="code-gen---object-layout">5.4 Code Gen - Object Layout</h2>

<p>OO Slogan: If B is a subclass of A, then an object of class B can be used wherever an object of
class A is expected. This means that code in class A has to work unmodified for object of class B,
at compile time.</p>

<p>Q. How are objects represented in memory?</p>

<p>Objects are laid out in contiguous memory. Each attributes stored at a fixed offset in the object.
WHen a method is invoed, <code>self</code> points to the  whole object.</p>

<p>The layout for Cool objects</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------------+ First 3 words are headers
</span><span class="line">| Class tag    |
</span><span class="line">+--------------+
</span><span class="line">| Object size  |
</span><span class="line">+--------------+
</span><span class="line">| Dispatch Ptr |
</span><span class="line">+--------------+ then attributes
</span><span class="line">| attr 1       |
</span><span class="line">+--------------+
</span><span class="line">| attr 2       |
</span><span class="line">+--------------+
</span><span class="line">| ...          |
</span><span class="line">+--------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Based on the observation: <strong>Given a layout for class A, a layout for subclass B can be defined by
extending the layout of A with additional slots of the addition attributes of B</strong>. So consider layout
of <code>A3 &lt; A2 &lt; A1</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------------+
</span><span class="line">| Header       |
</span><span class="line">+--------------+
</span><span class="line">| A1 attrs     |
</span><span class="line">+--------------+
</span><span class="line">| A2 attrs     |
</span><span class="line">+--------------+
</span><span class="line">| A3 attrs     |
</span><span class="line">+--------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The offset for an attribute is the same in a class and all of its subclasses.</p>

<p>Q. How is dynamic dispatch implemented?</p>

<p>Every class has a fixed set of methods, including inherited methods. A dispatch table is used to
index these mtehods. Itâ€™s an array of method entrypoints. A method <code>f</code> lives at a fixed offset in
the dispatch table for a class and all of its subclasses.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">A { f() }
</span><span class="line">B &lt; A { g() }
</span><span class="line">C &lt; A { f(); h() }</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The dispatch table would be: tables for B and C extend table for A to the right, and because methods
can be overriden, the method of f is not the same in every class, but is always at the same offset.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------+----+---+
</span><span class="line">| offset | 0  | 4 |
</span><span class="line">+--------+----+---+
</span><span class="line">| A      | FA |   |
</span><span class="line">| B      | FA | g |
</span><span class="line">| C      | FC | h |
</span><span class="line">+--------+----+---+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So back to the dispatch pointer, the dispatch pointer in an object of class X points to the dispatch
table for class X:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+--------------+
</span><span class="line">| Class tag    |
</span><span class="line">+--------------+
</span><span class="line">| Object size  |     Dispatch Table
</span><span class="line">+--------------+     +-------------------+
</span><span class="line">| Dispatch Ptr | --&gt; |    |    |    |    |
</span><span class="line">+--------------+     +-------------------+
</span><span class="line">| Attrs        |
</span><span class="line">+--------------+</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Every method <code>f</code> of <code>X</code> is assigned an offset <code>Of</code> in the dispatch table at compile time. Thatâ€™s why
we maintain the offset when extending dispatch table.</p>

<p>Theorectially we can save the table directly as we do for attributes. But attributes are
states that 100 objects can each have a different set of attributes values. Methods are static that
it makes sense to share the common table among objects.</p>

<h2 id="evaluation-semantics">5.5 Evaluation Semantics</h2>

<blockquote>
  <p>runtime semantics, compared to compile-time Semantic Analysis</p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">LA - SA - Semantic Analysis - Code Generation
</span><span class="line">                                     |
</span><span class="line">              +---               bytecode                ---+
</span><span class="line">              |                      |                      |
</span><span class="line">              |              +---------------+              |
</span><span class="line">        Execution            | Stack Machine |    Evaluation Semantics
</span><span class="line">              |              +---------------+              |
</span><span class="line">              |                      |                      |
</span><span class="line">              +---             machine code              ---+
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In Code Generation, we need to define an evaluation rule, which is also called Semantics.</p>

<p>Letâ€™s look back the definition of a programming language:
* The tokens is parsed by Regular Expressions in Lexical Analysis
* The grammar is represented by CFG in Syntactic Analysis
* The typing rule is represented by Inferenece Rule in Semantics Analysis
* The evaluation rules is represented by Semantics in Code Generation and Optimization</p>

<p>We have specified evaluation rules indirectly by
* the compilation of Cool program to a stack machine bytecode; and
* the evaluation rules of the stack machine, which translates bytecode to some assembly program</p>

<p>This is a complete description of evaluation rules, but itâ€™s not good enough, as assembly-language
descriptions of language implementations have irrelevant details, that we donâ€™t want it become the
only way to execute our program.</p>

<ul>
  <li>whether to use a stack machine or not</li>
  <li>which way the stack grows</li>
  <li>how integers are represented</li>
  <li>the particular instruction set of the architecture</li>
</ul>

<p>Therefore, weâ€™d love to have a complete description, but not an overly restrictive specification.</p>

<p>There are many ways to specify semantics:</p>

<ul>
  <li>Operational semantics: it describes program evaluation via execution rules on an abstract machine,
which is most useful for specifying implementations.</li>
  <li>Denotation semantics: programâ€™s meaning is mapping to a mathematical function</li>
  <li>Axiomatic semantics: programâ€™s behaviour is described via logical formalae. Itâ€™s the foundation of
many program verification systems.</li>
</ul>

<h2 id="operational-semantics">5.6 Operational Semantics</h2>

<p>We should introduce a formal notation, which is Logical rules of inference as in type checking.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line"># in type checking, this means in a given context, expression e has type C
</span><span class="line">Context âŠ¢ e: C
</span><span class="line">
</span><span class="line"># in evaluation, this means in a given context, expression e evaluates to value v
</span><span class="line">Context âŠ¢ e: v</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Consider the evaluation of <code>y &lt;- x + 1</code>, we should track variables and their values with:</p>

<ul>
  <li>an environment: where a variable is in memory</li>
  <li>a store: what is in the memory</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  environment          store
</span><span class="line">     |                   |
</span><span class="line">var ---&gt; memory address ---&gt; value</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A variable environment maps variables to locations, that keeps track of which variables are in scope
and tells us where those variables are</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">E = [a: l1, b: l2]</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A store maps memory locations to values</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">S = [l1 -&gt; 5, l2 -&gt; 7]
</span><span class="line">
</span><span class="line">S' = S[12/l1] defines a new store S' which has a substitution of l1 to 12</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Cool values are objects, which define <code>X(a1 = l1, ..., an = ln)</code> as a Cool object where <code>X</code> is the
class name, <code>ai</code> are the attributes (including the inherited ones) and <code>li</code> the location where the
value of <code>ai</code> is stored.</p>

<p>There are a few special cases (classes withouth attributes)
* <code>Int(5)</code>
* <code>Bool(true)</code>
* <code>String(4, "abcd")</code>
* <code>void</code> of type Object and usually use <code>NULL</code> as the concrete implementation</p>

<p>The evaluation judgement is</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">so, E, S âŠ¢ e: v, S'
</span><span class="line">
</span><span class="line">Given
</span><span class="line">  so as the current value of self
</span><span class="line">  E as the current variable environment
</span><span class="line">  S as the current store
</span><span class="line">If the evaluation of e terminates then
</span><span class="line">  the value of e is v
</span><span class="line">  the new store is S'</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Therefore, the result of an evaluation is a value and a new store, where new store models the
side-effects.</p>

<p>Examples</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  E(id) = lid
</span><span class="line">  S(lid) = v
</span><span class="line">-------------------
</span><span class="line">so, E, S âŠ¢ id: v, S</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="intermediate-language">5.7 Intermediate language</h2>

<p>A language between source and target. With more details than souce and less than target.</p>

<p>Intermidate language can be considered as high-level assmebly. It uses register names, but has an
unlimited number. It uses control structures as assembly language. It uses opcodes but some are
higher level, like <code>push</code> translates to several assembly instructions.</p>

<p>Usually, we prefer to apply optimizations over IL, instead of AST or assembly language.</p>

<h1 id="optimization">6 Optimization</h1>

<h2 id="intro-4">6.1 Intro</h2>

<p>Most complexity in modern compilers is in the optimizer. Optimization seeks to improve a programâ€™s
resoure utilization: execution time, code size and network messages sent, etc. In practice, not all
fancy optimizations known are implemented, given the difficulty to implement, the cost in
compilation and low payoff. So, the goal of optimization should be to get maximum benefit with
minimum cost.</p>

<p>Q. What should we perform optimizations?</p>

<p>On AST (after Semantic Analysis)
* pro: machine independent
* con: too high level</p>

<p>On Assembly language (after code gen)
* pro: expose optimization opportunities
* con: machine independent
* con: must reimplement optimizations when re-targeting</p>

<p>On Intermediate language
* pro: machine independent
* pro: expose optimization opportunities</p>

<p>Q. What are the units of optimization?</p>

<p>A basic block is a maximal sequence of instructions with no labels (except at the first instruction)
and no jumps (except in the last instruction), which makes it a single-entry, single-exit,
straight-line code segment.</p>

<p>For example, within this basic block, given 3 executes only after 2, we can change 3 to be <code>w := 3*x</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">1. L:
</span><span class="line">2.  t := 2*x
</span><span class="line">3.  w := t + x
</span><span class="line">4.  if w &gt; 0 goto L</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A control-flow graph is a directed graph with basic block as nodes. Between the nodes, there can be
an edge from block A to block B if the execution can pass from the last instruction in A to the
first instruction in B. Usually, the body of a function can be represented as a control-flow graph.</p>

<p>Q. What are granularities of optimizations? Like in C</p>

<ol>
  <li>Local optimization: apply to a basic block in isolation</li>
  <li>Global optimization (itâ€™s not really global, but to function): apply to a control-flow graph in
isolation</li>
  <li>Inter-procedural optimization: apply across function boundaries.</li>
</ol>

<p>Most compilers do 1, many do 2 and few do 3.</p>

<h2 id="local-optimization">6.2 Local Optimization</h2>

<p>Each local optimization does little by itself, given the scope of basic block. But optimizations
typically interfact, comiplers repeat optimizations until no improvement is possible.</p>

<p>ALGEBRAIC OPTIMIZATION</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x = x * 0   =&gt; x = 0
</span><span class="line">y = y ** 2  =&gt; y = y*y
</span><span class="line">x = x * 8   =&gt; x = x &lt;&lt; 3</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>CONSTANT FOLDING, that operations on constants can be computed at compile time. This can be
dangerous when compiler and gen code are running on different archs, eg. how float is represented.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x = 2 + 2 =&gt; x = 4</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>ELIMINIATE UNREACHABLE BASIC BLOCKS</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#define DEBUG 0
</span><span class="line">if DEBUG {
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Some optimizations are simplified if each register occurs only once on the left-hand side of an
assignment. We can rewrite intermediate code in <strong>SINGLE ASSIGNMENT FORM</strong>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x := z + y   =&gt;   b := z + y
</span><span class="line">a := x            a := b
</span><span class="line">x := 2 * x        x := 2 * b</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>COMMON SUB-EXPRESSION ELIMINATION</p>

<p>If basic block is in single assignment form, and a definition <code>x:=</code> is the first use of <code>x</code> in a
block, then when two assignments have the same rhs, they compute the same value.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x := y + z                    =&gt;  x := y + z
</span><span class="line">... // this won't change x
</span><span class="line">w := y + z                        w := x</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>COPY PROPAGATION, which assumes single assignment form</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">b := z + y  =&gt;  b := z + y
</span><span class="line">a := b          a := b
</span><span class="line">x := 2 * a      x := 2 * b</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>DEAD CODE ELIMINATION, which assumes single assignement form</p>

<p>if <code>w := rhs</code> appears in a basic block, <code>w</code> does not appear anywhere else in the program. then <code>w</code>
is dead in the sense of not contributing to the programâ€™s result that can be eliminated.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">x := z + y  =&gt;  b := z + y  =&gt;  b := z + y
</span><span class="line">a := x          a := b
</span><span class="line">x := 2 * b      x := 2 * b      x := 2 * b</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>PEEPHOLE OPTIMIZATION</p>

<p>Itâ€™s a variation of local optimization, which directly applies on assemly code. The peephole is a
short sequenve of (usually contiguous) instructions. The optimizer replaces the sequenve with
another equivalent one (but faster).</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">// move from b to a
</span><span class="line">move $a $b, move $b $a -&gt; move $a $b
</span><span class="line">
</span><span class="line">addiu $a $a i, addiu $a $a j -&gt; addiu $a $a i+j</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This implies that many simple optimizations can still be applied on assembly language. â€œProgram
optimizationâ€ is grossly misnamed, that code produced by â€œoptimizersâ€ is not optimal in any
reasonable sense. â€œProgram improvementâ€ is a more appropriate term.</p>

<h2 id="global-optimization">6.3 Global Optimization</h2>

<h3 id="dataflow-analysis">6.3.1 Dataflow analysis</h3>

<p>Before we get understand some global optimization technique, like global constant propagation, we
need to know the dataflow analysis.</p>

<p>Can we propagate constant <code>X := 3</code> to the end result?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  X := 3
</span><span class="line">  B &gt; 0
</span><span class="line">/          \
</span><span class="line">Y := Z + W    Y := 0
</span><span class="line">X := 4
</span><span class="line">\          /
</span><span class="line">  A := 2 * X</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To replace a use of <code>x</code> by a constant <code>k</code> we must know: on every path to the use of <code>x</code>, the last
assignment to <code>x</code> is <code>x := k</code>.</p>

<p>The correctness condition is not trivial to check. It requres global dataflow analysis, which is an
anylysis of the entire control-flow graph.</p>

<p>Global optimization tasks share several traits:</p>

<ul>
  <li>the optimization depends on knowing a property <code>X</code> at a particular point in program execution</li>
  <li>proving <code>X</code> at any point requires knowledge of the entire program</li>
  <li>itâ€™s Ok to be conservative, that we may say <code>X</code> is definitely true, or Donâ€™t know if <code>X</code> is true.</li>
</ul>

<p>There are many global dataflow analysis, but they all follow the methodology: <strong>The analysis of a
complicated program can be expressed as a combination of simple rules relating the change in
information between adjacent statements.</strong></p>

<h3 id="global-constant-propogation">6.3.2 Global constant propogation</h3>

<p>To replace a use of <code>x</code> by a constant <code>k</code> we must know: on every path to the use of <code>x</code>, the last
assignment to <code>x</code> is <code>x := k</code>.</p>

<p>Letâ€™s consider the case of computing for a single variable <code>X</code> at all program ponts. To make the
problem precise, we associate one of the following values with <code>X</code> at every program point</p>

<ul>
  <li>âŠ¥ that <code>X</code> is bottom, this statement never executes</li>
  <li>C that <code>X</code> is constant <code>C</code></li>
  <li>T that <code>X</code> is top, means <code>X</code> is not a constant</li>
</ul>

<p>How to compute the properties <code>X = ?</code> at each program point?</p>

<p>It means to tag the property <code>X</code> before each statement in the program.We should define a transfer
function that transfers information one statement to another. There are 8 general rules in total,
here is one example</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">if C(pi, X, out) = T, for any preceder of s, then C(s, X, in) = T</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The algorithm is depicted as</p>

<ul>
  <li>For every entry <code>s</code> to the program, set <code>C(s, X, in) = T</code>, set <code>C(s, X, in) = C(s, X, out) = âŠ¥</code> everywhere else</li>
  <li>Repeat until all points satisfy rule 1-8
Pick <code>s</code> not satisfiying rule 1-8 and update using the appropriate rule</li>
</ul>

<p>ORDERING</p>

<p>We can simplify the presentation of the analysis by ordering the values that <code>âŠ¥ &lt; C &lt; T</code>
To make it clear, that all constants are in between and incomparable.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">      T
</span><span class="line">/  /  |  \   \
</span><span class="line">   .. -1  0   1   ..
</span><span class="line">   \   \  |   /   /
</span><span class="line">      âŠ¥</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We can define the lub, least-upper bound</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">lub(âŠ¥, 1) = 1
</span><span class="line">lub(T, âŠ¥) = T
</span><span class="line">lub(1, 2) = T</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The use of lub explains why the algorithm terminates: Values start as <code>âŠ¥</code> and only increas and <code>âŠ¥</code>
can change to a constant, and to <code>T</code>, Thus <code>C(s, x, in/out)</code> can change at most twice.Therefore the
constant propagation algorithm is linear in program size:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Number of steps = Number of C(..) values compuated * 2
</span><span class="line">                = Number of program statements * 2 (in and out) * 2</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="liveness-analysis">6.3.3 Liveness Analysis</h3>

<p>â€œliveâ€ here means value may be used in the future.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">X := 3 // x is dead
</span><span class="line">X := 4 // x is live
</span><span class="line">y := X</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A variable <code>x</code> is live at statement <code>s</code> if</p>

<ul>
  <li>there exists a statement <code>s'</code> that uses <code>x</code></li>
  <li>there is a path from <code>s</code> to <code>s'</code></li>
  <li>that path has no intervening assignment to <code>x</code></li>
</ul>

<p>How do we gather the liveness information?</p>

<p>Just as we do in the constant propagation, we can express liveness in terms of information
transferred between adjacent statements. Itâ€™s simpler as it only needs a boolean property.</p>

<p>The algorithm is depicted as</p>

<ul>
  <li>Let all <code>L(..) = false</code> initially</li>
  <li>Repeat untile all statements <code>s</code> satisfy rules 1-4
pick <code>s</code> where one of 1-4 does not hold and update use the appropriate rule</li>
</ul>

<p>A value can change from <code>false</code> to <code>true</code>, but not the other way around, so the order is <code>false &lt;
true</code>. Each value can change only once, so termination is guaranteed. Once the analysis is
computed, it is simple to eliminate dead code.</p>

<p>Weâ€™ve seen two kinds of analysis:
* Constant propagation is a forward analysis that information is pushed from input to output.
* Liveness is backwards analysis that information is pushed from output back towards input.</p>

<h2 id="register-allocation">6.4 Register Allocation</h2>

<blockquote>
  <p>one of the most sophiscated things that compilers do to optimize performance</p>
</blockquote>

<p>Register Allocation is a â€œmust haveâ€ in compilers: because intermediate code uses too many
temporaries and it makes a big difference in performance.</p>

<blockquote>
  <p>temporaries -&gt; RIG -&gt; Graph Coloring</p>
</blockquote>

<p>Background: Intermediate code uses unlimited temporaries, which can simplify code generation and
optimization, but complicate the final translation to assembly. So, typical intermediate code uses
too many temporaries.</p>

<p>Problem: rewrite the intermediate code to use no more temporarie than there are machine
registers.</p>

<p>Solution: Register allocaiton is as old as compilers. There was a breakthrough in 1980 that people
found a algorithem thatâ€™s relatively simple, global and works well in practice, which is based on GRAPH
COLORING. The basic principle is: If t1 and t2 are live at the same time, they cannot share a
register.</p>

<p>Algorithm:</p>

<p>Construct an undirected graph, that a node for each temporary, an edge between t1 and t2
if they are live simultaneously at some point in the program, which is called REGISTER INTERFERENCE
GRAPH (RIG). Two temporaries can be allocated to the same register if there is no edge connecting
them. After RIG construction, the Register Allocation algorithm is architecture independent.</p>

<h3 id="graph-coloring">6.4.2 Graph Coloring</h3>

<p>A coloring of a graph is an assignment of colors to nodes, such that nodes connected by an edge have
different colors. A graph is K-COLORABLE if it has a coloring with k colors.</p>

<p>For Register Aollocation, we need to assign colors (registers) to graph nodes (temporaries), and let
k be the number of machine registers. If the RIG is k-colorable then there is a register assignment
that uses no more than k registers.</p>

<p>Graph coloring is hard:</p>

<ul>
  <li>Graph coloring is NP-hard, which means no efficient algorithems are known. So the solution is to use
heuristics, basically an approximation technique doesnâ€™t solve the problem completely.</li>
  <li>A coloring might not exist for a given number of registers. The solution is to spill some spare
registers to memory.</li>
</ul>

<p>Observation (divide and conquor):
* Pick a node t with fewer than k neighbours in RIG
* Eliminate t and its edges from RIG
* If resulting graph is k-colorable, then so is the original grpah
* If not, spill registers to memory</p>

<p>Algorithm:</p>

<ol>
  <li>Pick a node t fewer than k neighbours; put t on a stack and remove it from the RIG; repeat until
the graph is empty
If there is no way to pick the node t with fewer than k neighbours, spill it to memory</li>
  <li>Assigne colors to nodes on the stack, starting with the last node added. At each step, pick a
color different from those assigned to already colored neighbours.</li>
</ol>

<h2 id="managing-cache">6.5 Managing Cache</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">+-----------+---------------+-----------+
</span><span class="line">| Registers | 1 cycle       | 256-8000B |
</span><span class="line">| Cache     | 3 cycles      | 256K-1M   |
</span><span class="line">| Memory    | 20-100 cycles | 32M-4G    |
</span><span class="line">| Disk      | 0.5-5M cycles | 4G-1T     |
</span><span class="line">+-----------+---------------+-----------+
</span><span class="line">
</span><span class="line">*cycle is the clock frequency</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The cost of cache miss (for register) is very high, so typically it requires 2-layered cache to bridge
fast processor with large main memory.</p>

<p>Compilers are very good at managing registers, but not that good at managing caches. Compilers can,
and a few do, perform some cache optimizations.</p>

<p>A simple example is to perform a loop interchange.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">// from
</span><span class="line">for (j=1; j&lt;10; j++)
</span><span class="line">  for (i=1; i&lt;1000000; i++)
</span><span class="line">    a[i] = b[i]
</span><span class="line">
</span><span class="line">// to
</span><span class="line">for (i=1; i&lt;1000000; i++)
</span><span class="line">  for (j=1; j&lt;10; j++)
</span><span class="line">    a[i] = b[i]</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="automatic-memory-management-gc">6.6 Automatic Memory Management (GC)</h2>

<h3 id="intro-5">6.6.1 Intro</h3>

<ul>
  <li>Advantage: it prevents serious storage bugs</li>
  <li>Disadvantge:
    <ul>
      <li>it reduces programmer control, like the layout of data in memory, or when is memory
deallocated;</li>
      <li>inefficient in some cases</li>
      <li>pauses problematic in real-time applications</li>
      <li>memory leaks possible</li>
    </ul>
  </li>
</ul>

<p>Automatic Memory Management became mainstream with the popularity of Java.</p>

<ul>
  <li>When an object is created, unused space is automatically allocated</li>
  <li>After a while there is no unused space. Some space is occupied by objects that will never be used
again. This space can be freed to be reused later</li>
</ul>

<p>How do we know an object will â€œnever be used againâ€?</p>

<p>Observation: a program can use only the objects that it can find. An object <code>x</code> is REACHABLE if and
only if:</p>

<ul>
  <li>a register contains a pointer to <code>x</code>, or</li>
  <li>another reachable object <code>y</code> contains a point to <code>x</code></li>
</ul>

<p>You can find all reachable objects by starting from registers and following all the pointers. An
unreachable object can never be used, such objects are GARBAGE. One thing to be noted, reachability
is an approximation, which means you might be be able to find all reachability.</p>

<p>Every GC schema has the following steps:</p>

<ol>
  <li>Allocate space as needed for new objects</li>
  <li>When space runs out:
 a comput what objets might be used again (genearlly by tracing objects reachable from a set of
 â€œrootâ€ registers
 b free the space used by objects not found in a)</li>
</ol>

<h3 id="mark-and-sweep">6.6.2 Mark and Sweep</h3>

<ul>
  <li>Advantage: objects are not moved during GC, works well for languages with pointers like C and C++</li>
  <li>Disadvantge: fragment memory</li>
</ul>

<p>If there is no memory for GC happening, we can use some tricks, like reverse the pointer in the mark
phase and reuse garbage object in place as free list in the sweep phase.</p>

<p>CONSERVATIVE COLLECTION</p>

<p>This technique only works with Mark and sweep, as objects cannot be moved.</p>

<p>GC relies on being able to find all reachable objects which needs to find all pionters in an object.
In C or C++ it is impossible to identify the contents of objects in memory, thus we cannot tell
where all the pointers are.</p>

<p>But itâ€™s ok to be conservative: if a memory word looks like a pointer, itâ€™s considered to be a
pointer, like it must be algined, it must point to a valid address in the data segement.</p>

<h3 id="stop-and-copy">6.6.3 Stop and Copy</h3>

<p>Stop and copy is generally believed to be the fastest GC technique</p>

<ul>
  <li>Advantage: Allocation is very cheap (just increment the heap pointer). Collection is relatively
cheap, especially if there is a lot of garbage, as it only touches reachable objects</li>
  <li>Disadvantge: some languages do not allow copy, like C and C++.</li>
</ul>

<p>Memroy is organized into two areas: old space, used for allocation; new space, used as a reserve for GC</p>

<ol>
  <li>GC starts when the old space is full</li>
  <li>Copies all reachable objects from old space to new space, with garbage left behind</li>
  <li>After the copy, the roles of the old and new spaces are reversed and program resumes</li>
</ol>

<p>The problem is after we copy a reachable object into new space, we have to fix all pointers pointing
to it. One solution is to store in the old copy a forwarding pointer to the new copy.</p>

<h3 id="reference-counting">6.6.4 Reference Counting</h3>

<ul>
  <li>Advantage: easy to implement; collects garbage incrementally without large pauses in the execution</li>
  <li>Disadvantge: cannot collect circular structures; manipulating reference counts at each assignment is
very slow</li>
</ul>

<p>Rather than wait for memory to be exhausted, try to collect an object when there are no more
pointers to it. This requires to store in each object the number of pointers to that object, which
is the reference count. Each assignment operation manipulates the reference count.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Assume x, y point to objects o, p
</span><span class="line">
</span><span class="line">Every assignment x = y becomes
</span><span class="line">
</span><span class="line">rc(p) = rc(p) + 1
</span><span class="line">rc(o) = rc(o) + 1
</span><span class="line">if rc(o) == 0 then free o
</span><span class="line">x = y</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To solve the circular case, one way is to make programmer be aware of it when creating circular
data; another way is to combine with other GC technique, like running a Mark and sweep every once a
while.</p>

<h3 id="advanced-gc-algorithm">6.6.5 Advanced GC Algorithm</h3>

<ul>
  <li>concurrent: allow the program to run while the collection is happening (collector is running in
background)</li>
  <li>parallel: several collectors working at once</li>
  <li>generational: do not scan long-lived objects at every collection</li>
  <li>real time: bound the length of pauses</li>
</ul>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What I've done in 2020]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2020/01/13/what-ive-done-in-2020/"/>
    <updated>2020-01-13T12:34:18-05:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2020/01/13/what-ive-done-in-2020</id>
    <content type="html"><![CDATA[<blockquote>
  <p>A weekly log on my life and personal growth</p>
</blockquote>

<details>

<summary>ä»Šå¹´çš„æœ€çˆ± (Year&#8217;s Favourites)</summary>

<p>ç”µå½±</p>
<ul>
<li><a href="https://movie.douban.com/subject/30211998/">ç»…å£«ä»¬ The Gentlemen</a></li>
<li><a href="https://movie.douban.com/subject/33447642/">æ²‰é»˜çš„çœŸç›¸</a></li>
<li><a href="https://movie.douban.com/subject/26735549/">é»‘é’±èƒœåœ° Ozark Season</a></li>
<li><a href="https://movie.douban.com/subject/30223100/">æœ€åçš„èˆåŠ¨ The Last Danceâ€</a></li>
<li><a href="https://movie.douban.com/subject/34971810/">å…»è™ä¸ºæ‚£ Tiger Kingâ€</a></li>
<li><a href="https://movie.douban.com/subject/26952704/">å·´æ–¯ç‰¹Â·æ–¯å…‹é²æ ¼æ–¯çš„æ­Œè°£ The Ballad of Buster Scruggsâ€</a></li>
<li><a href="https://movie.douban.com/subject/30234315/">æ‘„å½±æœºä¸è¦åœï¼ ã‚«ãƒ¡ãƒ©ã‚’æ­¢ã‚ã‚‹ãªï¼</a></li>
<li><a href="https://movie.douban.com/subject/3718778/">æ°¸è¿œçš„è½¦ç¥ Senna</a></li>
<li><a href="https://movie.douban.com/subject/34678530/">ç–¾é€Ÿäº‰èƒœ ç¬¬äºŒå­£ Drive to Survive 2</a></li>
<li><a href="https://movie.douban.com/subject/1305530/">æ”¶ä»¶äººæœªè¯¦</a></li>
</ul>

<p>ä¹¦</p>
<ul>
<li><a href="https://waitbutwhy.com/2019/08/story-of-us.html">The Story of Us</a></li>
<li><a href="https://book.douban.com/subject/33430632/">Wait But Why Year One</a></li>
<li><a href="https://book.douban.com/subject/25838937/">ç¾ä¸½æ–°ä¸–ç•Œ</a></li>
<li><a href="https://book.douban.com/subject/2263709/">Writing Down the Bones</a></li>
<li><a href="https://book.douban.com/subject/25847219/">10% Happier</a></li>
<li><a href="https://book.douban.com/subject/6424727/">Six Easy Pieces</a> </li>
<li><a href="https://book.douban.com/subject/25742211/">ä¸Šå¸æ·éª°å­å—?</a></li>
<li><a href="https://book.douban.com/subject/1761167/">Illusions : The Adventures of a Reluctant Messiah</a></li>
<li><a href="https://book.douban.com/subject/26672693/">ä¸€ä¸ªå«æ¬§ç»´çš„ç”·äººå†³å®šå»æ­»</a></li>
<li><a href="https://book.douban.com/subject/26292964/">ä¸–ç•Œå°å²</a></li>
</ul>

<p>æ’­å®¢</p>
<ul>
<li><a href="https://shop.vistopia.com.cn/detail?id=YODjY&amp;source=ygxs">çœ‹ç†æƒ³ - ä¸­å›½æ‘‡æ»šå°å²</a></li>
<li><a href="https://castbox.fm/episode/%E5%B0%88%E8%A8%AA%E6%9D%8E%E5%BF%97%E8%AB%87%E4%BB%96%E7%94%9F%E5%91%BD%E4%B8%AD%E6%84%8F%E7%BE%A9%E6%B7%B1%E9%81%A0%E7%9A%84%E6%AD%8C-id3223510-id299099732?country=us">è€³æœµå€Ÿæˆ‘ - å°ˆè¨ªæå¿—è«‡ä»–ç”Ÿå‘½ä¸­æ„ç¾©æ·±é çš„æ­Œ</a></li>
<li><a href="https://podcasts.apple.com/ie/podcast/richard-hamilton-ep-41-all-smoke-full-episode-stayhome/id1483638752?i=1000476078297">All The Smoke - Richard Hamilton | Ep 41</a></li>
<li><a href="https://www.acquired.fm/episodes/the-nba">Acquired - The NBA</a>, <a href="https://www.acquired.fm/episodes/tiktok">Tiktok</a>, <a href="https://www.acquired.fm/episodes/season-3-episode-5nbspalibaba">Alibaba</a></li>
<li><a href="https://castbox.fm/episode/S1E2-%E2%80%93-good-kid%2C-m.A.A.d.-city-by-Kendrick-Lamar-id1358289-id83434805?utm_campaign=i_share_ep&amp;utm_medium=dlink&amp;utm_source=i_share&amp;country=us">Dissect - S1E2 â€“ good kid, m.A.A.d. city by Kendrick Lamar</a></li>
<li><a href="https://nav.al/rich">Naval Ravikant - How to Get Rich: Every Episode</a></li>
<li><a href="https://tim.blog/2015/08/18/the-evolutionary-angel-naval-ravikant/">Tim Ferris - Naval Ravikant - The Person I Call Most for Startup Advice (#97)</a></li>
<li><a href="https://tim.blog/2016/01/30/naval-ravikant-on-happiness-hacks/">Tim Ferris - Naval Ravikant on Happiness Hacks and the 5 Chimps Theory (#136)</a></li>
<li><a href="https://fs.blog/knowledge-project/naval-ravikant/">The Knowledge Project Ep. #18 - Naval Ravikant: The Angel Philosopher</a></li>
</ul>

<p>æ¸¸æˆ</p>
<ul>
<li><a href="https://douc.cc/1rDxjK">ç¥ç§˜æµ·åŸŸ4ï¼šç›—è´¼æœ«è·¯ Uncharted 4: A Thief&#39;s End</a></li>
<li><a href="https://douc.cc/03EcCD">ç©ºæ´éª‘å£« Hollow Knight</a></li>
</ul>

<p>åƒ</p>
<ul>
<li><a href="https://goo.gl/maps/BZvwbUjU8SBSbz346">Green Leaf Cafe</a> </li>
<li><a href="https://goo.gl/maps/tdYZgpxTDTzj5Sw97">åŠå±±çƒ§çƒ¤</a> </li>
<li><a href="https://goo.gl/maps/dKpkSUHfKbgqf3Eh8">Narita Sushi</a> </li>
<li><a href="https://g.page/yookvancouver?share">Yook Korean Grilled BBQ &amp; Bistro</a> </li>
<li><a href="https://g.page/anhandchi?share">Anh and Chi</a></li>
<li><a href="https://goo.gl/maps/F5T2Xqb237kHoWyu6">æ¸”äºº</a></li>
<li><a href="https://goo.gl/maps/7DBYGHTBU979f4bU7">äº¬é—¨æ¶®è‚‰</a></li>
</ul>

</details>

<h2 id="w52-1228---0103">W52 (12/28 - 01/03)</h2>

<ul>
  <li>åå…­å¤©çš„å‡æœŸï¼Œè½¬çœ¼å°±è¿‡å»äº†ã€‚å½“å¤„åœ¨ä¸€ç§ç†Ÿæ‚‰åˆè‡ªåœ¨çš„èŠ‚å¥é‡Œï¼Œæ—¥å­è¿‡çš„ä¸è®²ç†åœ°å¿« ğŸ˜¢</li>
  <li>å‘¨ä¸‰å»æ»‘é›ªï¼Œå¤©æ°”éå¸¸çš„é­ã€‚åœ°é¢ä¸‹æš´é›¨ï¼Œå±±ä¸Šä¸‹æš´é›ªï¼Œèƒ½è§åº¦å‡ ä¹ç­‰åŒäºæˆ‘æ‘˜ä¸‹å…­ç™¾åº¦çš„çœ¼é•œã€‚ç¬¬ä¸€åœˆç»“æŸæˆ‘å°±æƒ³å›å®¶äº†ï¼Œä½†æ˜¯æ¯•ç«Ÿå¼€äº†å¥½ä¹…çš„è½¦æ’äº†å¥½ä¹…çš„é˜Ÿï¼Œåè¾¹æ…¢æ…¢é€‚åº”åå¥½äº†å¾ˆå¤šã€‚ç‹¬è‡ªååœ¨ç¼†è½¦ä¸Šï¼Œå›æƒ³ä»¥å‰æŒ‰ç…§è‡ªå·±çš„é‡è·¯å­æ»‘ï¼Œä¸€æ¬¡éƒ½æ²¡æ‘”è¿‡ã€‚å»å¹´ç³»ç»Ÿå­¦ä¹ åï¼Œä»Šå¹´è¿™ä¸¤æ¬¡éƒ½åœ¨åŠªåŠ›å¯»æ‰¾å›å¿†çº æ­£åŠ¨ä½œï¼Œç»“æœæ¯æ¬¡éƒ½è¦æ‘”ä¸¤è·¤ã€‚æ¯”è¾ƒæ„å¤–çš„æ˜¯ï¼Œæ‘”åœ¨é›ªé¢ä¸Šå¾ˆèˆ’æœï¼Œæ‹¿è„¸åˆ¹è½¦ä¹Ÿæ˜¯ä¸€ç§é‡Šæ”¾ï¼Œå¿ƒæ€ä¸Šè®©æˆ‘æ›´æ”¾æ¾ã€‚é›ªåœºçš„è·¯äººä¸€èˆ¬ä¼šè¯´ï¼ŒEnjoy, have a good runï¼Œä½†æ˜¯æˆ‘å¿ƒé‡Œæƒ³çš„æ˜¯ï¼Œmeh, Iâ€™ll have a good fall.</li>
  <li>å…ƒæ—¦å’Œé«˜ä¸­å’Œå¤§å­¦çš„æœ‹å‹è§†é¢‘åº†ç¥ï¼Œæ–™æƒ³ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½å›å›½ç›¸èšï¼Œè¿˜æ˜¯çº¿ä¸Šäº‘å–ä¸€æ³¢å§ã€‚</li>
  <li>å‘¨å››çš„ #date-night æ­£å¥½æ˜¯31å·ï¼Œå’Œå–œç¦çš„æœ‹å‹ä¸€èµ·å»åƒäº†<a href="https://goo.gl/maps/GKCNpxLgEK5DTSJX9">å¤ªäºŒé…¸èœé±¼</a>ï¼›å‘¨å…­çš„ #movie-night ä¸€èµ·çœ‹äº†<a href="https://movie.douban.com/subject/27133913/">BlacKkKlansman</a>ã€‚</li>
  <li>å‘¨ä¸­å’Œå–œç¦åˆ·å®Œäº† <a href="https://movie.douban.com/subject/26844438/">Stranger Things Season 2â€</a>ï¼Œè¿™ç§èµ°å¥‡å¹»é£çš„å‰§åªèƒ½èµ°æ·±å‘è·¯çº¿ï¼Œå¹¶æ²¡æœ‰åŠæ³•æŒç»­çš„å¸å¼•äººï¼›æˆ‘è¯»å®Œäº†åˆ˜ç‘œçš„<a href="https://book.douban.com/subject/20463108/">è§‚å¿µçš„æ°´ä½</a>ï¼ŒWaitButWhy çš„ <a href="https://book.douban.com/subject/33430632/">Year One</a> å’Œ <a href="https://waitbutwhy.com/2019/08/story-of-us.html">The Story of Us</a>ï¼Œåè¾¹è¿™ä¸¤æœ¬å¯èƒ½æ˜¯æˆ‘å‡æœŸçš„æœ€å¤§æ”¶è·ã€‚è®°å¾—ç”µå½±é‡Œç»å¸¸å‡ºç°å·è½¦è´¼ç†Ÿç»ƒçš„æ‰¾åˆ°ç‚¹ç«çš„ä¸¤æ ¹ç”µçº¿ï¼Œç¢°åœ¨ä¸€èµ·å±å±ä½œå“ï¼Œå¯¹ï¼Œçœ‹è¿™ä¸¤æœ¬ä¹¦æ—¶æˆ‘è„‘å­é‡Œå°±æ˜¯è¿™ä¸ªå£°éŸ³ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w52-collage.jpg" alt="w52-collage" /></p>

<h2 id="w51-1221---1227">W51 (12/21 - 12/27)</h2>

<ul>
  <li>åœ£è¯å‡æœŸç¬¬ä¸€å‘¨ï¼Œå’Œå–œç¦å®‰é™çªåœ¨å®¶é‡Œã€‚æ¯å¤©é›ç‹—æ”¾é£ï¼Œå‰©ä¸‹æ—¶é—´åœ¨çœ‹ä¹¦ã€è£…å®¶å…·ã€åƒåƒå–å–ã€‚å¼€å§‹ä¸¤å¤©è¿˜ä¸ä¹ æƒ¯æ— æ‰€äº‹äº‹ï¼Œä¹‹åå°±å®Œå…¨è¿›å…¥â€œå…³é—­é—¹é“ƒâ€çŠ¶æ€äº†ï¼Œå‡æœŸå°±æ˜¯è¦æ²¡æœ‰å‹åŠ›ï¼Œå¿˜è®°æ—¶é—´ï¼Œåšå–œæ¬¢çš„äº‹ã€‚</li>
  <li>åœ£è¯å‰ä¸¤å¤©ï¼Œå¾ˆåº”æ™¯åœ°ä¸‹äº†ä¸€åœºå¤§é›ªï¼Œå¤ªé˜³æ”¾è‚†åœ°æ˜åªšäº†ä¸¤å¤©ï¼Œå°±åˆç¼©åˆ°äº‘é›¾é‡Œï¼Œç»§ç»­è®©é›¨ä¸€ç›´ä¸‹ã€‚</li>
  <li>å‘¨æœ«çœ‹åˆ°æ˜è¿œçš„å…¬ä¼—å·æ¨èæ¸©å“¥åå‘¨è¾¹çš„å¾’æ­¥ï¼Œæˆ‘ä»¬å¸¦ç€ Nikki å»äº† <a href="https://goo.gl/maps/drZiwHEVqDc5Suhk7">Buntzen Park</a>ã€‚ç°åœ¨å‡ºé—¨æ•£æ­¥ï¼Œæœ€åéƒ½å¾ˆè‡ªç„¶åœ°å˜æˆå»å„ç§ç‹—å…¬å›­æ‰“å¡ã€‚è¿™é‡Œæœ‰ä¸€ç‰‡ç‹—ç‹—æµ·æ»©ï¼ŒNikki ä¸€è¿›æ¥å°±æ’’è…¿å¥”å‘æ°´é¢ï¼Œä¸ç®¡åˆ®ç€å¤šå¤§é£é›¨ï¼Œå†·æš–ä¸è‡ªçŸ¥ï¼Œç©å°±å¯¹äº†ã€‚</li>
  <li>è¿™å‘¨é™†ç»­çœ‹å®Œäº†<a href="https://book.douban.com/subject/1813841/">æªç‚®ã€ç—…èŒä¸é’¢é“</a>ï¼Œ<a href="https://book.douban.com/subject/35219712/">The Almanack of Naval Ravikant</a>ï¼Œ<a href="https://book.douban.com/subject/20397289/">æ²¡æœ‰ä¸€æ¡é“è·¯æ˜¯é‡å¤çš„</a>ï¼Œ<a href="https://movie.douban.com/subject/26359270/">Stranger Things Season 1</a>ã€‚æˆ‘ä»Šå¹´å·²ç»ä¸­äº† Naval çš„æ¯’ï¼Œä»–çš„å„ç§é‡‡è®¿å·²ç»å¬è¿‡å¾ˆå¤šéï¼Œè¿™å›æ•´ç†æˆä¹¦ä¾ç„¶æƒŠå¹ä»–çš„å„ç§å½’çº³ä¸æ•´ç†ã€‚</li>
  <li>å‘¨å››çš„ #date-night åˆå»åƒäº†åŠå±±çƒ§çƒ¤ï¼Œä¸å¾—ä¸è¯´è¿™å®¶çš„ç‰›è‚‰é¢è®©æˆ‘ä»¬è®°å¿†çŠ¹æ–°ï¼›å‘¨å…­çš„ #movie-night çœ‹äº†<a href="https://movie.douban.com/subject/26683421/">ç‰¹å·¥</a>ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w51-collage.jpg" alt="w51-collage" /></p>

<h2 id="w50-1214---1220">W50 (12/14 - 12/20)</h2>

<ul>
  <li>åœ£è¯å‡æœŸå‰çš„æœ€åä¸€å‘¨ï¼Œæ¯å¤©éƒ½åœ¨åŠ ç­åŠ ç‚¹çš„å·¥ä½œã€‚å¼„äº†ä¸‰ä¸ªç¤¼æ‹œçš„é¡¹ç›®ï¼Œç»ˆäºåœ¨å‘¨å››æ™šä¸Šå…¨éƒ¨è·‘é€šï¼Œå‘¨äº”ç»™å¤§å®¶åšäº† demoï¼Œéå¸¸å®Œç¾ã€‚</li>
  <li>å„ç§å®¶å…·é™†é™†ç»­ç»­åˆ°äº†ï¼Œå®¶é‡Œå †çš„æ»¡æ»¡å½“å½“ï¼Œæ¯å¤©æ…¢æ…¢å¼„ä¸€ç‚¹ï¼Œå…ˆæŠŠåŠå…¬å®¤å¼„å¥½ï¼Œç»ˆäºä¸ç”¨åœ¨ä¸´æ—¶çš„é¤æ¡Œå’Œç¡¬æ¿å‡³ä¸Šå·¥ä½œäº†ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº† <a href="https://goo.gl/maps/BZvwbUjU8SBSbz346">Green Leaf Cafe</a>ï¼Œè¿™å®¶çš„ç‚™å¯¿å¸è¶…çº§èµï¼›å‘¨å…­çš„ #movie-night å’Œå–œç¦çœ‹äº† <a href="https://movie.douban.com/subject/30211998/">The Gentlemen</a>ï¼Œç†Ÿæ‚‰çš„ç›–é‡Œå¥‡ï¼ŒæŠŠèŠ‚å¥å’Œå¹½é»˜å‘æŒ¥çš„æ›´åŠ çº¯ç†Ÿï¼Œç§‘æ—æ³•ç‘å°”ç¬‘æ­»æˆ‘ã€‚</li>
  <li>å‘¨ä¸­æ™šä¸Šä¼‘æ¯ï¼Œ æ…¢æ…¢æŠŠ<a href="https://book.douban.com/subject/27081128/">ä¸‡ç‰©Â·æ–‡æ˜</a>è¿™æœ¬å›¾å†Œç¿»å®Œäº†ï¼Œä½œè€…ç”¨å„ç§æ¼«ç”»æ’ç”»çš„æ–¹å¼è®²è¿°äº†å²å‰å’Œå¤ä»£çš„æ–‡æ˜å†ç¨‹ã€‚å¾ˆå¥½åœ°å¼¥è¡¥äº†æˆ‘å¯¹è¿™æ®µå†å²çš„ç©ºç™½å’Œæ— çŸ¥ã€‚æˆ‘å¾ˆå–œæ¬¢ç»“å°¾ä½œè€…å¼•ç”¨ç¤¾ä¼šç”Ÿç‰©å­¦å®¶ Edward O. Wilson çš„è¿™æ®µè¯ï¼Œ</li>
</ul>

<blockquote>
  <p>æˆ‘ä»¬ä»Šå¤©æ‹¥æœ‰çš„æŠ€æœ¯æ‰‹æ®µå¯ä»¥è¯´å·²ç»æ¥è¿‘ç¥åŠ›ï¼Œè€Œæˆ‘ä»¬çš„ç¤¾ä¼šä½“åˆ¶è¿˜æ»ç•™åœ¨ä¸­ä¸–çºªï¼Œæˆ‘ä»¬çš„æƒ…æ„Ÿæ›´æ˜¯è‡ªçŸ³å™¨æ—¶ä»£å¼€å§‹å°±æ²¡æœ‰ä»»ä½•è¿›æ­¥ã€‚æˆ‘ä»¬åªèƒ½å­¦ä¼šåœ¨è¿™æ ·çš„ç°å®é‡Œè¿‡æ´»ã€‚</p>
</blockquote>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w50-collage.jpg" alt="w50-collage" /></p>

<h2 id="w49-1207--1213">W49 (12/07 / 12/13)</h2>

<ul>
  <li>å·¥ä½œä¸Šå¼€å§‹æä¸€ä¸ªæ–°çš„éš¾é¢˜ã€‚å¼€å§‹æ—¶å€™ä¸€è„¸èŒ«ç„¶ï¼Œç„¶åä¸æ–­åŠ æ·±äº†è§£ã€è¯•éªŒã€æ¨ç¿»ã€é‡æ–°å°è¯•ï¼Œæœ€åä¸€åˆ‡æ…¢æ…¢å˜å¾—æ¸…æ™°ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰å¤šå°‘çº ç»“ä¸æ€è€ƒå°±æœ‰å¤šå°‘å¼€å¿ƒä¸æˆå°±ã€‚</li>
  <li>åå¤§å’Œå°å“¥é€çš„ç”Ÿæ—¥ç¤¼ç‰©åˆ°äº†ï¼š<a href="https://remarkable.com/">reMarkable 2</a>ï¼Œç”¨äº†ä¸€ä¸ªç¤¼æ‹œæ„Ÿå—ä¸é”™ã€‚æœ€é‡è¦çš„æ˜¯å†™èµ·æ¥æµç•…ï¼Œç¬”å’Œå±å¹•çš„è´¨æ„Ÿéƒ½å¾ˆå¥½ï¼›è½¯ä»¶ä¸Šé¢ï¼Œå¯ä»¥é˜…è¯» pdf &amp; epubï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–å®¢æˆ·ç«¯å‘é€ç½‘é¡µè¿‡æ¥é˜…è¯»å’Œæ‰¹æ³¨ï¼Œç›¸å½“äº read it laterã€‚å‡ ç‚¹ä¸è¶³ï¼šå±å¹•è¦æ˜¯èƒ½æ›´å¤§ï¼ˆA4ï¼Ÿï¼‰å°±æ›´å¥½äº†ï¼Œæ¯ä¸€é¡µå¯ä»¥ä¹¦å†™æ›´å¤šï¼Œå½“ç„¶è¿™ä¼šé€ æˆå’Œä¾¿æºçš„å–èˆï¼›ç³»ç»Ÿå¶å°”æœ‰å¡é¡¿ï¼Œä¹¦å†™æ—¶å€™æ²¡å‘ç”Ÿè¿‡ï¼Œä½†æ˜¯ä¼´éšæ‰‹åŠ¿æ“ä½œæ—¶è€Œæœ‰åœé¡¿ã€‚</li>
  <li>è¿™å‘¨æœ€å¼€å¿ƒçš„ä¸€å¤©å½“å±æˆ‘æ–‡æ¬§å† å°ç»„èµ›æœ€åä¸€è½®3:0å·´è¨ã€‚ä¸€å¹´å¹´çš„é™ªä¼´ï¼Œçœ‹ç€çƒé˜Ÿäººå‘˜å˜åŠ¨ï¼ŒçŠ¶æ€èµ·ä¼ï¼Œåªä¸ºç­‰é‚£ä¹ˆå‡ åœºå¥½çƒã€‚å¹¶ä¸ä¸€å®šè¦æˆ˜èƒœå¼ºå¤§çš„å¯¹æ‰‹æˆ–æ˜¯èµ¢å¾—å…³é”®çš„æ¯”èµ›ï¼Œ çœŸå¿ƒæœŸå¾…çš„æ˜¯å˜åŒ–ï¼Œå“ªæ€•æ˜¯å†å°ä¸è¿‡çš„è¿›æ­¥ã€‚è¿™åœºè¸¢çš„æ²¡æœ‰è¶³å¤Ÿå¥½ï¼Œä½†æ˜¯æœ‰è¿›æ­¥ã€‚å¸Œæœ›ä¸ä¼šæ˜¯æœ€åä¸€åœºæ¢…ç½—å¤§æˆ˜ã€‚</li>
  <li>ä»Šå†¬ç¬¬ä¸€æ¬¡æ»‘é›ªï¼Œæœ€å¥½çš„ä½“éªŒæ˜¯ä¸€ä¸ªäººåœ¨ç¼†è½¦ä¸Šåº¦è¿‡äº†é»„æ˜ï¼Œå¤©è‰²æ¸æš—ï¼Œä¸€æ‘¸ç²‰çº¢é€æ¸å˜æˆæ·±æ©™è‰²ï¼Œå†åˆ°é»‘å¤œæ¥ä¸´ï¼Œæ˜Ÿå…‰æ»¡å¤©ã€‚ä¸­é—´æœ‰ä¸€åˆ¹é‚£æˆ‘çªç„¶åœ¨çœ¼å‰ä¸è¿œçœ‹åˆ°äº†åŒ—æ–—ä¸ƒæ˜Ÿï¼Œéå¸¸æ˜äº®ï¼Œè€Œä¸”ä¸éœ€è¦æŠ¬å¤´ï¼Œåªé¡»è½¬å¤´å°±åœ¨é‚£é‡Œã€‚ä¿¯ç°åŸå¸‚çš„æ™¯è‰²ä¹Ÿå¾ˆæ£’ï¼ŒGrouse Mountain æœ‰ 1200 ç±³ï¼Œéšçº¦çœ‹åˆ°åŸå¸‚åç¯åˆä¸Šï¼Œä¸€éƒ¨åˆ†æ˜äº®ä¸€éƒ¨åˆ†ç¬¼ç½©åœ¨äº‘é›¾ä¹‹ä¸­ã€‚æˆ‘çŒœä¸‹é¢çš„äººçœ‹åˆ°çš„æ˜¯ä¹Œäº‘ï¼Œè€Œæˆ‘çš„è§†é‡å´æ˜¯äº‘å±‚é¡¶ç«¯ï¼Œä¸€å›¢å›¢ç™½è‰²å·¨å¤§çš„äº‘æœµã€‚</li>
  <li>ä¸Šå‘¨æˆ‘åœ¨ç¿»åˆ˜ç‘œçš„æ•£æ–‡é›†ï¼Œè¯»åˆ°ä¸€ç¯‡å¥¹ä¸º<a href="https://book.douban.com/subject/25838937/">ç¾ä¸½æ–°ä¸–ç•Œ</a>å†™çš„<a href="https://book.douban.com/review/3095110/">åº</a>ï¼Œæˆ‘ç¬é—´è¢«å¸å¼•äº†ã€‚èµ¶ç´§æ‰¾æ¥è¯»ï¼Œå‘ç°æ¯”æˆ‘æƒ³è±¡è¿˜è¦å¤¸å¼ ã€‚å„ç§åŒªå¤·æ‰€æ€çš„è®¾å®šï¼Œä¹çœ‹æƒŠäººä½†æ˜¯éƒ½æœ‰è¿¹å¯å¾ªï¼Œä»å½“ä»£çš„æŠ€æœ¯å’Œçº¦å®šä¿—æˆå»¶ä¼¸å¼€å»ï¼Œæ— é™æ”¾å¤§ï¼Œå¸¦ç€è¯»è€…ç©¿è¶Šæ—¶é—´å›çœ‹ç°åœ¨ã€‚æˆ‘æƒ³æœ¬è´¨ä¸Šèµ«èƒ¥é»åœ¨è¯´çš„æ˜¯ä¼¦ç†å’Œæ”¿æ²»ï¼Œå…³äºç”Ÿè‚²çš„æƒåˆ©ï¼Œå…³äºå¹¸ç¦çš„å®šä¹‰ï¼Œå…³äºç¾¤ä½“å’Œä¸ªäººçš„å†²çªã€‚å†ä»”ç»†æƒ³æƒ³ï¼Œè¿˜æœ‰ä¸€ä»½ç†Ÿæ‚‰çš„æƒŠè®¶æ¥è‡ªäºè¿™æœ¬ä¹¦å†™äº 1932 å¹´ï¼Ÿï¼æ‰€ä»¥æŠ›å¼€ç§‘æŠ€å’Œä¿¡æ¯çš„çˆ†ç‚¸ï¼Œæœ¬è´¨ä¸Šæˆ‘ä»¬åœ¨è¿›æ­¥å—ï¼Ÿ</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†<a href="https://goo.gl/maps/HBHAGybvcmGE3BLj7">é¸¿ç¾Šè½©</a>ï¼›å‘¨å…­çš„ #movie-night çœ‹äº†<a href="https://movie.douban.com/subject/3419943/">æ— å£°å©šç¤¼</a>ï¼Œæ˜¯ä¸ªå¾ˆä¸é”™çš„å¯“è¨€æ•…äº‹ï¼Œå…³äºå‰è‹è”çš„é»‘è‰²å¹½é»˜ï¼Œä½†å®ƒåªç®€å•æŠ›å‡ºæ¥é—®é¢˜ï¼Œæˆ‘æ›´å¸Œæœ›æ•…äº‹èƒ½ç»§ç»­å»¶ç»­å»è®¨è®ºä¸€ç§å¯èƒ½ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w49-collage.jpg" alt="w49-collage" /></p>

<h2 id="w48-1130---1206">W48 (11/30 - 12/06)</h2>

<ul>
  <li>è¿™å‘¨æ²¡æ€ä¹ˆå·¥ä½œï¼Œä¸‰å¤©hackdayï¼Œå‘¨äº”è¯·å‡å¿™æ´»å„ç§çäº‹ï¼šç»™è½¦åè¾¹è£…äº†è‡ªè¡Œè½¦æ¶ï¼Œæƒ³ç€åˆ°è¿œæ–¹éª‘è½¦ï¼›ä¹°äº†ä¸€æ•´å¥—çš„æ»‘é›ªè£…å¤‡ï¼Œå‡†å¤‡ä¸‹å‘¨å¼€å§‹èµ°èµ·ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†<a href="https://goo.gl/maps/tdYZgpxTDTzj5Sw97">åŠå±±çƒ§çƒ¤</a>ï¼Œå‘³é“ä¸é”™ï¼Œç¯å¢ƒå¥½çš„ä¸åƒåƒçƒ§çƒ¤çš„åœ°æ–¹ï¼Œå¯èƒ½ä¹Ÿæ˜¯å› ä¸ºå†·æ¸…çš„ç¼˜æ•… :man_facepalming:ã€‚â€‹å‘¨å…­çš„ movien night é‡çœ‹äº†æˆ‘æœ€å–œæ¬¢çš„ä¸€éƒ¨ Wes Anderson: <a href="https://movie.douban.com/subject/1306031/">Royal Tenenbaum</a>ã€‚</li>
  <li>è¿™å‘¨è¯»äº†ä¸¤æœ¬éå¸¸å¥½çœ‹çš„ä¹¦ï¼š
    <ul>
      <li><a href="https://book.douban.com/subject/25847219/">10% Happier</a>ï¼Œæœ‰ç‚¹ä½œè€…åŠè‡ªä¼ çš„æ€§è´¨ï¼Œä½†æ˜¯ä¸»çº¿å¾ˆæ˜ç¡®ï¼Œå…³äºå†¥æƒ³å’Œ Mindfulness ï¼ˆè¿™ä¸ªè¯åˆ°åº•è¦æ€ä¹ˆå¯¹åº”åˆ°ä¸­æ–‡å‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯â€è§‰å¯Ÿâ€œï¼Œçœ‹åˆ°æœ‰äººç¿»è¯‘æˆâ€œæ­£å¿µâ€œï¼Œä½†æ˜¯åŠ äº†â€æ­£â€œå­—ä¸æ­£æ˜¯åœ¨åšä¸»è§‚çš„åˆ¤æ–­å—ï¼Ÿï¼‰ã€‚Mindfulness æ˜¯ç›®çš„ï¼Œå†¥æƒ³æ˜¯æ–¹æ³•ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯åˆ»æ„åœ°é€šè¿‡å†¥æƒ³è¿™ç§ç»ƒä¹ ï¼Œä¸åŠ åˆ¤æ–­åœ°è§‚å¯Ÿæˆ‘ä»¬çš„æƒ³æ³•ï¼Œè€Œä¸æ˜¯æ— æ—¶æ— åˆ»åˆä¸è‡ªçŸ¥åœ°è®©æƒ³æ³•åœ¨è„‘ä¸­æ£æ„å‘æ•£ã€‚é‚£äº›ä¸‹æ„è¯†çš„å†²åŠ¨ä¸åè§ï¼Œå¯¹è¿‡å»çš„çº ç»“ä¸ä¸å®‰ï¼Œå¯¹æœªæ¥çš„æ‹…å¿§ä¸ç„¦è™‘éƒ½æ¥æºäºæ­¤ã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢ä½œè€…å§‹ç»ˆæŠ±ç€æ€€ç–‘çš„æ€åº¦ï¼Œé“å‡ºäº†è®¸å¤šæˆ‘è‡ªå·±å¿ƒä¸­çš„é—®é¢˜ã€‚æœ€æ ¸å¿ƒçš„å½“å±æ€ä¹ˆå¤„ç†â€ä¸äº‰â€œï¼Œäººä¸è¯¥æœ‰é‡å¿ƒå—ï¼Ÿåœ¨ä¹çš„äº‹æƒ…ä¹Ÿè¦æ”¾ä»»è‡ªæµå—ï¼Ÿä½œè€…ç»™å‡ºäº†ä¸ªç®€å•çš„ç­”æ¡ˆï¼Œè¿½å¯»è¿‡ç¨‹è€Œä¸æ˜¯ç»“æœï¼ŒåŸºæœ¬å’Œæˆ‘åœ¨åˆ«å¤„çœ‹åˆ°çš„ä¸€è‡´ï¼ˆpick up your battleï¼‰ã€‚ä½†æˆ‘è¿˜ä¸ç¡®å®šï¼Œå…ˆæŠŠå†¥æƒ³å®è·µèµ·æ¥ã€‚</li>
      <li><a href="https://book.douban.com/subject/2263709/">Writing Down the Bones</a> æ˜¯ä¸€æœ¬å…³äºå†™ä½œçš„å°ä¹¦ï¼Œä½œè€…æå€¡çš„æ–¹æ³•è®©æˆ‘å¤§å¼€çœ¼ç•Œï¼šè§„å®šæ—¶é—´ç»ƒä¹ å†™ä½œï¼Œæ—¶é—´å¼€å§‹ï¼ŒæŠŠè„‘å­é‡Œæ‰€æœ‰çš„æƒ³æ³•ä¸€è‚¡è„‘åœ°å€¾æ³»åˆ°çº¸é¢ï¼Œä¸è¦åœ¨æ„æ ‡ç‚¹ã€é”™å­—ã€ä¿®è¾ã€ç”šè‡³é€»è¾‘ï¼Œåªç®¡å»å†™ï¼Œå»æ•æ‰å’Œæè¿°æ­¤æ—¶æ­¤åˆ»è„‘å­é‡Œå‡ºç°çš„ä¸€åˆ‡ï¼Œç›´åˆ°æ—¶é—´ç»ˆæ­¢ã€‚éå¸¸å·§åˆï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å†¥æƒ³çš„æ–¹æ³•ï¼Œç”¨å†™ä½œå»å†¥æƒ³ã€‚çœ‹è¿‡ä¹‹åï¼Œæˆ‘æ¯å¤©æœ‰å°è¯•å»å†™äº”åˆ†é’Ÿï¼Œæœ€æ˜æ˜¾çš„æ„Ÿå—æ˜¯ï¼šå†™ä½œåœ¨å¸®æˆ‘æ„ŸçŸ¥ä¸–ç•Œã€‚</li>
    </ul>
  </li>
  <li>ä¸Šå‘¨å’Œ Nikki åµå®Œæ¶ï¼Œè¿™å‘¨ä¹–ä¹–å¸¦å¥¹å»ç©è€ã€‚æ¯å¤©æ“åœºä¸Šç‹ è·‘å‡ åœˆï¼Œè·Ÿå‡ ä¸ªç‹—å‹æ‰“é—¹ä¸€ä¼šå„¿ï¼Œç„¶åå¼€å¯é›·è¾¾å››å¤„æœæ‰¾æ³¥å‘ï¼Œè¹¦è¹¦è·³è·³ï¼Œå–æ°´æ‰“æ»šã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œé‡åˆ°äº†ç™½èƒ¡å­è€çˆ·ï¼Œçœ‹æˆ‘å®¶ç™½ç‹—çœ¨çœ¼å˜é»‘ç‹—ï¼Œå¸¦æˆ‘å»äº†é™„è¿‘çš„æ ‘æ—ï¼Œæ‰¾åˆ°äº†ä¸€æ¡æ¸…æ¾ˆçš„å°æºªã€‚è¿™é‡Œé©¬ä¸Šå˜æˆäº†ç–¯ç‹—çš„æ°´ä¸Šä¹å›­ï¼Œå†ä¹Ÿä¸æ„ç»™å¥¹æ´—æ¾¡äº†ã€‚å¤§è‡ªç„¶ï¼Œæ˜¯ä½ æ´¾è€çˆ·çˆ·æ¥æ‰¾æˆ‘çš„å§ï¼Ÿ</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w48-collage.jpg" alt="w48-collage" /></p>

<h2 id="w47-1123---1129">W47 (11/23 - 11/29)</h2>

<ul>
  <li>ä¸Šå‘¨æœ«å’Œ Nikki å µæ°”ï¼Œå¯èƒ½ä¸€ç›´ä¸‹é›¨è¿ç€å‡ å¤©æ²¡å¸¦å¥¹å‡ºé—¨ç–¯è·‘ï¼Œæ‰€ä»¥å„ç§ä¸å¬è¯ã€‚åˆ°äº†å‘¨ä¸€æˆ‘è¿˜ç»§ç»­éƒé—·ï¼Œä¸‹åˆå‡ºé—¨å»éª‘è½¦æ•£å¿ƒï¼Œå›æ¥åç»ˆäºç¼“å’Œäº†ä¸€äº›ã€‚è·Ÿç‹—ç‹—ç”Ÿæ°”çœŸæ˜¯ä»¶æ„šè ¢çš„äº‹ï¼Œå°¤å…¶ç”­ç®¡ä½ æœ‰å¤šæ°”ï¼Œå¥¹å°±å²¿ç„¶ä¸åŠ¨ã€‚æœ€ç»ˆåªèƒ½æˆ‘è‡ªå·±å¿ƒç†å»ºè®¾ï¼Œä»¥ç†æœå·±ã€‚ç¬¬äºŒå¤©å†’ç€é›¨é™ªå¥¹å»è·‘äº†ä¸€ä¸ªåŠå°æ—¶ï¼Œç„¶åç»ˆäºçœ‹åˆ°å¥¹èººåœ¨åœ°ä¸Šç–²æƒ«åˆå¹³é™çš„ç¬‘ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº† <a href="https://goo.gl/maps/1cMHa1An1hXD9DC29">ARISU Korean BBQ</a>ï¼›å‘¨å…­çš„ #movie-night çœ‹äº†<a href="https://movie.douban.com/subject/1293172/">æœ«ä»£çš‡å¸</a>ï¼Œæˆ‘å”å˜˜åˆéš¾è¿‡ã€‚ä¸€ä¸ªäººçš„æ¸ºå°ï¼Œæ— å…³ä¹èº«ä»½ï¼Œåœ¨å†å²çš„æ´ªæµä¸­æ™ƒè¡è£¹æŒŸï¼Œå³ä½¿è‡ªçŸ¥ä¹Ÿæ— å¥ˆã€‚æœ‰å…´ç››å°±æœ‰å…¶è¡°ç«­ï¼Œåˆ°å¤´æ¥ä½ æƒ³ä»ä¸­å¯»æ‰¾ç­”æ¡ˆï¼Œå¾ˆç®€å•ï¼Œâ€œæ½®èµ·æ½®è½ï¼Œæ˜¯ä»€ä¹ˆéƒ½ä¸ä¸ºâ€ã€‚</li>
  <li>æœ€è¿‘åœ¨é‡å¬ Pink Floyd çš„ <a href="https://genius.com/albums/Pink-floyd/The-division-bell">The Division Bell</a>ï¼Œå¬çš„å…¥è¿·ï¼Œå¸¦ç€è€³æœºå°±èƒ½é£˜è¿›å¦å¤–ä¸€ä¸ªä¸–ç•Œã€‚å»ä»”ç»†çœ‹äº†å½“æ—¶åˆ›ä½œçš„èƒŒæ™¯å’Œæ­Œè¯ï¼Œè¡¨é¢çœ‹æ˜¯æ€¨æ¨å’Œè¿½é—®ï¼Œå…³äº Waters çš„ç¦»å¼€ï¼Œä½†æ˜¯æ˜¾ç„¶ä»–ä»¬æˆåŠŸè¥é€ äº†ä¸€ç§è¶…è„±ç–ç¦»çš„æ°›å›´ï¼Œå¥½åƒåœ¨å®‡å®™ä¸­è¿½å¯»æ—¶é—´å’Œç­”æ¡ˆã€‚</li>
  <li>11.25 é©¬æ‹‰å¤šçº³å»ä¸–ï¼Œè¿™åŠ¨è¡ä¸å®‰çš„ä¸€å¹´ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w47-collage.jpg" alt="w47-collage" /></p>

<h2 id="w46-1116---1122">W46 (11/16 - 11/22)</h2>

<ul>
  <li>å·¥ä½œä¸Šï¼Œä¹Ÿè®¸æ˜¯æ•´ä¸ªä¸‹åŠå¹´æœ€å¼€å¿ƒçš„ä¸€å‘¨äº†ã€‚ä¸æ–­æ€è€ƒã€å®éªŒã€è®¨è®ºï¼Œæœ€ç»ˆæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œå’ŒåŒäº‹ä¸€èµ·åˆ†äº«å–œæ‚¦ã€‚</li>
  <li>è¿™å‘¨è¯»å®Œäº†ä¸¤æœ¬ä¹¦ï¼š<a href="https://book.douban.com/subject/1944612/">The Magic of Thinking Big</a> æ˜¯æœ¬æœ‰å¹´å¤´çš„é¸¡æ±¤ä¹¦ï¼Œç®—æ˜¯æœ‰äº›å¸®åŠ©ï¼Œå“ªæ€•æ˜¯ç›²ç›®çš„è‡ªä¿¡å‘¢ï¼›<a href="https://book.douban.com/subject/6424727/">Six Easy Pieces</a> æ¥è‡ªè´¹æ›¼çš„ç‰©ç†è®²ä¹‰ï¼Œé€‰å–æœ€åŸºç¡€çš„å…­ä¸ªç¯‡ç« å›é¡¾ç‰©ç†å­¦çš„è„‰ç»œã€‚ä¸Šå­¦æ—¶å€™çš„çŸ¥è¯†æœ€ç»ˆéƒ½æˆäº†ä¸€åº§åº§è®°å¿†çš„å­¤å²›ï¼Œè¿™æœ¬ä¹¦ä¸ºæˆ‘é‡æ–°æ­èµ·äº†æ¡¥æ¢ï¼Œç”¨ä¸€ä¸ªæœ€åŸºæœ¬çš„è§’åº¦ç†è§£çœ‹å¾…è¿™ä¸ªä¸–ç•Œã€‚</li>
  <li>å‘¨æœ«å¤©æ°”æ”¾æ™´ï¼Œéª‘è½¦å» Mundy Park åœ¨æ ‘æ—é‡Œç©¿æ¢­ï¼Œè·Ÿè·¯ä¸Šçš„è¡Œäººå¾®ç¬‘ï¼Œçœ‹å„å¼å„æ ·çš„ç‹—ç‹—å¼€å¿ƒçš„æ¼«æ­¥ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†<a href="https://goo.gl/maps/F5T2Xqb237kHoWyu6">æ¸”äºº</a>çƒ¤é±¼ï¼›å‘¨å…­çš„ #movie-night çœ‹äº† <a href="https://movie.douban.com/subject/1437377/">The Squid and the Whale</a>ï¼Œè½»æ¾åˆæœ‰è¶£ï¼Œå¾ˆåƒå¦ä¸€ä¸ªç‰ˆæœ¬çš„ Woody Allenï¼Œå½“çŸ¥è¯†åˆ†å­èµ°è¿‘ç”Ÿæ´»çš„çç¢ï¼Œä¸€æ ·çš„å±€ä¿ƒä¸å®‰ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w46-collage.jpg" alt="w46-collage" /></p>

<h2 id="w45-1109---1115">W45 (11/09 - 11/15)</h2>

<ul>
  <li>
    <p>è¿™å‘¨çš„å·¥ä½œéå¸¸å……å®ï¼ŒèŠ±äº†å¾ˆå¤šæ—¶é—´å»æ€è€ƒä¸€ä¸ªæ£˜æ‰‹ä½†æ˜¯æœ‰æ„æ€çš„é—®é¢˜ã€‚æ¯å¤©æŠ±ç€æœŸå¾…ç€èµ·åºŠï¼Œä¸€è½¬çœ¼æ—¶é—´å°±è¿‡å»çš„æ„Ÿè§‰éå¸¸æ£’ã€‚</p>
  </li>
  <li>
    <p>ä¸Šå‘¨æ—¥ç»™ Nikki å–‚äº†ä»é¥­åº—å¤–å¸¦çš„çŒªéª¨å¤´ï¼Œç»“æœåŠå¤œå°±å’©å’©çš„å«ï¼Œæ‰“å¼€æˆ¿é—¨å†²åˆ°å®¢å…ï¼Œè¶æˆ‘ä¸€ä¸ªä¸æ³¨æ„å°±è¹²ä¸‹æ–¹ä¾¿äº†ã€‚å”‰ï¼Œè¿™ä¸€æ™šä¸Šå‘ç”Ÿäº†ä¸‰æ¬¡ï¼Œåé¢ä¸¤æ¬¡æˆ‘å°±ä¸ç´§ä¸æ…¢ï¼Œå¹²è„†ç©¿å¥½è¡£æœå¸¦å¥¹å‡ºé—¨äº†ã€‚ç¬¬äºŒå¤©å»çœ‹äº†å…½åŒ»ï¼Œåƒäº†å‡ å¤©è¯ç»ˆäºæ­¢ä½äº†ã€‚å¯æ€œçš„ç‹—å­ï¼Œä½ çš„ä¼ ç»Ÿç¾é£Ÿä¹Ÿæ— ç¦æ¶ˆå—ã€‚</p>
  </li>
  <li>
    <p>æ¯å¤©ç¡å‰ä¸€å°ä¼šå„¿çœ‹å®Œäº† <a href="https://movie.douban.com/subject/34960008/">The Social Dilemma</a>ã€‚å³ä½¿ä½œä¸ºä¸šå†…äººå£«ï¼Œä¹Ÿè§‰ç€ç°åœ¨äº§å“çš„å‘å±•æ€è·¯è®©äººææƒ§ã€‚åƒæŠ–éŸ³è¿™ç§ï¼Œå®šç‚¹æŠ•å–‚æ¯ä¸ªäººæƒ³çœ‹åˆ°çš„ä¸œè¥¿å·²ç»æˆäº†æ ¸å¿ƒç«äº‰åŠ›ï¼Œéš¾æ€ªä¸–ç•Œä¼šè¶Šå‘å‘ä¸¤æåˆ†åŒ–çš„æ–¹å‘èµ°å»ã€‚</p>

    <blockquote>
      <p>We live in a world, in which a tree is worth more, financially, dead than alive, in a world which a whale is worth more dead than alive. For so long as the economy works in that way and corporations go unregulated, they are going to conitnue to destroy trees, to kill whales, to mind the earth , and to continue to pull oil out of the ground, even though we know it is destroying the plant and we know itâ€™s going to leave a worse world for future generations. This is short-term thinking, based on this religion of profit at all costs, as if somehow, magically, each corporation acting in its selfish interest is going to produce the best result. This has been afffecting our environment for a long time.</p>

      <p>Whatâ€™s frightening and what hopefully is the last straw that will make us wake up as a civilization to how flawed this theory has been in the first place is to see that now we are the trees, we are the whales. Our attention can be mined. We are more profitable to a corporation, if we are spending time staring at a screen, staring at an ad, than if we are spending that time living our life in a rich way. And so, we are seeing the results of that. Weâ€™re seeing corporations using powerful artifical intelligence to outsmart us and figure out how to pull our attention toward the things they want us to look at, rather than the things that are most consistent with our goals, our values and our lives.</p>

      <p>â€“ Justin Rosenstein</p>
    </blockquote>
  </li>
  <li>
    <p>æœ€è¿‘è¢«å ä¸œå®‰åˆ©äº† espressoï¼Œä¹°äº†å„ç§è®¾å¤‡å¼€å§‹åŒ–å­¦å®éªŒã€‚æš‚æ—¶åªèƒ½è¯´æœ‰è¿¹å¯å¾ªï¼Œä½†æ˜¯ä¸€å¤©ç¨³å®šä¸¤æ¯ï¼Œå¤±çœ æ˜¯å½“ä»ä¸è®©æ¥æ•²é—¨äº† :slightly_smiling_face:</p>
  </li>
  <li>
    <p>å‘¨å››çš„ #date-night å»åƒäº†å®¶é™„è¿‘çš„ <a href="https://goo.gl/maps/4SUm1JjinRGznMzm7">Austin Fish &amp; Chips</a>ï¼Œå‘¨å…­çš„ #movie-night å–œç¦é€‰äº†<a href="https://movie.douban.com/subject/27668250/">å—æ–¹è½¦ç«™çš„èšä¼š</a>ï¼Œä½œä¸ºç™½æ—¥ç„°ç«çš„å½±è¿·ï¼Œæˆ‘å¾ˆå–œæ¬¢å…¶ä¸­çš„ç¾å­¦å€¾å‘ï¼Œä½†æ˜¯æ¡‚çº¶é•ï¼Ÿèƒ¡æ­Œï¼Ÿ:neutral_face:</p>
  </li>
  <li>
    <p>Victor å¾ˆæ—©å‘æˆ‘æ¨èäº† <a href="https://book.douban.com/subject/26708996/">Originals</a>ï¼Œä¹‹å‰çœ‹äº†ä¸€ç« è§‰ç€å¤ªæ–‡é‚¹ï¼Œå‘¨æœ«æ¡èµ·æ¥å‘ç°éå¸¸æœ‰è¶£ã€‚ç¤¾ç§‘ç±»çš„è¯»æœ¬å†™å¥½äº†æ˜¯ä¼šæ¯”å°è¯´å¥½çœ‹çš„ã€‚</p>
  </li>
  <li>
    <p>å‘¨æ—¥æ˜¯ 32 å²çš„ç”Ÿæ—¥ã€‚æˆ‘æ˜¯ä¸ªæ‹§å·´çš„äººï¼Œæ¯åˆ°ç”Ÿæ—¥å°±çŠ¯æƒ…ç»ªæ‘†è‡­è„¸ã€‚è·Ÿå–œç¦å¾ˆè®¤çœŸçš„åˆ†æäº†ä¸€ä¸‹ï¼Œæˆ‘å…¶å®æ‰¾ä¸åˆ°å¤ªå¤šåŸå› ï¼Œå¯èƒ½æ˜¯ç«¥å¹´è®°å¿†é‡Œåªè®°å¾—ä¸€æ¬¡å¤§å“­çš„ç»å†ã€‚å¦å¤–ï¼Œä¸€ä¸ªäººéè¦åœ¨æŸä¸€å¤©ç‰¹åˆ«å¿«ä¹ï¼Œä¹Ÿæ˜¯ä¸ªå¥‡æ€ªçš„å‘½é¢˜ã€‚æˆ‘æ›´å¸Œæœ›æ¯å¤©éƒ½å¹³å’Œå¿«ä¹ã€‚æ‰€ä»¥ï¼Œæ”¶åˆ°çˆ¸å¦ˆã€å¥½å‹å’Œå–œç¦çš„ä¸€å¥ç¥ç¦æˆ‘å°±å¾ˆçŸ¥è¶³äº†ï¼Œåªæ˜¯æˆ‘ç¾å¥½ç”Ÿæ´»ä¸­å¦ä¸€ä¸ªå¯»å¸¸çš„ä¸€å¤©ã€‚
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w45-collage.jpg" alt="w45-collage" /></p>
  </li>
</ul>

<h2 id="w44-1102---1108">W44 (11/02 - 11/08)</h2>

<ul>
  <li>å‘¨ä¸€å’Œå–œç¦ä¸€èµ·è¯·å‡ï¼Œè¶ç€å¥½å¤©æ°”å» Whistler ç§‹æ¸¸ã€‚æœ€å¼€å¿ƒçš„è¦å± Nikki äº†ï¼Œåœ¨ Rainbow Park æ‰¾åˆ°äº†è‡ªå·±ç‹—ç”Ÿçš„å¤©å ‚ï¼šé¥æœ›è¿œå¤„çš„è½åŸºå±±è„‰ï¼Œè¿‘å¤„æ˜¯ Alta Lake å¹³é™çš„æ¹–é¢ã€‚æœ€ç‰¹åˆ«çš„æ˜¯ä¸€ä¸ªä¸ºç‹—ç‹—å‡†å¤‡çš„ä¸“å±ç å¤´ã€‚Nikki ä¸€æ¬¡æ¬¡è·³åˆ°æ¹–ä¸­å¥‹åŠ›åˆ’æ°´ï¼Œå¤©æ°”å‡‰ä¹ŸæŠµä¸è¿‡å†…å¿ƒç«çƒ­ã€‚</li>
  <li>ä¸Šå‘¨è®¤çœŸåšçš„è®¡åˆ’ï¼Œè¿™å‘¨æœ‰å¾ˆå¥½çš„æ‰§è¡Œã€‚æ¯å¤©çš„å·¥ä½œéƒ½å¾ˆå……å®ï¼Œæœ€é‡è¦çš„æ˜¯ç›¸ä¿¡è‡ªå·±èµ°åœ¨æ­£ç¡®çš„è½¨é“ä¸Šã€‚</li>
  <li>å’Œå–œç¦çš„æ¯æœˆè®¡åˆ’ï¼Œå› ä¸ºç–«æƒ…å’Œä»Šå¹´çš„æ…Œä¹±ä¸­æ–­äº†å¤§åŠå¹´ï¼Œè¿™å‘¨é‡æ–°æ¡èµ·æ¥ã€‚å‘¨å››æ¢å¤äº† #date-nightï¼Œå»å°è¯•äº†ä¸€å®¶å¾ˆæ£’çš„æ³°å›½èœï¼ˆ<a href="https://goo.gl/maps/pFavist2Ae8cVgp59">Ma Now</a>ï¼‰ï¼›å‘¨å…­æ¢å¤äº† #movie-nightï¼Œä¸€èµ·çœ‹ <a href="https://movie.douban.com/subject/27045860/">Uncut Gems</a>ï¼›è‡ªå·±æ¢å¤é”»ç‚¼å†æ¬¡å°è¯•éª‘è¡Œï¼ŒæŠ•èµ„äº†ä¸€è¾†å•è½¦ï¼Œéª‘äº†ä¸€æ¬¡æ‰å‘ç°æˆ‘ä¹Ÿç”Ÿæ´»åœ¨å±±åŸï¼šè°·æ­Œåœ°å›¾ 40 åˆ†é’Ÿçš„è·¯çº¿ï¼Œæˆ‘èŠ±äº† 80 åˆ†é’Ÿï¼Œä¸­é—´è¿ç»­çˆ¬å¡æ— å¥ˆåªèƒ½äº¤å‡ºé»„è‰²é¢†éª‘è¡«ï¼Œä¸‹æ¥æ¨è½¦ã€‚</li>
  <li>å‘¨æœ«å»ä¹°é½äº†å„ç§å·¥å…·ï¼ŒæŠŠåé™¢è¢« Nikki å’¬åçš„æ …æ ä¿®ç†å¥½ï¼Œå‰²è‰æ–½è‚¥ï¼Œç„¶åå»å‰é™¢æ•´ç†è½å¶ï¼Œå†å‰²è‰æ–½è‚¥ã€‚è¿™ä¸ªç§‹å¤©çš„å·¥ä½œå®Œç¾ç»“æŸã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w44-collage.jpg" alt="w44-collage" /></p>

<h2 id="w43-1026---1101">W43 (10/26 - 11/01)</h2>

<ul>
  <li>
    <p>è¿™å‘¨å’Œç»„é•¿ one oneï¼Œæ€»ç»“è¿™ä¸€å¹´çš„è¡¨ç°ã€‚åŠ å…¥å…¬å¸å¿«å››å¹´ï¼Œç¬¬ä¸€æ¬¡åªæ‹¿åˆ° postiveã€‚è™½ç„¶æ˜¯åœ¨é¢„æœŸä¹‹å†…ï¼Œä½†ä¹Ÿæ²¡æ³•å…‹åˆ¶å¿ƒä¸­çš„ä¸çˆ½ã€‚è¿™ä¸€å¹´å¤„åœ¨å„ç§å¿™ç¢Œä¹‹ä¸­ï¼šç‹—ç‹—è¿›å…¥æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œå¸¦æ¥äº†æ¬¢ä¹ä¹Ÿæ‹¿èµ°äº†å¾ˆå¤šå®‰é™é—²æ•£æ—¶å…‰ï¼›ä¸‹åŠå¹´æ¬å®¶ï¼Œä¸€ç›´åœ¨åšè®¡åˆ’å’Œæ‰§è¡Œã€‚é™¤å»å®¢è§‚å› ç´ ï¼Œæˆ‘è‡ªèº«ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜ï¼š</p>

    <ul>
      <li>æƒ³å»å¹³è¡¡å·¥ä½œå’Œç”Ÿæ´»ï¼Œä½†æ˜¯æ²¡èƒ½åŠ›ä¸€ç¢—æ°´ç«¯å¹³ï¼Œæœ€ç»ˆæ¥å›å€¾æ–œï¼Œè½åœ¨å“ªè¾¹éƒ½ä¸å¼€å¿ƒ</li>
      <li>æ¯å‘¨çš„å·¥ä½œæ›´å¤šæ˜¯èµ¶è¿›åº¦ï¼Œå¯ä»¥å®Œæˆçš„å¾ˆå¥½ï¼Œä½†ä¸ä»£è¡¨æ›´æœ‰æ„ä¹‰</li>
      <li>åœ¨å¹³æ—¶çš„è®¨è®ºä¸­ç¼ºå°‘å‚ä¸æ„Ÿï¼Œæ²¡æœ‰åšæ›´å¤šçš„å‡†å¤‡å’Œæ€è€ƒ</li>
      <li>æ›´å¤šæ—¶å€™ï¼Œæˆ‘åªåœ¨å…³æ³¨è®©è‡ªå·±å˜å¥½ï¼Œè€Œä¸æ˜¯è®©èº«è¾¹çš„äººã€è®©å›¢é˜Ÿå˜å¥½</li>
    </ul>

    <p>å‘¨æœ«èŠ±äº†äº›æ€è€ƒï¼Œåšäº†ä»½æ”¹è¿›å’Œå‰è¡Œçš„è®¡åˆ’ã€‚å‡èŒåŠ è–ªä¸æ˜¯ç›®æ ‡ï¼Œæˆ‘å¸Œæœ›æ˜å¹´çš„è‡ªæˆ‘è¡¡é‡æˆ‘å¯ä»¥æœ‰ä¿¡å¿ƒæ˜¯ exceptionalã€‚è½å®åˆ°å…·ä½“ï¼Œæˆ‘å¸Œæœ›æ¯ä¸€å¤©çš„å·¥ä½œå¼€å¿ƒã€æ¯ä¸€é˜¶æ®µçš„å·¥ä½œæœ‰æˆå°±æ„Ÿã€‚åŠ æ²¹ã€‚</p>
  </li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w43-collage.jpg" alt="w43-collage" /></p>

<h2 id="w42-1019---1025">W42 (10/19 - 10/25)</h2>

<ul>
  <li>è¿™å‘¨é‡æ–°æ¡èµ· pomodoroï¼Œå¸®åŠ©å¾ˆå¤§ï¼Œå®Œæˆäº†å¾ˆå¤šå·¥ä½œã€‚æ¯å¤©å››ç‚¹å¤šç»“æŸå·¥ä½œï¼Œå¤„ç†ç”Ÿæ´»çäº‹ï¼šæ‹†åŒ…è£¹ï¼Œå‰²è‰ï¼Œä¹°å·¥å…·ï¼Œå­¦ä¹ ã€å®‰è£…å„ç§å°ç©æ„ï¼Œç°åœ¨ç½‘çº¿æ¥å¤´éƒ½ä¼šå®‰è£…äº†ã€‚å¥½å¤šæ—¶å€™åªæ˜¯ä¸æ‡‚ï¼Œæ‰æƒ³è±¡çš„æ¯”è¾ƒéš¾ã€‚</li>
  <li>æ¯å¤©æ™šä¸Šæ•£æ­¥æˆäº†ä¸€å¤©çš„ç¾å¥½æ—¶å…‰ã€‚å’Œå–œç¦å¸¦ Nikki ä¸€èµ·èµ°åœ¨æ˜é»„çš„è·¯ç¯ä¸‹ï¼Œæ— æ¯”å®é™ã€æƒ¬æ„ï¼Œå¤§å£å‘¼å¸ç€å¯’å†·åˆæ¸…çˆ½çš„ç©ºæ°”ï¼Œæˆ‘æ„Ÿåˆ°å¹³å’Œä¸å¹¸ç¦ã€‚Nikki æœ€è¿‘ä¹Ÿç‰¹åˆ«ä¹–ï¼Œçªç„¶å°±åˆ°äº†æˆ‘ç†æƒ³ä¸­å…»ç‹—çš„æ ·å­ï¼šç‹—ç‹—å¹³é™åœ°èµ°åœ¨èº«è¾¹ï¼Œæˆ‘ä»¬äº’ä¸å¹²æ‰°ï¼Œä¸€èµ·æ…µæ‡’åœ°å‰è¡Œã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w42-collage.jpg" alt="w42-collage" /></p>

<h2 id="w41-1012---1018">W41 (10/12 - 10/18)</h2>

<ul>
  <li>å·¥ä½œæ•ˆç‡æå…¶ä½ä¸‹çš„ä¸€å‘¨ï¼Œå¾ˆéš¾ä¸“æ³¨ï¼Œå¯¼è‡´ä¸‹ç­åçš„å¿ƒæƒ…ä¹Ÿä¸å¥½ï¼Œå°±åƒä¸€å¤©ä»€ä¹ˆéƒ½æ²¡åšã€‚è®©è‡ªå·±å¿«ä¹çœŸä¸æ˜¯ä»¶å®¹æ˜“äº‹ï¼Œå¥½åƒåªæœ‰æ‰€æœ‰äº‹æƒ…éƒ½ç¬¦åˆå¿ƒæ„æ‰èƒ½é•¿èˆ’ä¸€å£æ°”ï¼Œä¸ºä»€ä¹ˆä¸èƒ½åªå¯¹å½“ä¸‹ä½œæœ€ç®€å•çº¯ç²¹çš„ååº”å‘¢ï¼Ÿ</li>
  <li>æ‰˜è¿çš„åä¸‰ä¸ªå¤§ç®±å­åˆ°äº†ï¼Œå’Œå–œç¦æ¯å¤©æ‹†å‡ ä¸ªï¼Œå‘¨æœ«å…¨éƒ¨æ”¶æ‹¾å®Œæ¯•ã€‚ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠç”µé¥­é”…æ‰¾åˆ°ï¼Œåƒäº†é¡¿é¦™é¦™çš„ç±³é¥­ã€‚</li>
  <li>ä¹°äº†å„ç§å™¨æï¼Œå‡†å¤‡åœ¨å…¥å†¬å‰è¦æ‰“ç†ä¸€éé™¢å­ã€‚ä¹‹å‰éƒ½æ˜¯éšå¿ƒæ‰€æ¬²ï¼Œè¿™å›æƒ³è®¤çœŸæä¸€æã€‚è¯»è¯´æ˜ä¹¦ï¼Œä¸Šç½‘å­¦ä¹ ï¼Œæœ€éš¾å¤„ç†çš„è¿˜æ˜¯åé™¢æœ‰ä¸€å †è”“å»¶çš„å°çº¢è“æ ‘ï¼Œç”Ÿå‘½åŠ›æå¼ºã€‚æ¯å‘¨éƒ½åœ¨è‚‰çœ¼å¯è§çš„â€œè¿›æ­¥â€ï¼Œè€Œä¸”æè”“å…¨éƒ½æ˜¯åˆºï¼Œliterally é³æ£˜å¯†å¸ƒã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w41-collage.jpg" alt="w41-collage" /></p>

<h2 id="w40-1005---1011">W40 (10/05 - 10/11)</h2>

<ul>
  <li>æ¬å…¥æ–°å®¶ç¬¬ä¸€å‘¨ï¼Œä¼‘å‡å›æ¥ï¼Œå¾ˆéš¾è¿›å…¥å·¥ä½œçŠ¶æ€ã€‚æ¯å¤©è¢«å„ç§äº‹æƒ…æ‰“æ–­æ€è·¯ï¼Œä¸­åˆå’Œæ™šä¸Šéƒ½è¦å¸¦ Nikki å‡ºå»ç©ï¼Œè‡ªå·±è¦æƒ³åŠæ³•æ›´åŠ ä¸“æ³¨æ‰è¡Œã€‚</li>
  <li>Yinan å¸®æˆ‘ä»¬æŠŠå®¶å…·åŸºæœ¬é€‰çš„å·®ä¸å¤šï¼Œæˆ‘å’Œå–œç¦å‘¨æœ«åˆå»æ‰«äº†ä¸€éå®¶å…·åº—ï¼Œä¸»è¦æŠŠå„å®¶çš„æ²™å‘ä½“éªŒå¥½ã€‚æ•´ç†äº†åˆ—è¡¨ï¼Œåº”è¯¥ä¸‹å‘¨å°±å¯ä»¥å…¨éƒ¨ä¸‹å•äº†ã€‚</li>
  <li>æœ€è¿‘æ—¶å¸¸ä¸‹é›¨ï¼ŒNikki åœ¨å®¶é™„è¿‘çš„å°æ“åœºæ‰¾åˆ°äº†å¤©å ‚ã€‚æ³¥åœ°è¹¦è¿ªï¼Œæ°´å‘ç©¿æ¢­ï¼Œæˆ‘ä»¬è¿ç€ä¸‰å¤©ç»™å¥¹æ´—äº†ä¸‰å›æ¾¡ã€‚æ–°åˆ°è¿™ neighbourhood æ‰ä¸€ä¸ªç¤¼æ‹œå°±é—¯å‡ºäº†åå·ï¼Œå¥½å‡ ä¸ªé‚»å±…å·²ç»è®¤è¯†äº†è¿™æ¡çƒ­æƒ…æ´‹æº¢ï¼Œç”©ç€æ³¥ç‚¹çš„å‚»ç‹—ã€‚å¦å¤–è®¤è¯†äº†ä¸ªé…·çˆ±é›ç‹—çš„è€å¤´ Craigï¼Œå¤©å¤©å¸¦ç€ä»–çš„æ‹‰å¸ƒæ‹‰å¤š Daisy åœ¨æ“åœºç©ä¸¤ä¸‰ä¸ªå°æ—¶ã€‚æˆ‘ä»¬æ¯å¤©éƒ½å»èµ´çº¦ï¼Œå¸Œæœ›èƒ½åšæŒä¸‹å»ã€‚</li>
  <li>è€è©¹å¸¦é¢†æˆ‘æ¹–å‹‡å¤ºç¬¬17å† ã€‚ä»Šå¹´æ²¡ç­‰åˆ°éå¸¸æœŸå¾…çš„æ´›åŸå¾·æ¯”ï¼Œå¥½åƒä¸€è·¯æ€åˆ°åº•éƒ½æ²¡ä»€ä¹ˆæ‚¬å¿µï¼Œæœ€ç»ˆæ‹¿äº†å† å†›ä¹Ÿå¿ƒæ— æ³¢æ¾œã€‚å¯èƒ½æˆ‘ä»¥ä¸ºæˆ‘æ˜¯æ¹–èœœï¼Œå®é™…åªæ˜¯ç§‘ç²‰ã€‚æƒ³å¿µç§‘æ¯”ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w40-collage.jpg" alt="w40-collage" /></p>

<h2 id="w39-0928---1004">W39 (09/28 - 10/04)</h2>

<ul>
  <li>è¿™å‘¨å·¥ä½œä¸¤å¤©ï¼Œ9.30 æ¬å…¥æ–°å®¶ï¼ŒèŠ±äº†äº”å¤©æ—¶é—´å®‰é¡¿æ•´ç†ï¼Œå„ç§ä¹°ä¹°ä¹°ï¼Œæœ€åä»¥ä¸€é¡¿ç«é”…å¼€å§‹æ–°çš„ç”Ÿæ´»ã€‚æš‚æ—¶åªæœ‰ç”Ÿæ´»ç”¨å“ï¼Œå®¶å…·ä¼°è®¡è¦ä¸¤ä¸‰ä¸ªæœˆæ‰èƒ½é™†é™†ç»­ç»­åˆ°äº†ã€‚</li>
  <li>å‘¨ä¸­å’Œå–œç¦çœ‹å®Œäº†<a href="https://movie.douban.com/subject/33447642/">æ²‰é»˜çš„çœŸç›¸</a>ï¼Œæ¯”ä¹‹å‰å¥¹åœ¨è¿½çš„éšç§˜çš„è§’è½å’Œæ‘©å¤©å¤§æ¥¼éƒ½å¼ºå‡ºäº†ç™¾å€ã€‚è™½ç„¶é£æ ¼ä¸Šæƒ…èŠ‚ä¸Šèƒ½çœ‹å‡ºæ¥æœ‰å¾ˆå¤šå€Ÿé‰´ï¼Œä½†æ˜¯ç»ˆå½’æ˜¯å›½äº§å‰§çš„è¿›æ­¥ã€‚</li>
  <li>çˆ¸å¦ˆçš„è¥¿è—ä¹‹æ—…å‡ ä¹å’Œæˆ‘ä»¬çš„æ¬å®¶è¿‡ç¨‹åŒæ­¥ï¼Œä¹Ÿåœ¨è¿™å‘¨å¹³å®‰ç»“æŸï¼Œä¸€åˆ‡é¡ºåˆ©ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w39-collage.jpg" alt="w39-collage" /></p>

<h2 id="w38-0921---0927">W38 (09/21 - 09/27)</h2>

<ul>
  <li>æ¬å…¥æ–°å®¶å‰çš„æœ€åä¸€å‘¨ã€‚è·Ÿå–œç¦å››å¤„çœ‹çœ‹å®¶å±…ï¼Œä¸€åˆ‡è²Œä¼¼é¡ºåˆ©ï¼Œç›´åˆ°å‘¨å››æ™šä¸Šçš„ä¸€å°é‚®ä»¶ï¼šæˆ¿å­çªç„¶å¤šäº†å…«ä¸‡åˆ€çš„ç¨ï¼æœ‰ç‚¹å“åˆ°ï¼Œå‘¨äº”èµ·æ¥èµ¶ç´§è”ç³»æ›²æ€»å’Œå¾‹å¸ˆã€‚åŸæ¥æ‰€æœ‰äººéƒ½å¿½ç•¥äº†è¿™ä¸ªæˆ¿å­çš„ç‰¹æ®Šæ€§ï¼Œè™½ç„¶ä¸æ˜¯ substantially rennovatedï¼Œä½†æ˜¯å–å®¶ä½œä¸ºå…¬å¸ï¼Œ18å¹´ä¹°å…¥ã€ç¿»ä¿®ã€æœ€è¿‘å–å‡ºï¼Œè€Œä¸”ä¸­é—´æ²¡æœ‰äººå±…ä½ï¼Œå¾ˆå®¹æ˜“è¢«å›½ç¨å±€ç›¯ä¸Šï¼Œæœ€ç»ˆå¾ˆå¯èƒ½è¦äº¤ç¨çš„ã€‚è¿™ä¸ªæ—¶é—´ç‚¹ä¹Ÿå¾ˆæ˜¯å°¬ï¼Œæ°å·§å‘¨æœ«ã€‚æ‰€ä»¥æœ¬æ¥æ˜¯è½»æ¾æ„‰å¿«æœ‰å¸Œæœ›çš„å‘¨æœ«ï¼Œå˜æˆäº†æ— æ‰€äº‹äº‹çªå®¶çœ‹å‰§ã€‚</li>
  <li>æ¥è‡ªä¸‹å‘¨ä¸€çš„æ¶ˆæ¯ï¼šå–å®¶å’Œç¨åŠ¡å¾‹å¸ˆæ²Ÿé€šç¡®è®¤äº†äº¤ç¨çš„å¿…è¦ï¼Œæˆ‘ä»¬çš„ç»çºªä»ä¸­æ–¡æ—‹ï¼Œæœ€ç»ˆå–å®¶åŒæ„ç”±ä»–ä»¬æ‰¿æ‹…è¿™éƒ¨åˆ†ç¨æ¬¾ã€‚è™šæƒŠä¸€åœºï¼Œå’Œå–œç¦ç›¸æ‹¥åº†ç¥ã€‚è¿™ä¸ªæ’æ›²ä»¥æœ€æœ€æ»¡æ„çš„ç»“æœç»“æŸäº†ã€‚</li>
  <li>è¿™å‘¨çš„é«˜å…‰æ˜¯å‘¨ä¸­å¸¦äº† Nikki å»æµ·è¾¹çš„ç‹—ç‹—å…¬å›­ã€‚é‚£ä¸ªå¼€å¿ƒçš„å‘€ï¼Œå„ç§æ‰“æ»šï¼Œå¥”è·‘ï¼Œæ¸¸æ³³ã€‚ä¸çŸ¥é“å–äº†å¤šå°‘æµ·æ°´ï¼Œå€’æ˜¯å›å®¶å°±é¸Ÿæ‚„åœ°å°¿äº†ä¸‰æ¬¡ã€‚ä¸€è§‰ç¡åˆ°æ™šä¸Šï¼Œç„¶åå‡ºé—¨æ•£æ­¥æ‹‰ç¨€ã€‚æœäº†æ­»ç‹—ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w38-collage.jpg" alt="w38-collage" /></p>

<h2 id="w37-0914---0920">W37 (09/14 - 09/20)</h2>

<ul>
  <li>è¥¿æµ·å²¸çš„å±±ç«å¯¼è‡´è¿™ä¸€å‘¨éƒ½çƒŸé›¾ç¼­ç»•ï¼Œåˆ°äº†å‘¨æœ«æ‰é‡è§é˜³å…‰ã€‚è¿™ä¸€å‘¨æœ€çš„å¤§çš„è¿›å±•è«è¿‡äº Nikki äº†ã€‚ä¸Šå‘¨æœ«å¸¦å¥¹å»å’Œ Anna &amp; Jojo ç©ï¼Œç„¶åå¼€å§‹çœ‹ä¹¦ï¼Œé”å®šé—®é¢˜åœ¨æ²¡æœ‰è¶³å¤Ÿæ¶ˆè€—å¥¹ç²¾åŠ›ï¼Œæ‰€ä»¥è¿™ä¸€å‘¨æ¯å¤©ä¸­åˆéƒ½åœä¸‹å·¥ä½œï¼Œå¸¦ä¸Š Nikki å»ç‹—å…¬å›­ç©è€ã€‚ç«‹ç«¿è§å½±ã€‚ç–¯è·‘å››ååˆ†é’Ÿï¼Œå›åˆ°å®¶å°±æ˜¯æ¡æ­»ç‹—ï¼Œæ¯›ç»’ç©å…·ä¸€èˆ¬èººåœ¨åœ°ä¸Šççœ¼ã€å–˜æ°”ã€ç„¶åç¡è§‰ã€‚</li>
  <li>å‘¨ä¸­å¸¦è®¾è®¡å¸ˆå»çœ‹äº†æ–°å®¶ï¼Œé‡å°ºå¯¸ï¼Œç­‰ç€å¥¹ä»¬å‡ºæ–¹æ¡ˆã€‚æˆ‘å’Œå–œç¦å‘¨æœ«é€›äº†å¾ˆå¤šå®¶å±…ï¼Œæ·±åˆ»ä½“ä¼šäº†è¾¹é™…æ•ˆåº”ã€‚å°±æ‹¿åºŠå«ä¸ºä¾‹ï¼Œ1k çš„åºŠå«å·²ç»ä½“éªŒéå¸¸å¥½ï¼Œä½†æ˜¯è½¬çœ¼å°±åˆå‡ºæ¥å¼  8k çš„ï¼Œè¿™ä¸ªæ„Ÿå—ä¸Šçš„å·®åˆ«æˆ‘æ•¢ä¿è¯ä¸ä¼šæœ‰ 8 å€ã€‚è€Œä¸”å¸‚åœºæ··ä¹±ï¼ˆæˆ–æ˜¯æœºæ™ºï¼Ÿï¼‰ï¼Œæœ‰å¤ªå¤šä¸œè¥¿æ‰¾ä¸åˆ°ç»å¯¹ä»·æ ¼ï¼Œåˆ°æœ€ååªèƒ½åŒç±»æ¯”è¾ƒï¼Œè½ä¸ªæ··ä¹±çš„ä¼°è®¡ã€‚</li>
  <li>å‘¨æœ«çœ‹äº†æˆ‘æ–‡æ–°èµ›å­£æ­å¹•æˆ˜ï¼Œå¤§å‘¼è¿‡ç˜¾ã€‚å¯èƒ½æ˜¯å»å¹´è¢«å–‚äº†å¤ªå¤šå±ï¼Œæ²¡æ³•ä¸ä¸ºè¿™æ ·çš„æ”¹å˜æ¬¢æ¬£é¼“èˆã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w37-collage.jpg" alt="w37-collage" /></p>

<h2 id="w36-0907---0913">W36 (09/07 - 09/13)</h2>

<ul>
  <li>è¿™å‘¨çš„å·¥ä½œå¾ˆé¥±æ»¡ï¼Œæ²¡æœ‰è¢«ç”Ÿæ´»çš„çäº‹æ‰“æ‰°ï¼Œä¸ƒç‚¹å·¥ä½œï¼Œä¸‰ç‚¹åŠç»“æŸï¼Œäº•äº•æœ‰æ¡ã€‚æˆ¿å­çš„äº‹æƒ…ï¼Œæ•²å®šäº†ä¸€ä¸ªå®¤å†…è®¾è®¡å…¬å¸ï¼Œä¸‹é¢è¦è¯¦è°ˆå„ç§ç»†èŠ‚ã€‚å‘¨æ—¥æ¬åˆ°äº†å¦å¤–ä¸€ä¸ª Airbnbï¼Œç»ˆäºæ‘†è„±äº†ä¹‹å‰æ˜æš—é˜´å†·çš„åŠåœ°ä¸‹å®¤äº†ã€‚</li>
  <li>æ¥äº†æ¸©å“¥åä¹‹åå¾ˆä¸º Nikki çŠ¯æ„ï¼Œé‡åˆ°é™Œç”Ÿç¯å¢ƒï¼Œå„ç§ä¸å¬è¯å˜æœ¬åŠ å‰ï¼Œæˆ‘ç»å†äº†ä¸‰æ¬¡å½»åº•çš„è‹¦æ¼ï¼Œè·Ÿå–œç¦ä¹Ÿå¾ˆè®¤çœŸåœ°è®¨è®ºè¿‡ä¸¤æ¬¡ã€‚è¿™å‘¨å¼€å§‹ä¿©äººä¸€èµ·çœ‹ <a href="https://www.goodreads.com/book/show/42504741-zak-george-s-guide-to-a-well-behaved-dog?from_search=true&amp;from_srp=true&amp;qid=H30MYgDAKj&amp;rank=1">Zak Georgeâ€™s Guide to a Well-Behaved Dog</a>ï¼Œæ‰¾å¯»æˆ‘ä»¬çš„ä¸è¶³ä¸å¸Œæœ›ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w36-collage.jpg" alt="w36-collage" /></p>

<h2 id="w35-0831---0906">W35 (08/31 - 09/06)</h2>

<ul>
  <li>ä¸¤ä¸ªæœˆçš„å››å¤©å·¥ä½œå‘¨ç»“æŸäº†ï¼Œè¿™å‘¨å›å½’æ­£å¸¸ã€‚æœ€è¿‘ç”Ÿæ´»å˜åŠ¨ï¼Œå¾ˆæ—©å°±å’Œè€æ¿è¯´ä¸è¦å®‰æ’ç¹å¤å·¥ä½œï¼Œåªå®Œæˆäº†å¾ˆå¤šå°ä»»åŠ¡ã€‚ç°åœ¨åªæƒ³æ—¶é—´è¿‡çš„å¿«äº›ï¼Œå¼€å¯ä¸‹ä¸€é˜¶æ®µçš„å¿™ç¢Œï¼Œæ‰€ä»¥å·¥ä½œæ—¥å’Œå‘¨æœ«åŒºåˆ«ä¸å¤§ï¼Œåå€’å·¥ä½œä¼šè®©è¿™ä¸€å¤©æ›´è½»æ¾é¡ºç•…ã€‚</li>
  <li>å°è½¦è¿åˆ°äº†æ¸©å“¥åï¼Œæ¢äº†é©¾ç…§å’Œä¿é™©ï¼Œä¸€åˆ‡é¡ºåˆ©ã€‚æˆ¿å­çš„è´·æ¬¾æ‰¹ä¸‹æ¥äº†ï¼ŒåšéªŒæˆ¿ï¼Œäº¤è®¢é‡‘ï¼Œåªç­‰æœˆåº•æ¬å®¶ã€‚</li>
  <li>é”™è¿‡äº†å‘¨æœ«çš„ F1ï¼Œä½†æ˜¯å¼‚å¸¸æƒŠå–œ Gasly åœ¨å°ç‰›å¤ºå† ã€‚å›çœ‹äº†å„ç§é›†é”¦å’Œé‡‡è®¿ï¼Œä»–ç‹¬åé¢†å¥–å°ä¸å¿ç¦»å»çš„ç”»é¢è®©æˆ‘æ²¡æ³•å¿˜å´ã€‚è¿™ä¸æ˜¯ä½ çš„å·…å³°ï¼Œåªæ˜¯å¼€å§‹ã€‚</li>
  <li>çˆ¸å¦ˆçš„è¥¿è—ä¹‹æ—…ç»ˆäºåˆ°è¾¾äº†ç»ˆç‚¹æ‹‰è¨ï¼Œå¸Œæœ›ä»–ä»¬èƒ½å¹³å®‰è¿”ç¨‹ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w35-collage.jpg" alt="w35-collage" /></p>

<h2 id="w34-0824---0830">W34 (08/24 - 08/30)</h2>

<ul>
  <li>åœ¨çº ç»“äº†ä¸¤å¤©ä¹‹åï¼Œè¿˜æ˜¯é€‰æ‹©äº†ä¸Šå‘¨æ—¥ä¸‹çš„ offerã€‚ç›¸æ¯”äºç”Ÿæ´»ä¾¿åˆ©å’ŒæŠ•èµ„ä»·å€¼ï¼Œæˆ‘ä»¬åšäº†èˆ’é€‚åº¦æ›´é«˜çš„é€‰æ‹©ã€‚éå¸¸å¼€å¿ƒå’Œæ»¡æ„ã€‚ä¸‹å‘¨ä¼šå®Œæˆè´·æ¬¾å’ŒéªŒæˆ¿ï¼Œä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œ9.30 åˆå¯ä»¥æ¬å®¶äº†ã€‚æˆ‘å’Œå–œç¦æˆç§°ï¼Œâ€ä¸€å¤©åŠå–æˆ¿ï¼Œä¸€å‘¨åŠä¹°æˆ¿â€ ğŸ‰</li>
  <li>èœ—å±… Airbnb ä¸å‡†å¤‡å¼€ç«åšé¥­ã€‚æ¯å¤©æ—©é¤ç®€å•è§£å†³ï¼Œåˆé¤å’Œæ™šé¤éƒ½åœ¨å¤–è¾¹äº«å—ã€‚è¿™ä¸ªæœˆåšäº†å……è¶³çš„é¢„ç®—ï¼Œæ”¾è‚†åƒã€‚è¿™ä¸€å‘¨åƒäº†çƒ§çƒ¤ã€æ‹‰é¢ã€Phoã€æ—¥æ–™ã€çƒ¤é±¼ã€åŒ—äº¬æ¶®è‚‰ã€ä¸œåŒ—é“é”…ç‚–ã€‚</li>
  <li>å‘¨æœ«æ— æ‰€äº‹äº‹å»çœ‹äº†è¯ºå…°çš„æ–°ç‰‡ï¼Œ<a href="https://movie.douban.com/subject/30444960/">Tenet</a>ã€‚æˆ‘çœŸæ˜¯æ‰¾è™å•Šï¼Œæœ¬æ¥å‰§æƒ…å°±çƒ§ï¼Œè¯´çš„å„ç§è‹±è¯­æˆ‘ä¹Ÿå®Œå…¨è¿·å¤±ã€‚çœ‹å®Œåªå­¦ä¸ªæ–°è¯ï¼Œå…ƒç´ å‘¨æœŸè¡¨ 241 Plutonium ğŸ¤¦</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w34-collage.jpg" alt="w34-collage" /></p>

<h2 id="w33-0817---0823">W33 (08/17 - 08/23)</h2>

<ul>
  <li>æ¥åˆ°æ¸©å“¥åç¬¬ä¸€å‘¨ï¼Œå·¥ä½œï¼Œå’Œæœ‹å‹åƒé¥­ï¼Œçœ‹æˆ¿å­ã€‚æ˜ç¡®äº†å„ç§éœ€æ±‚åè¿›åº¦å¾ˆå¿«ï¼Œåˆ°ç°åœ¨æ›²æ€»ä¸€å…±å¸¦æˆ‘ä»¬çœ‹äº†äºŒåæ¥å¥—æˆ¿ï¼Œå‰©ä¸‹ä¸¤å¥—å¤„åœ¨çº ç»“ä¹‹ä¸­ï¼Œåˆ°æœ€åå°±æ˜¯ä¸€ä¸ªå–èˆçš„è¿‡ç¨‹ã€‚ç°åœ¨æˆ‘ä»¬åŸºæœ¬å¡åœ¨ä¸€ä¸ªç‚¹ä¸Šï¼Œå°±æ˜¯æˆ‘ä»¬æ„¿æ„ç‰ºç‰²å¤šå°‘æˆ¿å­çš„éšå½¢ä»·å€¼ï¼ˆä½ç½®å¸¦æ¥çš„å¢å€¼å’Œä¾¿åˆ©åº¦ï¼‰æ¥æ¢å–æˆ¿å­çš„å®ç”¨ä»·å€¼ï¼ˆèˆ’é€‚åº¦ï¼‰ã€‚å‘¨æ—¥æ™šä¸Šä¸‹äº†ä¸€ä¸ª offerï¼Œä¸çŸ¥é“ç»“æœä¼šæ€æ ·ã€‚</li>
  <li>ç”Ÿæ´»åœ¨ Airbnb æ„Ÿå—åˆ°å¾ˆæ˜æ˜¾çš„è½å·®ï¼Œå±‹å­ç•¥æ˜¾é˜´å†·ï¼Œæ¯å¤©åœ¨é¤æ¡Œä¸Šå·¥ä½œã€‚è™½ç„¶åªæœ‰ä¸€ä¸ªç¤¼æ‹œï¼Œå·²ç»å¼€å§‹æ€€å¿µä¹‹å‰æ¸©é¦¨çš„å®¶ã€‚</li>
  <li>å»é«˜ç£Šå®¶åšå®¢ï¼Œå» Jove å®¶åšå®¢ï¼Œå»å’Œå–œç¦çš„åŒäº‹æˆ·å¤– socialã€‚</li>
  <li>8.21 å ä¸œå·¥ä½œå‡èŒï¼Œç”Ÿæ´»ä¸­è¿æ¥å° Jeremyï¼Œä¸€å¤©ç›´è¾¾äººç”Ÿå·…å³°å•Šï¼Œå¼€å¿ƒã€‚</li>
  <li>çˆ¸å¦ˆä¸¤ä¸ªç¤¼æ‹œå‰å¼€å§‹ä»ä¸œåŒ—å»è¥¿è—çš„è‡ªé©¾æ¸¸ã€‚å…ˆæ˜¯å»å–œç¦è€å®¶æ¸¸ç©äº†ä¸€åœˆï¼Œå¦ˆå¦ˆæ„ŸåŠ¨åˆ°ä¸è¡Œã€‚ä¹‹åå»å¼ å®¶ç•Œï¼Œç°åœ¨åˆ°äº†å››å·å’Œé‡åº†ï¼Œåå¤§æ¬¾å¾…ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w33-collage.jpg" alt="w33-collage" /></p>

<h2 id="w32-0810---0816">W32 (08/10 - 08/16)</h2>

<ul>
  <li>å·¥ä½œä¸¤å¤©ï¼Œè¯·å‡ä¸¤å¤©ã€‚æœ‰ç‚¹æ— å¿ƒå·¥ä½œï¼Œæ‹…å¿§æœ€åçš„æ•´ç†ã€æ‰“åŒ…ï¼Œç”Ÿæ€•ä¸´è¡Œå‰æœ‰ä»€ä¹ˆçäº‹è½ä¸‹ã€‚äº‹å®ä¹Ÿè¯æ˜ç¡®å®éœ€è¦è¿™ä¸¤å¤©ï¼šç§Ÿè½¦é€äº†12ä¸ªç®±å­åˆ°å¿«é€’å¯„å­˜ï¼ŒæŠŠğŸš—é€ä¸Šå¡è½¦ï¼ˆç­‰ä¸¤ä¸ªç¤¼æ‹œï¼Œç«è½¦è¿åˆ°æ¸©å“¥åï¼‰ï¼Œæœ€åä¸€æ¬¡å»åŠå…¬å®¤é€æ˜¾ç¤ºå™¨å’Œå–ç–«æƒ…å‰ç•™åœ¨åŠå…¬å®¤çš„å°ä¸œè¥¿ï¼Œè”ç³»ğŸ±ğŸ¶çš„å® ç‰©åŒ»é™¢å»æ‹¿å¸®åŠ©ä»–ä»¬åœ¨é£æœºä¸Šå®‰å®šçš„è¯ä¸¸ï¼Œè·Ÿ Tim, Leonice, Michael, Stefan, David, Sarah, Alex å‘Šåˆ«ï¼Œè§å¾‹å¸ˆå–æˆ¿ç­¾å­—ï¼Œå¿™é‡Œå·é—²å»æ‰“äº†ä¸ªè€³æ´ ğŸ˜‰</li>
  <li>å‘¨å››çš„æ™šä¸Šå…«ç‚¹å¤šæ‰å…¨éƒ¨åˆ°ä½ï¼Œå’Œå–œç¦æå‰çº¦å¥½äº† Kinkaku æœ€åä¸€é¤ã€‚ä¸ç”¨å¼€è½¦ï¼Œå–äº†å¥½å¤§ä¸€æ‰å•¤é…’ï¼Œååœ¨è·¯è¾¹ï¼Œäº«å—æœ€åä¸€ä¸ªå‡‰çˆ½çš„å¤æ—¥å¤œæ™šã€‚</li>
  <li>å‘¨äº”å‡ºå‘ï¼Œæ¢ç™»æœºç‰Œçš„æ—¶å€™å‡ºäº†ç‚¹å·®é”™ï¼ŒAmazon ä¸Šä¹°çš„ç‹—ç¬¼å­ä¸ç¬¦åˆæ ‡å‡†ï¼Œä¸å…è®¸ Nikki ä¸Šé£æœºï¼Œåªå¥½æŠŠæœºç¥¨ä»æ—©ä¸Šå…«ç‚¹æ”¹ç­¾æˆäº†æ™šä¸Šå…«ç‚¹ï¼Œåé¢çš„è®¡åˆ’ä¹Ÿå…¨éƒ½æ¨è¿Ÿã€‚æˆ‘ä»¬èµ¶ç´§å«å›å’ªå“¥ï¼Œè·‘åˆ°å¦å¤–çš„åœ°æ–¹ä¹°ç¬¼å­ï¼Œè®¢é™„è¿‘çš„å®¾é¦†ä¼‘æ•´ã€‚ç»ˆäºï¼Œæ™šä¸Šä¸€åˆ‡é¡ºåˆ©ï¼ŒæŠŠ Nikki é€ä¸Šâ€œå¤§ä»¶è¡Œæâ€ï¼Œå¸¦ç€èµµå››ä¸€èµ·ä¸Šæœºã€‚æ¸©å“¥åæ—¶é—´åç‚¹å¤šåˆ°è¾¾ã€‚æˆ‘å’Œå–œç¦ï¼Œå››ä¸ªç®±å­ï¼Œä¸€ä¸ªæ»‘é›ªæ¿ï¼Œä¸¤ä¸ªå°åŒ…ï¼Œä¸€çŒ«ä¸€ç‹—ï¼Œå…¨éƒ¨å»ºåœ¨ã€‚ä¸€ç‚¹é’Ÿåˆ°è¾¾ä½å¤„ï¼Œç®€å•æ”¶æ‹¾èµ¶ç´§ä¼‘æ¯ã€‚æ¼«é•¿çš„ä¸€å¤©ï¼Œ24å°æ—¶åœ¨è·¯ä¸Šã€‚</li>
  <li>å‘¨æœ«æ‰“åŒ…æ”¶æ‹¾ï¼Œå’Œå–œç¦çš„å¥½æœ‹å‹çˆ±ç³ã€Phoebeåƒå°é¾™åï¼Œå’Œé«˜ç£Šæ˜è¿œé‡é€¢æ’¸ç‹—èŠå¤©ï¼Œè·Ÿç€æ›²æ€»å¼€å§‹çœ‹æˆ¿ä¹‹æ—…ã€‚</li>
  <li>å¿™ç¢Œçš„ä¸€å‘¨ï¼Œæœ€å¥½çš„ä¼‘é—²è«è¿‡äºçœ‹äº†å‡ åœºç²¾å½©çš„æ¯”èµ›ã€‚æˆ‘å¿ƒå¿ƒå¿µçš„çœŸè“é»‘æœ€åä¸¤åˆ†é’Ÿè¢«å·´é»é€†è½¬ï¼Œæ‹œä»å¤©åœ°ä¸ä»ä¸‡ç‰©åˆç‹—ä¸¤ä¸ª4:1æ¨ªæ‰«äº†å·´è¨ã€‚</li>
  <li>å†™äº†ä¸‰å¹´å¤šçš„æ—¥è®°ç»ˆäºç¿»ç¯‡äº†ï¼Œå¼€å§‹æ–°çš„æ—…ç¨‹ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w32-collage.jpg" alt="w32-collage" /></p>

<h2 id="w31-0803---0809">W31 (08/03 - 08/09)</h2>

<ul>
  <li>åœ¨  Waterloo çš„æœ€åä¸€å‘¨ã€‚å‘¨ä¸‰å» Raymond å®¶æ™šé¤ï¼Œé“åˆ«ã€‚å¯èƒ½åœ¨ Waterloo æœ€æ²¡æƒ³åˆ°ä¼šé‡è§çš„æœ‹å‹å°±æ˜¯ Ray äº†ï¼Œä¸¤å¹´çš„æ—¶é—´ï¼Œæ¯å‘¨å»è§é¢èŠå¤©ï¼Œè®©æˆ‘è®¤è¯†åˆ°å¾ˆå¤šæ–‡åŒ–ã€æƒ³æ³•ä¸Šçš„ä¸åŒï¼Œä¹Ÿè§è¯†åˆ°ä»–å’Œ Rona å¯¹è¿™ä¸ªä¸–ç•Œç¾å¥½çš„å–„æ„ã€‚å‘¨å…­å»äº† David å’Œ Sarah åœ¨ GrandBend çš„ cottageï¼Œä¸€èµ·è¿˜æœ‰ Alex å’Œ Mr. Wilsonã€‚æ¹–è¾¹çš„æ™¯è‰²å¾ˆç¾ï¼ŒNikki ç¬¬ä¸€æ¬¡åˆ°æµ·è¾¹ï¼Œç–¯äº†ä¸€è¿½é€æµªèŠ±ï¼Œåœ¨æ¹–é‡Œè¹¦è¹¦è·³è·³æ”¾é£è‡ªæˆ‘ã€‚å‘¨æœ«å’Œç£Šå“¥ä½³æ–°ä¸€èµ·æ™šé¤ï¼Œç„¶åå’Œå’ªå“¥æœ€åä¸€å‘ Fifa 20ï¼Œæœ€ç»ˆéš¾åˆ†èƒœè´Ÿï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è¯´æ˜¯èœé¸¡çš„èƒœåˆ©ã€‚</li>
  <li>æ–­æ–­ç»­ç»­èŠ±äº†å‡ ä¸ªæœˆæ—¶é—´è¯»å®Œ <a href="https://book.douban.com/subject/6896459/">Quiet</a>ï¼Œè®©æˆ‘æ›´åŠ è®¤æ¸…è‡ªå·±ï¼Œä¹Ÿç®—æ˜¯æ‰¾åˆ°ä¸€ä¸ªç­”æ¡ˆï¼šæ¥å—è‡ªå·±å†…å‘çš„æ€§æ ¼ï¼Œè€Œä¸æ˜¯å»çº æ­£ï¼›åŠªåŠ›æé«˜å‘æŒ¥å†…å‘æ€§æ ¼çš„ä¼˜åŠ¿ã€‚</li>
  <li>é—²æš‡ä¹‹ä½™ä¹Ÿè¯»å®Œäº†<a href="https://book.douban.com/subject/25796120/">å°å¾„åˆ†å‰çš„èŠ±å›­</a>ã€‚ç¬¬ä¸€æ¬¡è¯»åšå°”èµ«æ–¯ï¼Œå¥½åƒçŸ¥é“ä»–åœ¨å†™ä»€ä¹ˆï¼Œåˆå¥½åƒä¸çŸ¥é“ã€‚æŠŠç§‘å­¦æ€§çš„é€»è¾‘æ”¾åœ¨å°è¯´ä¸­ï¼Œæ€»æ˜¯å¾ˆå¯çˆ±ï¼Œä»ç‹å°æ³¢èº«ä¸Šä¹Ÿçœ‹åˆ°è¿‡ã€‚ ä¸ƒä¸ªå°æ•…äº‹ï¼Œéå¸¸å–œæ¬¢ã€Šç¯å½¢åºŸå¢Ÿã€‹ï¼šâ€œå¼•å¯¼ä»–åˆ°è¿™é‡Œæ¥çš„ç›®çš„è™½ç„¶å¼‚ä¹å¯»å¸¸ï¼Œä½†å¹¶éä¸èƒ½å®ç°ã€‚ä»–è¦æ¢¦è§ä¸€ä¸ªäººï¼šè¦æ¯«å‘ä¸çˆ½åœ°æ¢¦è§é‚£äººï¼Œä½¿ä¹‹æˆä¸ºç°å®ã€‚â€</li>
  <li>æ¯å¹´éƒ½æœ‰è¿™ä¹ˆä¸€å¤©ä¸§çš„å¾ˆç¨³å®šï¼Œå°±æ˜¯æˆ‘æ–‡æ¬§å† å‡ºå±€ã€‚ä¸€å¹´å¹´çš„æœŸæœ›æ°´æ¶¨èˆ¹é«˜ï¼Œä½†æ˜¯æ€»ä¸å¯å¾—ï¼Œå°¤å…¶ä¼´æœ‰è¿™ä¸¤å¹´çš„é€€æ­¥ï¼Œå¼‚å¸¸æªå¿ƒã€‚ä»Šå¹´è¾“ç»™äº†é‡Œæ˜‚ï¼Œç„¶åè¨é‡Œä¸‹è¯¾å–œå¤§æ™®å¥”ï¼Œä½†æ˜¯é©¬ä¸Šçš®å°”æ´›å®˜å®£ä¸Šä»»ï¼Œç›´æ¥å“æ‰äº†æˆ‘çš„ä¸‹å·´ã€‚çƒè¿·ç»ˆç©¶æ˜¯è¢«åŠ¨çš„çœ‹å®¢ï¼Œæƒ³è¿½å¯»å–œæ‚¦ï¼Œä¹Ÿè¦é¡¶å¾—ä½è¿™è‚¡æ‚²ä¼¤ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w31-collage.jpg" alt="w31-collage" /></p>

<h2 id="w30-0727---0802">W30 (07/27 - 08/02)</h2>

<ul>
  <li>è¿™å‘¨å·¥ä½œå¾ˆè®¤çœŸï¼Œäº‹æƒ…æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ¯å¤©å·¥ä½œå¾ˆé¥±æ»¡ã€‚å–æ‰äº†ä¸»å§çš„åºŠä¹‹åï¼Œæˆ‘å’Œå–œç¦æ¬åˆ°æ¬¡å§ä½åœ¨å¦ä¸€å—åºŠå«ä¸Šï¼Œæ²¡æƒ³åˆ°è¿™ä¸€å‘¨çš„ç¡çœ éƒ½å‡ºå¥‡çš„å¥½ã€‚æ—©ä¸Šå¯ä»¥èµ·å¾ˆæ—©ï¼Œåˆå¾ˆç²¾ç¥ï¼Œå†³å®šäº†ä¸€å¤©çš„ç²¾ç¥çŠ¶æ€ã€‚</li>
  <li>æœ€è¿‘çš„å‡æœŸæœ‰ç‚¹å¤šï¼Œè¿™å‘¨åˆæ˜¯å››å¤©é•¿å‘¨æœ«ã€‚æ­£å¥½ç•™ç»™æˆ‘ä»¬åšå„ç§çäº‹ã€‚å–œç¦æœ€è¿‘çš„å–å–å–é¢‡æœ‰æˆæ•ˆï¼Œå‰©ä¸‹ä¸€å †ä¸å€¼é’±çš„å°ä¸œè¥¿ï¼Œå¥¹å¾ˆä¸Šå¿ƒåœ°æäº†ä¸ª garage saleï¼Œéå¸¸æˆåŠŸã€‚</li>
  <li>Nikki ä¸€ç›´åœ¨èˆ”è‡ªå·±æ‰‹æŒï¼Œä¸Šç½‘æŸ¥äº†æŸ¥åº”è¯¥æ˜¯ yeast infectionï¼Œäºšé©¬é€Šä¸‹å•ä¹°è¯ï¼Œæ‘¸äº†å¤§åŠä¸ªæœˆä¹Ÿä¸è§å¥½ã€‚åªå¥½åˆå»è§å…½åŒ»ï¼Œéšä¾¿çœ‹äº†çœ‹å¼€ä¸ªè¯å°± 200 å¤šåˆ€ã€‚è«éç‹—ç‹—å„ç§å°ç—…éœ€æ±‚äººä»¬æ›´å¤šå…³æ€€ä¹Ÿæ˜¯è‡ªç„¶é€‰æ‹© :thinking:</li>
  <li>è¶ç€å‘¨æœ«ç©å®Œäº† <a href="https://www.douban.com/game/25905436/">Uncharted 4: A Thiefâ€™s End</a>ï¼Œéå¸¸è½»æ¾åœ°æ¸¸æˆï¼Œè·‘é…·è§£è°œå¸¦å‰§æƒ…ï¼Œå¾ˆä¸é”™ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w30-collage.jpg" alt="w30-collage" /></p>

<h2 id="w29-0720---0726">W29 (07/20 - 07/26)</h2>

<ul>
  <li>
    <p>è¿™å‘¨çš„å·¥ä½œæ•ˆç‡ä¸é”™ï¼Œè™½ç„¶è¿˜æ˜¯æœ‰å„ç§çäº‹ï¼Œä½†æ˜¯è¯¥å·¥ä½œæ—¶å€™èƒ½é™ä¸‹å¿ƒæ¥ã€‚è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ä¸ªâ€use procrastination against itselfâ€çš„åŠæ³•ï¼š</p>

    <blockquote>
      <p>So basically, when procrastinating, we tend to justify our inactions: just 1 more minute on Twitter,
just one last scroll on my newfeed, lemme just check this subreddit really quick.  With reverse
procrastination, you trick your brain into doing your intended task: Ok lemme just open Visual
Studio Code and edit this one file then im good, Iâ€™ll just change this one line of code, Iâ€™ll just
do 5 pushups then iâ€™ll stop. Then when youâ€™re on your 5th pushup, you say â€œsurprise mr lazy pants,
im actually doing 10!â€ Once you get to do that one task, try to trick again your brain into doing
another simple, easy task and before you know it youre in â€œthe zoneâ€.</p>
    </blockquote>
  </li>
  <li>æ¬å®¶çš„äº‹æƒ…è¿˜åœ¨æ¨è¿›ï¼ŒåŸºæœ¬æ‰“åŒ…å®Œæ¯•ï¼Œå–œç¦æ¯å¤©éƒ½åœ¨å–å–å–å„ç§å®¶å…·å’Œå°ä¸œè¥¿ã€‚æˆ‘ä»¬åˆ—äº†ä¸€ä¸ªç†æƒ³æˆ¿å­çš„å„ç§è¦æ±‚ï¼Œå‘¨æœ«ä¸€èµ·è·Ÿä¸¤ä¸ª agent è§†é¢‘èŠäº†èŠï¼Œå¯¹å¸‚åœºå’Œæˆ‘ä»¬è‡ªå·±çš„é¢„æœŸæœ‰äº†æ›´å¥½çš„äº†è§£ï¼Œçº¦å®šå¥½ä¸‹ä¸ªæœˆä¸­æ—¬å¼€å§‹çœ‹æˆ¿ã€‚</li>
  <li>æ”’äº†åŠå¹´çš„å¤´å‘å’Œèƒ¡å­ç»ˆäºä¸è€å…¶æ‰°ï¼Œå‘¨æœ«å»ç®€å•ä¿®ç†äº†ä¸€ä¸‹ï¼Œ:older_man: çš„é’æ˜¥åˆå›æ¥äº†</li>
  <li>æˆ‘æ–‡çš„æ„ç”²è”èµ›ç»ˆäºè¸‰è¸‰è·„è·„çš„æ‹¿åˆ°äº†å† å†›ï¼Œå¼€å¿ƒï¼Œä¹Ÿä¼´ç€å¯¹æ¬§å† çš„æ‹…å¿§ã€‚ä¹è¿å† ï¼Œæƒ³æƒ³è‡ªå·±åº”è¯¥åªè½ä¸‹ä¸åˆ°ååœºæ¯”èµ›ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå°æˆå°±äº†ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w29-collage.jpg" alt="w29-collage" /></p>

<h2 id="w28-0713---0719">W28 (07/13 - 07/19)</h2>

<ul>
  <li>è¾›è‹¦äº†å‡ ä¸ªç¤¼æ‹œæ‰“åŒ…ã€æ¸…ç†ã€æ‹ç…§ï¼Œå‘¨ä¸€æ—©ä¸Šç»ˆäºæŠŠæˆ¿å­<a href="https://matrix.onregional.ca/Matrix/Public/Portal.aspx?ID=5005412776">æŒ‚äº†å‡ºå»</a>ã€‚æœ‰ç‚¹ä¸å®‰ï¼Œä½†æ˜¯å¾ˆå¿«æ”¶åˆ°å¾ˆå¤šçœ‹æˆ¿çš„è¯·æ±‚ã€‚æˆ‘å’Œå–œç¦åªèƒ½å¸¦ç€çŒ«ç‹—æµæµªï¼Œåœ¨ç–«æƒ…æœŸé—´ï¼Œæ— å¤„å¯å»ã€‚å‘¨äºŒæœ‰åä¸‰ç»„äººè¦æ¥çœ‹æˆ¿ï¼Œæˆ‘å’Œå–œç¦ä¸è€å…¶æ‰°ï¼Œåœ¨ Hamilton æ‰¾äº†ä¸ª Airbnbï¼Œæƒ³ç€èº²æ‰è¿™ä¸€å‘¨çš„é£æ³¢ã€‚ä½†æ˜¯æ²¡æƒ³åˆ°ï¼Œæ™šä¸Šç‡•å§å‘Šè¯‰æˆ‘ä»¬æœ‰äº†ä¸ªåˆé€‚çš„ bully offerï¼Œä¸€èµ·ç”µè¯è®¨è®ºï¼Œåˆ°åŠå¤œåä¸€ç‚¹åŠï¼Œæ•²å®šç»†èŠ‚ï¼Œç­¾ä¸‹åˆçº¦ï¼Œæˆ¿å­å°±è¿™ä¹ˆå–æ‰äº† :tada:  (Vlog <a href="https://www.youtube.com/watch?v=pGoUZeUa0KU">åŠ æ‹¿å¤§å–æˆ¿è®°</a>)</li>
  <li>è¿™ä¸¤å‘¨ä¸ºäº†ä¸ç ´åå®¶é‡Œçš„æ•´æ´ï¼Œå«äº†å¾ˆå¤šå¤–å–ã€‚ç–«æƒ…ä¹Ÿé€æ¸å¥½è½¬ï¼Œé©¬ä¸Šè¿›å…¥ stage 3ï¼Œå„è¡Œå„ä¸šè¦å½»åº•æ¢å¤äº†ï¼Œå¯ä»¥å‡ºé—¨åƒåƒåƒäº†ã€‚</li>
  <li>å‘¨æœ«å’Œå–œç¦æŠŠå®¶é‡Œå‰©ä¸‹çš„è¡£æŸœæ‰“åŒ…å¥½ï¼Œæ‹è„‘å­å®šäº†ä¸ªæ¬å®¶æ—¥æœŸï¼š8.14ã€‚è®¢æœºç¥¨ï¼Œè®¢ä¸´æ—¶ä½æ‰€ï¼Œè®¢ç®±å­æ¬è¿ï¼Œä¸€åˆ‡è¿è½¬çš„å¾ˆå¿«ã€‚ç°åœ¨åªå‰©ä¸‹ä¸€å †å®¶å…·è¦å¤„ç†äº†ï¼Œå¸Œæœ›ä¸è¦èŠ±å¤ªä¹…æ—¶é—´ã€‚</li>
  <li>å’Œç‹å§¨å’Œå”å”èŠå¤©ï¼Œå’Œ Tim ä¸€å®¶å…¬å›­é›å¼¯ï¼Œå’Œå›½å†…çš„æœ‹å‹çº¿ä¸Šæ‰“ç‰Œï¼Œå¾ˆ chillã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w28-collage.jpg" alt="w28-collage" /></p>

<h2 id="w27-0706---0712">W27 (07/06 - 07/12)</h2>

<ul>
  <li>
    <p>æ¬å®¶çš„äº‹æƒ…åœ¨ä¸æ–­æ¨åŠ¨ã€‚å’Œç‡•å§ç¡®å®šäº†å‘¨æ—¥ç»™æˆ¿å­æ‹ï¼Œç…§ç„¶åä¸‹å‘¨ä¸€ä¸Šå¸‚ã€‚æ¯å¤©å’Œå–œç¦äº”ç‚¹å‡†æ—¶ä¸‹ç­ï¼Œä¸€èµ·æå«ç”Ÿæ‰“åŒ…ä¸œè¥¿ã€‚ä¸€å‘¨ä¸‹æ¥å¾ˆé¡ºåˆ©ï¼Œç­‰åˆ°å‘¨æ—¥ä¸€åˆ‡å°±ç»ªï¼ŒçœŸæœ‰ç‚¹ä¸æ˜¯æˆ‘å®¶çš„æ ·å­äº†ï¼Œä¸æ•¢ä¹±åŠ¨ï¼Œç”Ÿæ€•ç ´åäº†è¿™ä»½çœ‹èµ·æ¥çš„ç¾å¥½ã€‚</p>
  </li>
  <li>
    <p>è¿™å‘¨æœ€å¤§çš„æ”¶è·æ˜¯å¼€å§‹åšå†¥æƒ³ï¼Œæ¯å¤©ä¸‰ç‚¹é’Ÿç²¾ç¥æ¯”è¾ƒç–²æƒ«çš„æ—¶å€™ï¼Œåœä¸‹æ¥å†¥æƒ³åŠä¸ªå°æ—¶ï¼Œç¡®å®ä¼šæœ‰ç§ä¸€å¤©åˆé‡æ–°å¼€å§‹çš„æ„Ÿè§‰ã€‚å·®äº†äº›èµ„æ–™ï¼Œçœ‹åˆ°äº†ä¸€ä¸ªå¾ˆå¥½çš„æ¯”å–»ï¼šæƒ³è±¡ä½ ä¸€è‰˜å°èˆ¹ä¸Šï¼Œæ¼‚æµ®åœ¨å¤§æµ·ä¸­ï¼Œæµ·æµªæ¥è¢­ï¼Œä½ ä¹Ÿéšç€ä¸Šä¸‹é£˜åŠ¨ã€‚ä½ çš„å¤§è„‘å°±æ˜¯è¿™ç‰‡æµ·ï¼Œè¡¨é¢ä¸Šä¸æ—¶æœ‰æ´»è·ƒçš„æ³¢åŠ¨ï¼Œè€Œå†…åœ¨å´æ˜¯å®‰é™å¹³å’Œã€‚æ•´ä½“ä¸Šæœ‰ä¸‰ç§ç±»å‹çš„å†¥æƒ³ï¼š</p>

    <ol>
      <li>focus detentionï¼Œä»»ä½•æ¶‰åŠåˆ° concentration çš„éƒ½æ˜¯è¿™ç±»ï¼Œå¤§ä½“æ€æƒ³å°±æ¯”å¦‚é€šè¿‡ä¸“æ³¨æ¥ä½¿æµ·é¢å¹³é™</li>
      <li>mindfulnessï¼Œå…³äºè§‚å¯Ÿè‡ªèº«å’Œå‘¨é­çš„ç¯å¢ƒï¼Œæƒ³åŠæ³•è®¾èº«ä¸–å¤–ä¸ä½œä»»ä½•è¯„åˆ¤ï¼Œå°±åƒé»˜é»˜åœ°å»è§‚å¯Ÿæµ·é¢çš„æ³¢åŠ¨</li>
      <li>transcendentalï¼Œè¿™ä¸ªæ–¹æ³•ä¸æ¶‰åŠåˆ°æ¸…ç©ºæ€æƒ³ï¼Œæˆ–è€…å¯¹å‘¨é­å’Œè‡ªèº«ä¿æŒè§‰é†’ï¼Œè€Œæ˜¯é€šè¿‡å¿µè¯µæ¥è®©å¤´è„‘å¹³é™ã€‚å°±åƒåšç€ä¸€è‰˜æ½œæ°´è‰‡ç›´é€šå¤§æµ·åº•éƒ¨ï¼Œè€Œæ½œæ°´è‰‡å°±æ˜¯ mantraï¼Œä¸€æ®µæ— æ„ä¹‰çš„å£°éŸ³ã€‚</li>
    </ol>

    <p>æˆ‘å‡†å¤‡ä» transcendental meditation å¼€å§‹ï¼Œè¿™ä¹ˆ fancy çš„è¯ï¼Œå®é™…å°±æ˜¯æ˜¯å¿µç»å˜› ğŸ˜„ æˆ‘çš„ mantr:  <a href="https://www.youtube.com/watch?v=Y-knD-U7_ik&amp;t=8203s">kleem</a>ã€‚</p>
  </li>
  <li>å‘¨å…­å’Œå’ªä¸€èµ· Fifaï¼Œçœ‹äº†æˆ‘æ–‡ 2:2 é€¼å¹³çœŸè“é»‘çš„æ¯”èµ›ã€‚è€å¤©èµé¥­ï¼Œé ç€ä¸¤ä¸ªæ‰‹çƒç‚¹çƒå¼ºåŠ›æ‰³å¹³ï¼Œç®—æ˜¯ä¿ä½äº†æœ€åçš„é®ç¾å¸ƒã€‚åŠ›åæ§½ã€‚æ¬§å† ï¼Œéš¾ã€‚</li>
  <li>å‘¨æœ«å’Œä¹ğŸ¯å¼€å§‹çº¿ä¸Šçº¢åï¼Œå“ˆå“ˆå“ˆï¼Œæ¬¢ä¹åˆ°ä¸è¡Œã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w27-collage.jpg" alt="w27-collage" /></p>

<h2 id="w26-0629---0705">W26 (06/29 - 07/05)</h2>
<ul>
  <li>è¿™å‘¨åªéœ€è¦å·¥ä½œä¸¤å¤©ï¼Œäº”å¤©çš„ long long long weekendï¼Œä¸»è¦åœ¨æ”¾æ¾å’Œæ”¶æ‹¾æˆ¿å­ã€‚ç‡•å§å‘¨äºŒè¿‡æ¥ä»”ç»†çœ‹äº†ä¸€åœˆï¼Œè·Ÿæˆ‘ä»¬è¯´äº†ä¸€äº›éœ€è¦ä¿®è¡¥çš„åœ°æ–¹ï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜ï¼Œç›®æµ‹ä¸‹ä¸‹å‘¨å°±å¯ä»¥ä¸Šå¸‚ã€‚è¿™æµç¨‹èµ°çš„æœ‰ç‚¹å¿«ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æƒ³åˆ°ã€‚</li>
  <li>ä¼‘é—²æ—¶å…‰ï¼Œçœ‹äº†å‡ åœºçƒï¼ŒF1 ä»Šå¹´ç¬¬ä¸€åœºï¼Œæ‰“äº†ä¸¤æ¬¡ç½‘çƒï¼Œè¸¢äº†å¥½å¤šåœº Fifaã€‚</li>
  <li>å‘¨æœ«å’Œå–œç¦æ‰“åŒ…è¡£æœï¼Œæˆ‘ä»¬ç§‰æŒçš„åŸåˆ™æ˜¯ï¼Œè¿‡å»ä¸€å¹´æ²¡ç©¿è¿‡å°±å¯ä»¥ææ‰äº†ã€‚æœ€åæ•´ç†å‡º 40% è¦æ‰”æ‰çš„è¡£æœã€‚æœ‰ç‚¹ä¸èˆï¼Œä½†è¯¥æ˜¯æ­£ç¡®çš„å†³å®šã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w26-collage.jpg" alt="w26-collage" /></p>

<h2 id="w25-0622---0628">W25 (06/22 - 06/28)</h2>

<ul>
  <li>å‘¨ä¸€æ˜¯ç»“å©šä¸¤å‘¨å¹´çºªå¿µï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šå®‰æ’ï¼Œåªæ˜¯å»¶ç»­äº†ä¹‹å‰ç…§ç›¸çš„ä¼ ç»Ÿã€‚å»å¹´å¤šäº†èµµå››ï¼Œä»Šå¹´å¤šäº† Nikkiï¼Œæ˜å¹´å‘¢ï¼Ÿ</li>
  <li>å‘¨å››æ˜¯ Nikki ä¸­ç­è¯¾ç¨‹çš„æœ€åä¸€å¤©ï¼ŒåŒç­çº§çš„ä¸¤åªæ±ªç«Ÿç„¶éƒ½ç¿˜è¯¾äº†ï¼Œåªæœ‰æˆ‘ä»¬ã€Nikki å’Œè€å¸ˆã€‚é¡ºåˆ©æ¯•ä¸šåï¼Œè€å¸ˆçœ‹ç€å‚»å…®å…®çš„é‡ç‹—åœ¨åœ°ä¸Šæ‰“æ»šï¼Œçº¢ç€çœ¼åœˆå‘Šè¯‰æˆ‘ä»¬ï¼Œæ—¶å¸¸çœ‹ç€å®¶é‡Œä¸Šå²æ•°çš„ç‹—ç‹—ï¼Œæ€€å¿µè¿™äº›å†’ç€å‚»æ°”çš„æ—¶å€™ã€‚è®­ç»ƒæ˜¯ä¸€æ–¹é¢ï¼Œæ›´è¦äº«å—è¿‡ç¨‹ï¼ŒRelish the moment!</li>
  <li>å’Œæ±Ÿä¼Ÿå³°æ¯å‘¨æœ« Fifa20ï¼Œæ…¢æ…¢æˆäº†ä¼ ç»Ÿé¡¹ç›®ï¼Œåˆ°ç°åœ¨ä¹Ÿæœ‰ä¸€ä¸ªæœˆäº†ï¼Œèœé¸¡äº’å•„ï¼Œéå¸¸å¼€å¿ƒã€‚</li>
  <li>æ¯å¤©ç»“æŸå·¥ä½œéƒ½éå¸¸ç–²æƒ«ï¼Œè·Ÿæœ€è¿‘å¤„åœ¨å·¥ä½œçš„è¿‡æ¸¡æœŸæœ‰å…³ç³»ã€‚æ™šä¸Šç»å¸¸å’Œå–œç¦å¼€è½¦å¸¦ç€ Nikki å»å…œé£ï¼Œäº«å—ç€å‚æ™šçš„å‡‰çˆ½ï¼Œç©¿æ¢­åœ¨ç”°é‡é‡Œï¼Œæ”¾æ¾è§†é‡ï¼Œè®©è„‘å­æ…¢æ…¢åœæ­¢è¿è½¬ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w25-collage.jpg" alt="w25-collage" /></p>

<h2 id="w24-0615---0621">W24 (06/15 - 06/21)</h2>

<ul>
  <li>å…¬å¸çªç„¶å®£å¸ƒè¿™å‘¨å¼€å§‹åˆ°å…«æœˆç»“æŸæ¯å‘¨äº”éƒ½å…¨å‘˜ä¼‘å‡ï¼Œå‘¨å‘¨é•¿å‘¨æœ«ã€‚å®˜æ–¹çš„è¯´æ³•æ˜¯ï¼Œä¹Ÿè®¸ç–«æƒ…ç¼˜æ•…æˆ–è€…è¿œç¨‹å·¥ä½œï¼Œå¤§å®¶æ™®ééƒ½ä¸å¤ªè¯·å‡ï¼Œæ‰€ä»¥å¼ºåˆ¶ä¼‘æ¯è®©å¤§å®¶äº«å—å¤å¤©ä¹Ÿæ›´å¥½çš„å¹³è¡¡å·¥ä½œç”Ÿæ´»ã€‚æˆ‘æ˜¯æœ‰ç‚¹æƒŠåˆ°äº†ï¼Œè¿™æ˜¯èµ„æœ¬ä¸»ä¹‰çš„ä½œé£å—ï¼Ÿ</li>
  <li>æ—¢ç„¶æ¯å‘¨éƒ½æ˜¯é•¿å‘¨æœ«ï¼Œæƒ³ç€åº”è¯¥å­¦ç‚¹ä»€ä¹ˆğŸ¤” æƒ³èµ·ä½³æ–°å¥½ä¹…å‰é€ç»™æˆ‘ä¸€æŠŠå‰ä»–ï¼Œåˆ° Cousera ä¸Šæ‰¾äº†ä¸ªè¯¾ç¨‹ï¼Œäº†è§£äº›åŸºç¡€ä¹Ÿè·Ÿç€è€å¸ˆçæ¯”åˆ’äº†ä¸€ä¼šå„¿ï¼Œè¿™ä¸ªè¿åŠ¨ä¸ç®€å•å•Šï¼Œæ‰‹ç–¼ã€‚</li>
  <li>æ—¶éš”å°åŠå¹´ï¼Œç»ˆäºåˆçœ‹åˆ°äº†æˆ‘æ–‡çš„æ¯”èµ›ã€‚ä½ ä»¥ä¸ºä¸–ç•Œç†™ç†™æ”˜æ”˜ï¼Œéœ€è¦é‡ç°å»ºç«‹ç§©åºã€‚æˆ‘æ–‡å‘Šè¯‰ä½ ï¼Œä¸éœ€è¦ï¼è¿™ä¸ªå¤å¤©ï¼Œè¿˜æ˜¯ç†Ÿæ‚‰çš„å‘³é“ã€‚</li>
  <li>å‘¨æœ«æ˜¯ Nikki ä¸€å‘¨å²ç”Ÿæ—¥ï¼Œç»™å¥¹è¡€æ‹¼äº†ä¸€å †ç©å…·å’Œç½å¤´ï¼Œä¹Ÿä¹°äº†ä¸ªå°ç²‰ç´«è‰² tag åˆ»ä¸Šå¥¹çš„åå­—ï¼Œæˆ´ä¸Šä¹‹åç»ˆäºæœ‰äº†å¥³å­©å­æ°”ã€‚å‚»ç‹—å‘€ï¼Œæˆ‘ä»¬è¯·ä½ é—¯å…¥æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œä¸æ–­é€‚åº”ï¼Œé™ªç€ä½ é•¿å¤§ï¼Œä¹Ÿçœ‹åˆ°æˆ‘ä»¬è‡ªå·±çš„æˆé•¿ã€‚æ„Ÿè°¢æœ‰ä½ ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w24-collage.jpg" alt="w24-collage" /></p>

<h2 id="w23-0608---0614">W23 (06/08 - 06/14)</h2>

<ul>
  <li>å·¥ä½œä¸Šæ¯”è¾ƒç¨³å®šåœ°è¾“å‡ºï¼Œå‹åŠ›ä¸å¤§ã€‚æƒ³æ¥å·²ç»åœ¨ Script å¿™æ´»äº†ä¸€å¹´ï¼Œplatform åŸºæœ¬å®Œæˆï¼Œå¾ˆæœŸå¾…ä¸‹åŠå¹´å¼€å§‹åšå„ç§äº§å“ã€‚</li>
  <li>å‘¨æœ«å’Œå–œç¦ç»§ç»­å¯¹å®¶é‡Œä¿®ä¿®è¡¥è¡¥ï¼Œç„¶åå«æ±Ÿä¼Ÿå³°æ¥å®¶é‡Œ Fifa 20ã€‚</li>
  <li>æ™šä¸Šç¡ä¸ç€çš„æ—¶å€™ï¼Œæ–­æ–­ç»­ç»­è¯»å®Œäº†<a href="https://book.douban.com/subject/10482102/">è’‹å‹‹è¯´å®‹è¯</a>ã€‚ä¸Šå­¦æ—¶å€™å®Œå…¨ä¸æ‡‚å¾—æ¬£èµå…¶ä¸­çš„ç¾ï¼Œåªç•™ä¸‹ç‰‡æ®µæœºæ¢°è®°å¿†ã€‚æˆ‘å¾ˆå–œæ¬¢ä½œè€…ä»å¤§çš„å†å²èƒŒæ™¯å…¥æ‰‹ï¼Œä»‹ç»ä¸ºä»€ä¹ˆè¯—è¡°è¯ç››ï¼Œåˆ°ä¸åŒè¯äººæœ‰æ€æ ·ä¸åŒçš„é£æ ¼ã€‚å°¤å…¶åœ¨å’Œå¹³å¹´ä»£å¼€å§‹ï¼Œå¤§å®¶ä»æµªæ¼«ä¸»ä¹‰çš„å®¶å›½æƒ…æ€€é€æ­¥è½¬å‘æ›´åŠ ç§äººå’Œæƒ…ç»ªåŒ–ï¼Œå¼€å§‹å…³æ³¨ç”Ÿæ´»çš„ç¨€ç–å¹³å¸¸ã€‚æˆ‘è§‰ç€å¾ˆç¾å¥½ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w23-collage.jpg" alt="w23-collage" /></p>

<h2 id="w22-0601---0607">W22 (06/01 - 06/07)</h2>

<ul>
  <li>å¤©æ°”æ¸å¥½ï¼Œå¤šäº†å¾ˆå¤šæ•£æ­¥çš„æ—¶é—´ã€‚æœ€è¿‘å¿ƒæ€è°ƒæ•´çš„å¾ˆå¥½ï¼Œåšä»€ä¹ˆäº‹æƒ…éƒ½ä¸ç€æ€¥ï¼Œå¿ƒå®‰ç†å¾—åœ°æ²¡æœ‰ç„¦è™‘ï¼Œäº«å—æ…µæ‡’çš„å¤æ—¥æ—¶å…‰ã€‚</li>
  <li>å’Œå–œç¦çœ‹å®Œäº† Ozark ç¬¬äºŒå­£ï¼Œè¿˜æ˜¯å¾ˆå–œæ¬¢ï¼Œä»ç»å‘½æ¯’å¸ˆèµ°å‘çº¸ç‰Œå±‹ã€‚</li>
  <li>å‘¨æœ«ç»“æŸäº†ä¸ºæœŸåå‘¨çš„ Compilers è¯¾ç¨‹ï¼Œæ”¶è·ä¸»è¦æ˜¯å¸®æˆ‘è¿èµ·äº†å¾ˆå¤šé›¶æ•£çš„çŸ¥è¯†ï¼Œå¯¹ç¼–è¯‘åŸç†æœ‰äº†ä¸€å¥—ç³»ç»Ÿçš„è®¤è¯†ã€‚<a href="http://blog.ifyouseewendy.com/blog/2020/06/07/review-soe-ycscs1-compilers/">[Review] SOE-YCSCS1 Compilers</a></li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w22-collage.jpg" alt="w22-collage" /></p>

<h2 id="w21-0525---0531">W21 (05/25 - 05/31)</h2>

<ul>
  <li>è¿™ä¸¤å‘¨åœæ­¢ç©æ¸¸æˆï¼Œå¼€å§‹çœ‹ä¹¦ï¼Œç»ƒä¹ å†¥æƒ³ï¼Œå·¥ä½œå’Œç”Ÿæ´»æœ‰äº†å¾ˆå¥½çš„èµ·è‰²ã€‚ä¸çœ‹æ‰‹æœºï¼Œå‡å°‘æ‰“æ‰°ï¼Œå°½å¯èƒ½å»äº«å—å½“ä¸‹ï¼Œè®¤çœŸåšåœ¨åšçš„äº‹æƒ…ã€‚</li>
  <li>ä¸Šä¸Šå‘¨å¼€å§‹çœ‹ <a href="https://movie.douban.com/subject/26735549/">Ozark</a>ï¼Œåˆšåˆšçœ‹å®Œäº†ç¬¬ä¸€å­£ï¼Œè¶…çº§æ£’ã€‚å¤¹ç¼ä¸­æ±‚ç”Ÿå­˜ï¼Œå†…å¤–å—æ•Œï¼ŒèŠ‚å¥éå¸¸å¥½ã€‚å’Œå–œç¦æ¯å¤©æ™šä¸Šä¸€é›†ï¼Œéå¸¸äº«å—ã€‚</li>
  <li>æ¬å®¶å»æ¸©å“¥åå¼€å§‹æä¸Šæ—¥ç¨‹ã€‚è”ç³»äº†ç‡•å§ï¼Œæ˜ç¡®äº†è¦ä¸ºå–æˆ¿åšå“ªäº›å‡†å¤‡ã€‚å‘¨æœ«å¼€å§‹ï¼Œä¿®ç†åæ‰çš„çª—å¸˜æ¶ï¼Œå½»åº•æ¸…ç†åœ°æ¯¯ï¼Œæ‹”æ‰åé™¢çš„è’²å…¬è‹±ï¼Œæ¸…é™¤å‰é™¢è¢«ç‹—ç‹—å°¿è¿‡çš„æ­»è‰ã€‚æ„Ÿè°¢æœ‰ä½ ï¼ŒNikki ğŸ˜¦</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w21-collage.jpg" alt="w21-collage" /></p>

<h2 id="w20-0518---0524">W20 (05/18 - 05/24)</h2>

<ul>
  <li>è¿›å…¥å¤å¤©ï¼Œé˜³å…‰æ˜åªšï¼ŒNikki æ¯å¤©éƒ½å’Œèµµå››å‡ºé—¨ç–¯è·‘ï¼Œç„¶åå›æ¥èººåœ¨åœ°æ¿ä¸Šå¤§å£°å–˜æ°”ï¼Œå¾—æ„åœ°ç¬‘ã€‚</li>
  <li>å‘¨å››å¸¦ Nikki å»ä¸Š Level II çš„è¯¾ç¨‹ã€‚è€å¸ˆè¿˜æ˜¯å¾ˆè´Ÿè´£çš„ï¼Œæˆ·å¤–è¿›è¡Œï¼Œä¸€ä¸ªç­çº§ä¹Ÿä¸‰åªğŸ¶ã€‚Nikki è¿˜æ˜¯é‚£ä¸ª crazy girlï¼Œè§åˆ°äº†ä¸–ç•Œå°±å……æ»¡å¥½å¥‡ï¼Œå¯¹ä¸»äººçˆ±ç­”ä¸ç†ã€‚</li>
  <li>å®‰çœè¿›å…¥ç¬¬ä¸€é˜¶æ®µçš„ç–«æƒ…æ¢å¤ï¼Œå‘¨äº”å‡ºé—¨å’Œ David æ‰“äº†ä¸€æ¬¡ç½‘çƒï¼Œä¹…è¿çš„è‡ªç”±å•Šã€‚</li>
  <li>è¿™å‘¨çœ‹å®Œäº† <a href="https://movie.douban.com/subject/30223100/">The Last Dance</a>ï¼Œå¸®ä¸»çš„æ´¾å¤´è¿˜æœ‰é‚£ä¹ˆå¤šèƒŒåçš„æ•…äº‹éƒ½å¾ˆå¸å¼•æˆ‘ã€‚è‡ªå·±çš„å·…å³°è‡ªå·±ä¸‹ï¼ŒGOATã€‚Amy å¥½ä¹…å‰æ¨èåŒé›ªæ¶›è¿™ä¸ªä½œå®¶ï¼Œè¿™å‘¨çœ‹äº†ä»–çš„ä¸­ç¯‡å°è¯´é›†ï¼Œ<a href="https://book.douban.com/subject/26803179/">å¹³åŸä¸Šçš„æ‘©è¥¿</a>ã€‚ä½œè€…æ˜¯ä¸ªæ²ˆé˜³äººï¼Œä¸æˆ‘å¹´é¾„ç›¸ä»¿ï¼Œæ•…äº‹é‡Œé‚£äº›äººç‰©å’Œæ•…äº‹ï¼Œå¸¦ç»™æˆ‘å¾ˆå¤šå„¿æ—¶å›å¿†ã€‚ä¸œåŒ—æ–‡å­¦ï¼Œä»æ¥ä¸ä¼šåœ¨é˜³å…‰æ˜åªšã€‚ä¾ ä¹‰æ˜¯äººä»¬å¿ƒä¸­çš„æ ‡æ†ï¼Œæ™ºæ…§æ•£å‘å¸‚äº•çš„æ°”æ¯ã€‚äººä»¬éƒ½è¿‡åº¦å¼ æ‰¬ç€ï¼Œäººä»¬éƒ½è¿‡åº¦éšå¿ç€ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w20-collage.jpg" alt="w20-collage" /></p>

<h2 id="w19-0511---0517">W19 (05/11 - 05/17)</h2>

<ul>
  <li>è°ƒæ•´äº†åº”å¯¹ WFH çš„å¿ƒæ€ï¼Œè¿™å‘¨åšäº†äº›æ”¹å˜ï¼šå»è·‘äº†ä¸€æ¬¡æ­¥ï¼Œæµ‘èº«é…¸ç–¼ï¼›ä¸æ‰“æ¸¸æˆï¼›çœ‹ä¹¦ã€‚å¤šå¤šå°‘å°‘èµ·äº†äº›ä½œç”¨ï¼Œå¿ƒæƒ…ä¸Šä¸ä¼šå¾ˆæµ®èºï¼Œå¹³é™å¾ˆå¤šã€‚å‘¨äº”å…¬å¸å¼ºåˆ¶ä¼‘æ¯ï¼ŒåŠ ä¸Šå‘¨ä¸€çš„ Victoria Dayï¼Œå‘¨æœ«æœ‰äº†ä¸ªå››å¤©çš„å°é•¿å‡ã€‚è‡ªå·±è®¾å®šçš„åŸºè°ƒæ˜¯ï¼šdonâ€™t check the time. å–æ¶ˆé—¹é“ƒï¼Œå¹³æ—¶ä¹Ÿä¸çœ‹æ‰‹æœºï¼Œåªæ˜¯éšå¿ƒåšæƒ³åšçš„äº‹æƒ…ï¼Œå¾ˆäº«å—ã€‚</li>
  <li>æœºç¼˜å·§åˆè®¤è¯†äº† jaslï¼Œå‘ç°å¤§å®¶è¿™å‡ å¹´éƒ½åœ¨ä¸“æ³¨ç±»ä¼¼çš„é¢†åŸŸï¼Œåšäº†ç®€å•çš„æ²Ÿé€šï¼Œå­¦åˆ°å¾ˆå¤šä¸œè¥¿ã€‚</li>
  <li>å‘¨æœ«è€ç€æ€§å­å­¦ä¹ äº†ç‰›è‚‰èŠ¹èœé¦…é¥¼ï¼Œç„¶åå’Œå–œç¦ä¸€èµ·å¼„äº† BBQ çƒ¤ç¾Šæ’å’Œç‰›è‚‰ä¸²ã€‚ä¸“æ³¨åœ¨ä¸€ä»¶äº‹æƒ…çš„æ„Ÿå—æ˜¯å½“æ—¶ä¸çŸ¥è§‰ï¼Œä½†äº‹åå¾ˆç¾å¥½ã€‚</li>
  <li>é•¿å‘¨æœ«è¯»å®Œäº†<a href="https://book.douban.com/subject/25742211/">ä¸Šå¸æ·éª°å­å—</a>ã€‚ä½œè€…çš„æ–‡ç¬”éå¸¸äº†å¾—ï¼ŒæŠŠé‡å­è®ºçš„å‘å±•å²å†™çš„è·Ÿå°è¯´ä¸€èˆ¬ã€‚æˆ‘å¯¹æ­¤ä»…å­˜çš„å°è±¡è¿˜åœç•™åœ¨åˆä¸­è¯¾æœ¬å…‰çš„æ³¢ç²’äºŒè±¡æ€§ï¼Œä½†å°±è¿™ç®€ç®€å•å•äº”ä¸ªå­—ç«Ÿç„¶èŠ±è´¹äº†æœ€é¡¶å°–çš„å¤´è„‘å‡ ç™¾å¹´çš„æ—¶é—´ï¼Œè€Œä¸”è¿˜è‡³ä»Šæ²¡æœ‰å®Œå…¨å®šè®ºï¼Œå¹æœã€‚</li>
  <li>å¯¹äº†ï¼Œè¿™å‘¨ä¸€åˆä¸‹é›ªäº†ï¼Œwinter is always coming</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w19-collage.jpg" alt="w19-collage" /></p>

<h2 id="w18-0504---0510">W18 (05/04 - 05/10)</h2>

<ul>
  <li>å·¥ä½œè¿›å±•ä¸å¤šï¼Œæ¯å¤©ä¸‹åˆéƒ½å¾ˆå¿«æ— å¿ƒå·¥ä½œã€‚æœ‰ä¸¤å¤©å¹²è„†æ”¾å¼ƒæŠµæŠ—ï¼Œè·‘å»çœ‹äº†ä¸¤ä¸ªç”µå½±ã€‚è™½ç„¶ä¼šæƒ³åŠæ³•æŠŠæ—¶é—´è¡¥å›æ¥ï¼Œä½†æ˜¯è¿™ç§å¸¦è´Ÿç½ªæ„Ÿçš„å·¥ä½œï¼Œè®©äººäº«å—ä¸æ¥ã€‚å‘¨ä¸­å’Œ Manager èŠå¤©ï¼Œæˆ‘çªç„¶æ„è¯†åˆ°æ˜¯è‡ªå·±çš„å¿ƒæ€å‡ºäº†é—®é¢˜ï¼Œä¸èƒ½è€æƒ³ç€â€œç­‰ç–«æƒ…ç»“æŸå°±å¥½äº†â€ï¼Œåè€Œåº”è¯¥æ¥å—è¿™å°±æ˜¯ç°å®ï¼Œç„¶åæ‰èƒ½æƒ³åŠæ³•åº”å¯¹ã€‚ä¸ç®¡æ˜¯ä¸‹ä¸ªæœˆè¿˜æ˜¯ä¸‹å‘¨å°±ç»“æŸï¼Œæ¯å¤©éƒ½æ˜¯è‡ªå·±çš„ï¼Œæˆ‘è¦åšäº›æ”¹å˜ã€‚</li>
  <li>å‘¨äºŒæ˜¯å–œç¦çš„ä¸‰åå‘¨å²ç”Ÿæ—¥ã€‚ä»Šå¹´å¥¹å¥½åƒæ²‰ç¨³äº†å¾ˆå¤šï¼Œä¹Ÿè®¸æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å“åˆ°äº†å¥¹ â€‹ğŸ˜ƒâ€‹ï¼Œæ€»ä¹‹å¥¹åªæƒ³å¹³æ·¡é¢å¯¹ã€‚æˆ‘åšäº†äº›ä¸å¤Ÿæ‹¿æ‰‹çš„é¥­èœï¼Œé€äº†å¥¹æƒ³è¦çš„ airpodsï¼Œåº¦è¿‡äº†ç®€å•çš„ä¸€å¤©ã€‚</li>
  <li>æ¬å®¶å»æ¸©å“¥åå¼€å§‹æä¸Šäº†æ—¥ç¨‹ã€‚åˆ°çœŸæ­£è¡ŒåŠ¨è¿˜æœ‰è·ç¦»ï¼Œèµ·ç ç–«æƒ…æ‘†åœ¨çœ¼å‰ã€‚ä½†æ˜¯è¦å‡†å¤‡çš„ä¸œè¥¿æ‚ä¸ƒæ‚å…«ï¼Œå’Œå–œç¦å¼€å§‹è®¨è®ºèµ·æ¥ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w18-collage.jpg" alt="w18-collage" /></p>

<h2 id="w17-0427--0503">W17 (04/27 / 05/03)</h2>

<ul>
  <li>ç»§ç»­å¤„åœ¨ WFH çš„ç–²æƒ«ä¸­ï¼Œä¸çŸ¥é“æ€ä¹ˆè°ƒæ•´çŠ¶æ€æ”¾æ¾å¿ƒæƒ…ã€‚æ¯å¤©éƒ½æ˜¯é‡å¤ä¸å˜çš„æ—¥å­ï¼Œå¼€å§‹æ—¶å€™æˆ‘è¿˜å¾ˆäº«å—ï¼Œç°åœ¨å¾ˆæ˜æ˜¾éœ€è¦ä¸€ä¸ª long breakã€‚èº«ä½“ä¸Šå¼€å§‹æœ‰ååº”ï¼ŒèƒŒéƒ¨æ—¶å¸¸éšéšä½œç—›ï¼Œå¿ƒç†ä¸Šä¹Ÿå¾ˆæ…µæ‡’ï¼Œåªæœ‰ä¸Šåˆèƒ½ä¿æŒç§¯æçš„çŠ¶æ€ã€‚å‘¨æœ«å’Œå–œç¦ä¸€èµ·è¯´èµ°å°±èµ°ï¼Œåœ°å›¾ä¸Šæ‰¾äº†ä¸ªé è¿‘ä¼‘ä¼¦æ¹–è¾¹çš„å°é•‡ Bayfieldã€‚å¼€äº†ä¸¤ä¸ªå°æ—¶åˆ°åœ°æ–¹ï¼Œä¸‹å»çœ‹äº†ååˆ†é’Ÿæ™¯è‰²ï¼Œç„¶åè¿”ç¨‹ã€‚ç‰¹æ®Šæ—¶æœŸçš„æ—…é€”ã€‚</li>
  <li>è¿™å‘¨çš„æœ€å¤§çš„æ²‰è¿·æ˜¯ <a href="https://movie.douban.com/subject/34971810/">Tiger King</a>ï¼Œçœ‹äº†ä¸€åŠæ—¶å€™æˆ‘è¿˜ä¸çŸ¥é“åˆ°åº•åœ¨è®²ä»€ä¹ˆï¼Œå„è‰²çŒå¥‡çš„å…ƒç´ ï¼Œé›¨éœ²å‡æ²¾ã€‚å¾ˆç²—æ—·å¾ˆå¸‚äº•æ–‡å­¦ï¼Œæœ€ç¥çš„æ˜¯è¿™æ˜¯ä¸ªçºªå½•ç‰‡ã€‚æˆ‘æ´»çš„è¶Šä¹…ï¼Œè¶Šè§‰ç€æ²¡è§è¿‡ä¸–é¢ï¼Œä¹Ÿå……æ»¡ç–‘é—®ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w17-collage.jpg" alt="w17-collage" /></p>

<h2 id="w160420---0426">W16(04/20 - 04/26)</h2>

<ul>
  <li>è¿™å‘¨å¾ˆæ˜æ˜¾çš„æ„Ÿå—åˆ°äº†ç²¾ç¥ä¸Šçš„ç–²æƒ«ï¼Œåªæœ‰æ¯å¤©æ—©ä¸Šç²¾åŠ›å……æ²›ï¼Œä¸‹åˆå°±æ€¥è½¬ç›´ä¸‹æ…¢æ…¢å¤±å»è€å¿ƒã€‚åªèƒ½è¯´ç•¥æ˜¾ä¾¿ç§˜åœ°è§£å†³äº†å·¥ä½œä¸Šä¸¤ä¸ªå°éš¾é¢˜ã€‚</li>
  <li>å…¥èŒä¸‰å¹´å¤šï¼Œè¿æ¥äº†æ¢ç”µè„‘çš„æœºä¼šï¼Œi7 6core 32Gï¼Œå‘¨äºŒæ”¶åˆ°å°±è¿«ä¸åŠå¾…åœ°æŠŠå·¥ä½œç«™éƒ¨ç½²äº†è¿‡å»ï¼Œéå¸¸é¡ºç•…ã€‚</li>
  <li>è¿™å‘¨æ²¡æœ‰æ²‰è¿·æ¸¸æˆï¼Œè¿˜å‰©ä¸‹10%ï¼Œæ…¢æ…¢ç©è€äº«å—å°±å¥½ã€‚</li>
  <li>å‘¨æœ«è¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆæ”¾æ¾ç²¾ç¥ï¼Œè¿™æˆäº†ç°åœ¨çš„ä¸»è¦éš¾é¢˜ã€‚æ¯æ¯åœ¨å®¶éƒ½ä¸æ„¿å‡ºå±‹ï¼Œä½†æ˜¯æ¯æ¬¡å‡ºé—¨éƒ½æ„Ÿè§‰è‰¯å¥½ã€‚æœ€ç»ˆæˆ‘é€‰æ‹©äº†æ²¡æœ‰å‹åŠ›åœ°å­¦ä¹ ï¼Œäº«å—å•çº¯çš„å…´è¶£å¾—åˆ°æ»¡è¶³ã€‚ä½†æ˜¯æ§åˆ¶ä¸å¥½åº¦ï¼Œè¿˜æ˜¯ä¼šæ„Ÿåˆ°ç²¾ç¥ä¸Šçš„ç–²æƒ«ã€‚Hmï¼Œä¹Ÿè®¸æˆ‘åªæ˜¯åº”è¯¥æ¥å—è¿™ç§çŠ¶æ€ï¼Œä¸ºä»€ä¹ˆä¸€å®šè¦è°ƒæ•´æ‰å¥½å‘¢ï¼Ÿ</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w16-collage.jpg" alt="w16-collage" /></p>

<h2 id="w15-0413---0419">W15 (04/13 - 04/19)</h2>

<ul>
  <li>é•¿å‘¨æœ«æ‰“äº†å¤ªå¤šæ¸¸æˆï¼Œå›åˆ°å·¥ä½œä¸­æ²¡æ³•é™ä¸‹å¿ƒæ¥ï¼Œå°¤å…¶è¿˜é‡åˆ°ä¸€ä¸ªç‰¹åˆ«éš¾æçš„é—®é¢˜ï¼Œæ¯å¤©éƒ½ä¸åœ¨çŠ¶æ€ :pensive:</li>
  <li>è¿™å‘¨å°è¯•äº†é”…åŒ…è‚‰ï¼Œéå¸¸æˆåŠŸåœ°è¿˜åŸäº†å®¶é‡Œçš„å‘³é“ï¼Œä½†æ˜¯è·ç¦»é¥­åº—æ°´å‡†ï¼Œè¿˜æœ‰ä¸€å®šè·ç¦»ã€‚</li>
  <li>Hollow Knight ç»ˆäºè§åˆ°äº†å¤§ bossï¼Œä¸ç€æ€¥è§£å†³å®ƒã€‚ç°åœ¨å®Œæˆåº¦ 82%ï¼ŒåŸºæœ¬ä¸Šåˆ°äº†å„ç§æ‰“æ€ªå’Œå„ç§éšœç¢è·³æ¥è·³å»çš„è¿‡ç¨‹ï¼Œç©çš„æ‰‹ç–¼ã€‚çœŸçš„è¦æ­‡ä¸€æ­‡äº†ã€‚</li>
  <li>å‘¨æœ«çš„ç”µå½±é€‰äº† <a href="https://movie.douban.com/subject/26952704/">The Ballad of Buster Scruggs</a>ã€‚ç§‘æ©å…„å¼Ÿçš„è§†è§’æ€»æ˜¯è®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œæ¯ä¸ªæ•…äº‹éƒ½å¾ˆæœ‰æ„æ€å€¼å¾—ç¢ç£¨ï¼Œä¸€ä»¥è´¯ä¹‹çš„ä¸»é¢˜åº”äº†è€å­é‚£å¥ï¼šå¤©åœ°ä¸ä»ï¼Œä»¥ä¸‡ç‰©ä¸ºåˆç‹—ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w15-collage.jpg" alt="w15-collage" /></p>

<h2 id="w14-0406---0412">W14 (04/06 - 04/12)</h2>

<ul>
  <li>è¿™å‘¨çœ‹äº†å¥½å‡ éƒ¨ç”µå½±ã€‚æ¯å¤©åƒé¥­ä¸€èµ·çœ‹ä¼šå„¿è¯·å›ç­”1988ï¼Œçœ‹äº†ä¸€ä¸ªæœˆç»ˆäºçœ‹å®Œäº†ã€‚è¿™è‚¡æš–æµè¿˜æ²¡è®©æˆ‘æ„Ÿåˆ°ä¸é€‚ï¼Œæ¯” This is us å¼ºå¾ˆå¤šã€‚å‘¨æœ«çœ‹äº†é‡‘ç¦å—æ€äººäº‹ä»¶å’Œæ‘„å½±æœºä¸è¦åœï¼Œéƒ½å¾ˆå¥½çœ‹ã€‚</li>
  <li>å–œç¦çš„ç‚’ä¹Œå†¬å‰å®³äº†ï¼ŒæŠŠä¸€ä¸ªæˆ‘ä¸å–œæ¬¢åƒçš„ä¸œè¥¿åšæˆåƒä¸å¤Ÿï¼Œè¿˜è¦è¿åƒä¸¤å¤©ï¼Œç‚¹åè¡¨æ‰¬ã€‚</li>
  <li>å­æ€¡ç»™æˆ‘ä»¬å‘äº†å¼ Bè¶…å›¾ï¼Œå¥½ç¥å¥‡ï¼Œéå¸¸æœŸå¾…å‘€ã€‚</li>
  <li>é•¿å‘¨æœ«ä¸€ç›´åœ¨ç© Hollow Knightï¼Œæœ¬æ¥ä»¥ä¸ºå°±å¿«æ‰“å®Œäº†ï¼Œä½†æ˜¯å‘ç°å‘µå‘µï¼Œæ‰åˆšä¸Šè·¯ã€‚æœ‰ç‚¹æ²‰è¿·äº†ï¼Œè‡ªå·±è¦é‡åŠ›è€Œè¡Œï¼Œä¸ç„¶æ²¡æœ‰åœ¨äº«å—è¿™ä¸ªè¿‡ç¨‹ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w14-collage.jpg" alt="w14-collage" /></p>

<h2 id="w13-0330---0405">W13 (03/30 - 04/05)</h2>

<ul>
  <li>WFH ç¬¬ä¸‰å‘¨ï¼Œå·¥ä½œè¿›å±•å¾ˆå¤šï¼ŒèŠ±äº†ä¸¤å¤©æ—¶é—´å®Œæˆäº†ä¸€ä¸ªå¾ˆå¤§çš„ milestoneï¼Œè¶…çº§æœ‰æˆå°±æ„Ÿã€‚è¿™å‡ ä¸ªæœˆä¸€ç›´åœ¨ç§¯ç´¯å’Œå­¦ä¹ çš„ Rust + WebAssembly ç»ˆäºåˆ°äº† inflection pointï¼Œè¿™ä¸ªæ„Ÿè§‰å¤ªç¾å¦™ã€‚</li>
  <li>æ˜¥å¤©æ¥äº†ï¼Œé˜³å…‰ä¹Ÿæ˜åªšäº†å¾ˆå¤šï¼Œå’Œå–œç¦æ¯å¤©å›ºå®šå‡ºé—¨æ•£æ­¥ï¼Œå¸å‡ å£ç©ºæ°”ä¹Ÿæˆäº†äº«å—ã€‚</li>
  <li>é—²æš‡æ—¶é—´ç©äº†å¾ˆå¤š Hollow Knightï¼Œå¯èƒ½ç©è¿‡äº†ä¸€åŠäº†å§ï¼Œå¾ˆè½»æ¾æ²»æ„ˆã€‚</li>
  <li>ä¸Šä¸ªæœˆæŠ¥åäº†ä¸€ä¸ªçº¿ä¸Šè¯¾ç¨‹ï¼ŒStandford <a href="https://courses.edx.org/courses/course-v1:StanfordOnline+SOE.YCSCS1+1T2020/course/">Compilers</a>ã€‚å‘¨æœ«è·Ÿç€ä¸Šå®Œäº†ç¬¬ä¸€å‘¨çš„è¯¾ç¨‹ï¼Œå¾ˆæœ‰è¶£ï¼Œå¸Œæœ›è‡ªå·±èƒ½åšæŒè·Ÿä¸‹å»ã€‚</li>
  <li>å‘¨æœ«æ‹½ç€å–œç¦çœ‹äº†æƒ³çœ‹å¥½ä¹…çš„ Stalkerï¼Œé‚£å¼ è‘—åçš„æµ·æŠ¥ä»¥åŠå¡”ç§‘å¤«æ–¯åŸºçš„å¤§åå¯¹æˆ‘å¾ˆæœ‰å¸å¼•åŠ›ï¼Œä½†æ˜¯å¼€å§‹çœ‹æ‰å‘ç°ï¼Œç¼“æ…¢è¯—æ„çš„é•œå¤´ç”¨å¦ä¸€ç§æ–¹å¼æ¥å½¢å®¹æ˜¯çŒç¡è¿è¿ï¼Œå’Œå–œç¦ä»å¤´åˆ°å°¾æ‡µé€¼è„¸ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w13-collage.jpg" alt="w13-collage" /></p>

<h2 id="w12-0323---0329">W12 (03/23 - 03/29)</h2>

<ul>
  <li>Two weeks WFH now. I kinda over work and mess up the boundary between life and
work, but I enjoyed it so far. Iâ€™m connecting the dots on my learning over Rust
and WebAssembly. Itâ€™s really fun.</li>
  <li>æš‚æ—¶åœ¨å®¶çš„å¨±ä¹æ–¹å¼æ˜¯ï¼Œæ‰“æ¸¸æˆ :smile: ä¸Šå‘¨å’ŒåŒäº‹ä¸­åˆæ‰“ CS:GOï¼Œè¿™å‘¨äºå¤©èˆªæ¨èç© Hollow Knightï¼Œå‘¨æœ«åˆå’Œæœ‹å‹ä¸€èµ·çº¿ä¸Š Mario Kartã€‚</li>
  <li>è¿™å‘¨çœ‹äº† <a href="https://movie.douban.com/subject/3718778/">Senna</a> å’Œ <a href="https://movie.douban.com/subject/26794701/">Hotel Mumbai</a>ï¼Œéƒ½å¾ˆä¸é”™ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w12-collage.jpg" alt="w12-collage" /></p>

<h2 id="w11-0316---0322">W11 (03/16 - 03/22)</h2>

<ul>
  <li>ç–«æƒ…å½±å“ä¸‹ç¬¬ä¸€å‘¨å®Œæ•´çš„WFHï¼Œæœ‰ç‚¹å·¥ä½œè¿‡åº¦ï¼Œä½†æ˜¯æ¨è¿›äº†ä¸å°‘å·¥ä½œã€‚åšäº†ä¸€ä¸ª WebAssembly runtime çš„ benchmark: <a href="https://github.com/ifyouseewendy/wasm-runtime-benchmark"> wasm-runtime-benchmark</a>ï¼Œè¯»å®Œäº†<a href="https://rust-lang.github.io/async-book/01_getting_started/01_chapter.html">Asynchronous Programming in Rust</a>ï¼Œå¾ˆäº«å—åœ¨å®¶è‡ªç”±å®‰é™çš„æ—¶å…‰ã€‚</li>
  <li>æ¯å¤©å›ºå®šå‡ºé—¨é›ç‹—ï¼Œå‘¼å¸æ–°é²œç©ºæ°”ã€‚ä¸‹åˆå’Œå–œç¦ä¹Ÿå°½å¯èƒ½å‡ºé—¨æ•£æ­¥ã€‚è¿˜å¥½è·¯ä¸Šå‡ ä¹è§ä¸åˆ°äººï¼Œæ²¡æœ‰å¤ªå¤šæ‹…å¿ƒã€‚</li>
  <li>è¿™å‘¨è·Ÿèµ›èŠäº†ä¸¤æ¬¡å¤©ï¼Œä¸ºä»–è¿™è‚¡ä¸§åŠ²éš¾è¿‡ã€‚å¥½åƒæœ€è¿‘çš„è‚¡å¸‚ä¸€æ ·ï¼Œä½ ä»¥ä¸ºåˆ°äº†è°·åº•ï¼Œå…¶å®è¿˜æ²¡æœ‰ã€‚å¸®ä¸äº†å¤ªå¤šï¼Œåªèƒ½å¸Œæœ›ä»–çœ‹åˆ°ç§¯æçš„ä¸€é¢ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w11-collage.jpg" alt="w11-collage" /></p>

<h2 id="w10-0309---0315">W10 (03/09 - 03/15)</h2>

<ul>
  <li>Iâ€™ve been working on a benchmark project for WebAssembly runtimes this week: <a href="https://github.com/ifyouseewendy/wasm-runtime-benchmark">wasm-runtime-benchmark</a></li>
  <li>å‘¨ä¸€è¿«ä¸åŠå¾…åœ°çœ‹å®Œäº†<a href="https://movie.douban.com/subject/34678530/">Drive to Survive 2</a>ï¼Œæ²¡æœ‰è®©æˆ‘å¤±æœ›ã€‚Red Bull æ¢è½¦æ‰‹é£æ³¢å’Œå·´è¥¿ç«™å®Œç¾ç»“åˆåœ¨äº†ä¸€èµ·ï¼Œè®©æˆ‘æœ‰äº†å¦ä¸€ä¸ªè§†è§’çš„è®¤è¯†ã€‚åŸºæœ¬ä¸Š Gasly çš„æŒ£æ‰æ˜¯æˆ‘å–œæ¬¢è¿™ä¸ªçºªå½•ç‰‡çš„å®Œç¾ä½“ç°ï¼šè¿™ä¸ªä¸–ç•Œè¿‡äºå…³æ³¨äººä»¬æ€æ ·ä»ç¬¬åèµ°åˆ°ç¬¬ä¸€ï¼Œä½†ç°å®ä¸­çš„æŒ£æ‰å‘ç”Ÿåœ¨æ¯ä¸€æ­¥ï¼Œä»ç¬¬åäº”åˆ°ç¬¬åä¸‰æ˜¯åŒæ ·å·¨å¤§çš„è¿›æ­¥ã€‚æ–°çš„èµ›å­£éå¸¸æœŸå¾… Lec, Albon å’Œ Gas çš„è¡¨ç°ã€‚ï¼ˆç–«æƒ…å½±å“ï¼Œç¬¬ä¸€ç«™æ¾³å¤§åˆ©äºšè¢«å–æ¶ˆäº†ï¼‰</li>
  <li>å‘¨ä¸‰èµ¶ä¸Šäº†ç–«æƒ…ä¾µè¢­å‰æœ€åä¸€åœºæ¬§å† ï¼Œé©¬ç«åŠ æ—¶3:1åˆ©ç‰©æµ¦ï¼Œåˆºæ¿€ï¼</li>
  <li>å‘¨å››å¼€å§‹å…¬å¸è¦æ±‚åœ¨å®¶åŠå…¬ï¼Œå½¢åŠ¿è¶Šæ¥è¶Šä¸¥å³»äº†ã€‚å…¬å¸ç»™äº†1kçš„é¢„ç®—è®©å¤§å®¶å¸ƒç½®åœ¨å®¶åŠå…¬çš„ç¯å¢ƒï¼Œæœ¬æ¥å°±è¿œç¨‹çš„å‘˜å·¥ä¹ŸåŒæ ·äº«å—ã€‚å¥½å¤šæ¬¡äº†ï¼Œè®©æˆ‘å¯¹è¿™å®¶å…¬å¸æœ‰è¶Šæ¥è¶Šå¤šçš„è®¤åŒã€‚</li>
  <li>å…³äºç–«æƒ…ï¼Œæœ¬æ¥å’Œå–œç¦éƒ½æ˜¯æŠ±ç€æ— ç•çš„å¿ƒæ€ï¼Œæ¯•ç«Ÿæˆ‘ä»¬è¿™ä¸ªå¹´é¾„æ®µçš„æ­»äº¡ç‡éå¸¸ä½ï¼Œè€å¹´äººæ›´å—é’ˆå¯¹ã€‚ç›´åˆ°æˆ‘æ„è¯†åˆ°ï¼Œå¦‚æœæˆ‘ä¸å¤Ÿæ³¨æ„æœ€ç»ˆå¾—ç—…ï¼Œå³ä½¿æ²»æ„ˆä¹Ÿå¾ˆæœ‰å¯èƒ½ä½œä¸ºæ„ŸæŸ“æºé—´æ¥å¯¼è‡´å…¶ä»–äººï¼ˆå°¤å…¶è€å¹´äººï¼‰å¾—ç—…ï¼Œé‚£æˆ‘ä¹Ÿæ˜¯æœ‰è´£ä»»çš„ã€‚æ‰€ä»¥å¤§å®¶äº’ç›¸è´Ÿè´£ï¼Œè°¨æ…ä¸ºå¥½ã€‚</li>
  <li>è¿™å‘¨è‚¡å¸‚æš´è·Œï¼Œåˆ›é€ å†å²çš„ä¸¤æ¬¡ç†”æ–­ã€‚è™½ç„¶æˆ‘çš„ portofolio æ— æ³•å¹¸å…ï¼Œä½†æ˜¯æ€»æœ‰ç§è·ƒè·ƒæ¬²è¯•çš„æœŸå¾…ã€‚å‘¨æœ«ä¹°äº†å‡ æœ¬ä¹¦ï¼Œå…³äºä¹‹å‰å‘ç”Ÿçš„é‡‘èå±æœºï¼Œé¡ºç€å…´è¶£å»è¯»å°±å¥½ã€‚æœ€ç»ˆå¹¶ä¸ä¸€å®šéè¦æ€å…¥åœºå†…å§ï¼Œä½†æ˜¯å¸Œæœ›è¶ç€è¿™ä¸ªæœºä¼šå¤šå¯¹ç»æµæœ‰äº›äº†è§£ã€‚</li>
  <li>å‘¨æœ«å’Œå–œç¦çœ‹äº†<a href="https://movie.douban.com/subject/1305530/">æ”¶ä»¶äººæœªè¯¦</a>ã€‚çŸ¥é“é‡‘åŸºå¾·å¤§åè¿™ä¹ˆä¹…ï¼Œæ‰å‘ç°æ˜¯çœ‹çš„ç¬¬ä¸€éƒ¨ã€‚æœç„¶æœ‰ç§ç”ŸçŒ›åœ¨é‡Œè¾¹ã€‚äººçš„æ¬²æœ›ï¼Œæ°¤æ°²çš„æ°”æ°›ï¼Œç‰¹æ®Šçš„å¹´ä»£ã€‚æ¯ä¸ªäººéƒ½å¦‚æ­¤çš„ä¸åˆç†ï¼Œæ˜¯æ—¶ä»£ç»™äº†ä¸–ç•Œè’å”çš„ç†ç”±ã€‚æˆ‘å¾ˆå–œæ¬¢ã€‚</li>
  <li>å†¬å¤©è²Œä¼¼å°±è¿™ä¹ˆç»“æŸäº†ï¼Œæˆ‘ä»¬æ˜¯æ€ä¹ˆçŸ¥é“çš„å‘¢ :thinking:</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w10-collage.jpg" alt="w10-collage" /></p>

<h2 id="w9-0302---0308">W9 (03/02 - 03/08)</h2>

<ul>
  <li>è¿™å‘¨åœ¨åš WebAssembly runtime benchmarkï¼Œè¾¹çœ‹è¾¹å­¦ï¼Œæçš„å¾ˆèµ·åŠ²ã€‚</li>
  <li>EST è½¬ EDTï¼Œæ—¶é—´è¢«å·èµ°ä¸€å°æ—¶ï¼Œå¦å¤–å‘¨ä¸‰æ™šä¸Šçš„ amber alert å®Œå…¨æ‰“ä¹±äº†æˆ‘çš„ç¡çœ ã€‚</li>
  <li>å‘¨æœ«æˆ‘æ–‡è”èµ› 2:0 æˆ˜èƒœå›½ç±³ï¼Œè™½ç„¶å¿ƒé‡Œæš—å¿–è¾“çƒå¯ä»¥çœ‹è¨é‡Œä¸‹è¯¾ï¼Œä½†æ˜¯è¿™ä¸‹åŠåœºåº”è¯¥æ˜¯æˆ‘æœ¬èµ›å­£çœ‹çš„æœ€å¥½çœ‹çš„åŠåœºäº†ã€‚ä½†æ˜¯æˆ‘åˆä¸æ•¢ç›¸ä¿¡è¿™çŠ¶æ€å¯ä»¥é•¿ä¹…ä¿æŒï¼Œå› ä¸ºå¤¸å¾·æ‹‰å¤šéƒ½çˆ†è¡¨äº†ã€‚è¿˜æ˜¯è¦å†·é™ï¼Œé™ä½é¢„æœŸã€‚</li>
  <li>å‘¨æ—¥å’Œå¤§å®‡å“¥èŠäº†å¥½ä¹…ã€‚ç”Ÿæ´»å¾ˆç¾å¥½ï¼Œä¹Ÿå„æœ‰çƒ¦æ¼ã€‚ä¸€å¹´æ²¡è§ï¼Œå¾ˆæƒ³å¿µå›½å†…çš„å¥½æœ‹å‹ä»¬ã€‚ä»Šå¹´åº”è¯¥æ‰¾æ—¶é—´å›å»å¼€å¿ƒç©è€ã€‚</li>
  <li>å–œç¦çš„ Vlog æœ€è¿‘åšçš„é£èµ·ï¼Œä¸€åªâ€œèµµå››çš„å†¬å­£æ‹æ­Œâ€é€ç»™å¤§å®¶</li>
</ul>

<iframe width="560" height="315" src="//player.bilibili.com/player.html?aid=94335334&amp;cid=161048693&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<p><a href="https://www.youtube.com/watch?v=jkrWaiW9o1w">Youtube</a></p>

<h2 id="w8-0224---0301">W8 (02/24 - 03/01)</h2>

<ul>
  <li>æœ€è¿‘çš„å·¥ä½œå‹åŠ›å¾ˆå¤§ï¼Œè¦è·Ÿè¿›çš„è¦å­¦ä¹ çš„ä¸œè¥¿å¾ˆå¤šï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½ç†¬åˆ°ä¸€ä¸ªèƒ½å–˜æ¯çš„é˜¶æ®µã€‚æœ¬æ¥ä¸‹ä¸ªæœˆè¦å»ä¼¦æ•¦å¼€ä¼šï¼Œä¸Šå‘¨åˆšåˆšåŠäº†ç­¾è¯ï¼Œ ä½†æ˜¯æœ€è¿‘ç–«æƒ…è‚†è™ï¼Œæ‰€æœ‰å‡ºè¡Œéƒ½è¢«å…¬å¸å–æ¶ˆäº†ã€‚å¥½æ¶ˆæ¯æ˜¯è½å®äº†æ¶¨è–ªï¼Œæ–°æ‹¿åˆ°äº†ä¸€äº›è‚¡ç¥¨ã€‚</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†ä¸²ä¸²é©¬è·¯è¾¹è¾¹ï¼Œè‡ªä»å¼€å§‹åœ¨å®¶ç ”ç©¶ç‚¸ç›é…¥é¸¡ç‚¸é±¿é±¼ç‚¸é…¥è‚‰ï¼Œå¤–è¾¹çš„åƒèµ·æ¥å°±ç›¸å½¢è§ç»Œäº†ã€‚å‘¨æœ«å»å¤§å«å®¶çœ‹äº†<a href="https://movie.douban.com/subject/4280102/">èƒ½å¬å›å‰ä¸–çš„å¸ƒç±³å”å”</a>ï¼Œæœ‰ç‚¹æ²‰é—·åˆéå¸¸ç‰¹åˆ«ï¼Œé‚£ä¸ªæ„å¢ƒæœ‰åˆ»åœ¨è„‘æµ·é‡Œã€‚</li>
  <li>å…«å‘¨çš„æ»‘é›ªè¯¾ç¨‹ç»“æŸäº†ã€‚æ•™ç»ƒæ˜¯ä¸ªä¸ƒåå²çš„è€çˆ·ï¼ŒPaulï¼Œå¾ˆæ…ˆç¥¥ä¹Ÿå¾ˆå¥å¿˜ï¼ŒåŒä¸€ä¸ªç»ƒä¹ è¢«ä»–å½“æ–°çŸ¥è¯†æ•™äº†ä¸‰éã€‚é‰´äºä»–çš„è®¤çœŸï¼Œæˆ‘ä»¬å¤§å®¶éƒ½æ²¡æœ‰åé©³ï¼Œåªæ˜¯äº’ç›¸äº¤æ¢ä¸‹çœ¼ç¥ç»§ç»­ç‚¹å¤´é™„å’Œã€‚è¯¾ç¨‹è¿‡åŠçš„æ—¶å€™ï¼Œæˆ‘æ‰å‘ç°å­¦åˆ°äº†ä¸œè¥¿ã€‚å…¶å®è¦é¢†ä¸å¤šï¼Œåªæ˜¯é«˜é€Ÿè¡Œè¿›çš„è¿‡ç¨‹ä¸ç»™ä½ å¤ªå¤šæ€è€ƒçš„ç©ºé—´ï¼Œåªèƒ½ä¸æ–­ç»ƒä¹ ï¼Œæ…¢æ…¢è¿™äº›è¦é¢†å†…åŒ–æˆäº†ä¸‹æ„è¯†ã€‚
    <ul>
      <li>Lean forward</li>
      <li>Separate upper and lower body</li>
      <li>Make upper body still. Donâ€™t turn shoulders. (bartender practice). Always look downhill, even during turning (skate stop practice).</li>
      <li>Use your outside ski and feel the inside edge. (step out practice)</li>
    </ul>
  </li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w8-collage.jpg" alt="w8-collage" /></p>

<h2 id="w7-0217---0223">W7 (02/17 - 02/23)</h2>

<ul>
  <li>å·¥ä½œåˆè¿›å…¥äº†ç†Ÿæ‚‰çš„èŠ‚å¥ï¼Œå…´è‡´åŒ†åŒ†åˆ°åº§ä½ï¼Œå¿™å¿™ç¢Œç¢Œï¼Œè½¬çœ¼å°±åˆ°äº†ä¸‹ç­æ—¶é—´ã€‚é¢å¯¹å¹²ä¸å®Œçš„æ´»ï¼Œæ¯å¤©æ¨è¿›ä¸€ç‚¹ç‚¹ï¼Œäº«å—è¿™ä¸ªè¿‡ç¨‹ï¼Œä¹Ÿæ—¶åˆ»æé†’è‡ªå·±ä¸è¦ç„¦è™‘ã€‚</li>
  <li>å‘¨ä¸­è¯»å®Œäº†<em><a href="https://www.goodreads.com/book/show/39288400-the-subtle-art-of-not-giving-a-f-uck">The Subtle Art of Not Giving a F*uck</a></em>ï¼Œéå¸¸é¡ºç•…ã€‚ä½œè€…ç”¨ç®€æ´çš„æ–‡å­—å†™äº†å¾ˆå¤šæœ‰è¶£çš„è§‚ç‚¹ï¼Œéå¸¸å—ç”¨ã€‚</li>
  <li>è¿™å‘¨çœ‹äº†å¥½å‡ éƒ¨ç”µå½±ï¼š<a href="https://movie.douban.com/subject/3882427/"><em>æˆ‘åœ¨é›¨ä¸­ç­‰ä½ </em></a>ï¼Œçœ‹çš„æˆ‘æœ‰ç‚¹æ„¤æ€’ã€‚ç”µå½±ä¸€å‘³å±•ç¤ºã€æ‹¼è´´ä¸–ä¿—çš„ç¾å¥½ï¼Œè®©äººè¯¯ä»¥ä¸ºé‚£å°±æ˜¯è‡ªå·±è¦å»çš„åœ°æ–¹ã€‚å“­è¿‡ç¬‘è¿‡ï¼Œå‘ç°è¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆè¿ˆå‡ºç¬¬ä¸€æ­¥æ”¹å˜ç”Ÿæ´»ã€‚æ›´å¤šæ—¶å€™æˆ‘ä»¬è¦çš„ä¸æ˜¯æ„¿æ™¯ï¼Œè€Œæ˜¯å­¦ä¼šå¦‚ä½•é¢å¯¹å’Œæ¥å—ç”Ÿæ´»çš„ä¸å¹¸ã€‚æ›´éš¾çš„æ˜¯ï¼Œæ‰¾å¯»è‡ªå·±çœ¼ä¸­çš„ç¾å¥½ã€‚<a href="https://movie.douban.com/subject/1291875/"><em>é˜³å…‰ç¿çƒ‚çš„æ—¥å­</em></a>ã€‚è¿™å‘¨ç¡å‰é‡è¯»äº†_åŠ¨ç‰©å‡¶çŒ›_ï¼Œç‹æœ”çš„ç¬”è§¦è®©äººæ„‰æ‚¦å´ä¹Ÿæ‚²ä¼¤ã€‚å†çœ‹ç”µå½±ï¼Œæˆ‘æ›´å¤šæ„Ÿå—åˆ°çš„æ˜¯é‚£ä¸ªå¹´ä»£ï¼Œå®ƒæ˜¯ä¸æ˜¯è¿™ä¸ªå›½å®¶çš„é’æ˜¥æœŸå‘¢ï¼Ÿ<a href="https://movie.douban.com/subject/1296436"><em>æœ‰è¯å¥½å¥½è¯´</em></a>ã€‚é¡ºç€å§œæ–‡ï¼Œå–œç¦è¯´è¿™éƒ¨æ²¡çœ‹è¿‡ã€‚å§œæ–‡çš„ç£•å·´ç—´æ±‰å½¢è±¡ï¼Œå’Œä¿©äººåœ¨é¥­åº—å¤§æ®µå¤§æ®µçš„å¯¹è¯ï¼Œå®åœ¨æ˜¯ç»å…¸ã€‚<a href="https://www.imdb.com/title/tt6333072/"><em>Joshua</em></a>ï¼Œè¿™éƒ¨å½“ç„¶æ˜¯è¦è¢«ç¦æ‰ï¼Œå†å›æƒ³å»å¹´å‘ç”Ÿçš„ï¼ŒæŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯å¿…ç„¶ã€‚</li>
  <li>å ä¸œæ¨èäº† <a href="https://www.acquired.fm/">Acquired</a> è¿™ä¸ªæ’­å®¢ï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯ç–¯æŠ•åœˆçš„æ¨¡ç‰ˆï¼‰ï¼Œå›è¿°è¿™äº›åˆ›ä¸šå…¬å¸å†å²ï¼Œå¬å®Œäº† Tiktok, Shopify å’Œ Alibabaï¼Œè¶…çº§æœ‰è¶£ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w7-collage.jpg" alt="w7-collage" /></p>

<h2 id="w6-0210---0216">W6 (02/10 - 02/16)</h2>

<ul>
  <li>Finally wrap up my research over the HTTP connection issue right at the Friday afternoon. Perfect ending!</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº†å®¶é™„è¿‘çš„ä¸­ä¸œèœ Naranjï¼Œæ„æƒ³ä¸åˆ°çš„å¥½åƒã€‚ä¹‹åå» Princess çœ‹äº†<a href="https://movie.douban.com/subject/1295647/">è¶…æ—¶ç©ºæ¥è§¦</a>ï¼Œåº”è¯¥æ˜¯ç¬¬å››éçœ‹äº†ã€‚è¿™æ¬¡æ³¨æ„åˆ°äº†å¹´è½»çš„é©¬ä¿®éº¦åº·çº³ï¼Œæ²¡æƒ³åˆ°è¿™å“¥ä»¬è´¯ç©¿äº†ä¸¤éƒ¨æˆ‘æœ€å–œæ¬¢çš„ç§‘å¹»ï¼ˆå¦ä¸€éƒ¨æ˜¯æ˜Ÿé™…ç©¿è¶Šï¼‰ã€‚å‘¨å…­çš„ #movie-night çœ‹äº†<a href="https://movie.douban.com/subject/33400376/">å¹³åŸä¸Šçš„å¤æ´›å…‹</a>ï¼Œä¸€èˆ¬èˆ¬ã€‚</li>
  <li>å‘¨å…­çš„æ»‘é›ªæœ‰äº†é•¿è¶³çš„è¿›æ­¥ã€‚è¿™å‘¨åšäº†ä¸€ä¸ªå…³äºé‡å¿ƒçš„ç»ƒä¹ ï¼ŒçœŸæ­£æ„Ÿå—åˆ°äº† the inside edge of the outside skiã€‚</li>
  <li>å—å›½å†…ç–«æƒ…å½±å“ï¼Œæ¯æ™šéƒ½åšæŒå’Œå›½å†…çš„æœ‹å‹å¥‹æˆ˜éº»å°†ï¼Œå¼€å¿ƒçš„ä¸€ç¬”</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w6-collage.jpg" alt="w6-collage" /></p>

<h2 id="w5-0203---0209">W5 (02/03 - 02/09)</h2>

<ul>
  <li>Following up a weird HTTP connection issue in the whole week. I enjoy the excitement and progress everyday. Iâ€™m almost there :crossed_fingers:</li>
  <li>æœ€è¿‘çš„ç¡çœ éå¸¸å¥½ã€‚æœ‰ä¸¤å¤©å°è¯•äº†ä¸å–å’–å•¡ï¼Œä½†æ˜¯åˆé¥­è¿‡åå›°æ„æ¥è¢­ï¼Œè¿˜æ˜¯æœ‰ç‚¹éš¾è¿‡ã€‚é¡ºä¾¿ä¹Ÿæƒ³äº†ä¸‹è¦æ€æ ·æˆ’çƒŸã€‚å…¶å®æˆ‘å¯¹è‡ªå·±å¾ˆæœ‰ä¿¡å¿ƒï¼Œåªæ˜¯æ—¶é—´çš„é—®é¢˜ï¼Œè¿˜æ²¡æ‰¾åˆ°ï¼Œä¹Ÿå»å¯»æ‰¾æœ‰æ•ˆçš„æ›¿ä»£å“ã€‚</li>
  <li>è¿™ä¸€å‘¨çš„æ–‡æ˜ç©çš„é£èµ·ï¼Œæ¯å¤©æ™šä¸Šä¸€ä¸ªåŠå°æ—¶ï¼Œå‘¨æœ«ç»ˆäºè‰°éš¾åœ°èµ¢äº†ä¸€å±€ç”µè„‘ :v:</li>
  <li>å‘¨å››çš„ #date-night å»åƒäº† Baoï¼Œå‘¨å…­çš„ #movie-night çœ‹äº† Martin Scorecese çš„ <a href="https://movie.douban.com/subject/1303531/">After hours</a></li>
  <li>å‘¨å…­äº«å—äº†è¿™ä¸ªå†¬å¤©æœ€æƒ¬æ„çš„ä¸€æ¬¡æ»‘é›ªã€‚è“å¤©ç™½äº‘ï¼Œå¤§å¤ªé˜³ã€‚æ²¡æœ‰å¯’é£ï¼Œåªæœ‰åœ¨ç¼†è½¦ä¸Šçš„å®é™å’Œä¸‹å¡æ—¶çš„é€Ÿåº¦ã€‚</li>
  <li>è¿™å‘¨çœ‹å®Œäº† Richard Bach çš„ <a href="https://www.goodreads.com/book/show/29946.Illusions?from_search=true&amp;qid=QPiOBMxjKQ&amp;rank=2">Illusions</a>ã€‚éå¸¸å¥½çœ‹çš„ä¸€æœ¬å°ä¹¦ï¼Œå¹½é»˜å“²ç†ç‰ˆçš„ç¦…å¸ˆé—®é“ã€‚æƒ³æƒ³æœ€è¿‘çœ‹çš„é“å¾·ç»ï¼ŒThe Power of Now, The Book of Life (Jiddu Krishnamurti)ï¼Œæ€»è§‰ç€æœ‰æ¡éšå½¢çš„çº¿åœ¨ç‰µè¿ï¼Œä½†æ˜¯æˆ‘åˆç†ä¸æ¸…å¤´ç»ªï¼Œç»§ç»­è¯»ä¸‹å»å°±å¥½ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w5-collage.jpg" alt="w5-collage" /></p>

<h2 id="w4-0127---0202">W4 (01/27 - 02/02)</h2>

<ul>
  <li>A typical great week in work. It starts by following a weird issue, falls into a rabbit hole and somehow gets resolved at the end of the week :)</li>
  <li>å’Œå–œç¦å¾ˆå¥½åœ°è´¯å½»äº†ä¹ç‚¹å…³ç”µè§†çš„è§„çŸ©ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€é¢„æ–™ï¼Œé—´æ¥æ¨åŠ¨äº†æˆ‘ä»¬æ—©æ—©ä¸ŠåºŠã€‚è¿™ä¸€å‘¨çš„ç¡çœ éå¸¸æ£’ï¼å‘¨å››çš„ #date-night åœ¨ Loloan Lobbyï¼Œå‘¨å…­çš„ #movie-night çœ‹äº†ç¥ˆç¥·è½å¯æ—¶ï¼Œç»§ç»­ä¿æŒâœŠ</li>
  <li>å‘¨æœ«å»æ»‘é›ªï¼Œçœ‹çƒçœ‹å°å¾³ï¼ˆ17å† åæ— æ¯”æœŸå¾…å•Šï¼‰ï¼Œç©æ–‡æ˜ã€‚å–œç¦ carry äº†å„ç§åƒåƒåƒåƒï¼Œç«é”…ã€éƒ¨é˜Ÿé”…ã€æ’éª¨ã€é…¥è‚‰ï¼Œè¿˜èƒ½è¯´ä»€ä¹ˆï¼Œä¼˜ç§€ï¼</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w4-collage.jpg" alt="w4-collage" /></p>

<h2 id="w3-0120---0126">W3 (01/20 - 01/26)</h2>

<ul>
  <li>å‘¨ä¸€å’Œ Manager one one å…³äº 2019 å¹´çš„ perf reviewï¼Œå¾ˆå¼€å¿ƒæ‹¿åˆ°äº† exponentialã€‚æˆ‘ä¹Ÿæ˜¯åˆšåˆšååº”è¿‡æ¥ï¼Œæ¥åˆ°å…¬å¸ä¸‰å¹´ï¼Œç¬¬ä¸€å¹´ promotionï¼Œä¹‹åçš„ä¸¤å¹´ exponentialã€‚æœ‰æ—¶å€™åº”è¯¥å¤šç»™è‡ªå·±äº›è‡ªä¿¡å’Œé¼“åŠ±ï¼Œä¹Ÿè®¸è‡ªå·±åšçš„æ¯”æƒ³è±¡ä¸­è¦å¥½ã€‚å½“ç„¶ä¹Ÿä¸€èµ·æ·±å…¥èŠäº†å…¶ä»–æˆ‘æ›´å…³å¿ƒçš„è¯é¢˜ï¼Œä¾‹å¦‚æœ‰å“ªäº›éœ€è¦æé«˜ï¼Œä¸‹ä¸€æ­¥æœ‰ä»€ä¹ˆæ‰“ç®—ã€‚å…¶å®å¾ˆæ˜ç¡®ï¼Œæˆ‘è‡ªå·±ä¹Ÿæ¸…æ¥šï¼šæˆ‘åº”è¯¥æ›´å¤šåŠ å…¥å¤§å®¶çš„è®¨è®ºï¼Œå¤šæä¾›æ„è§ï¼Œå“ªæ€•æ˜¯ä¸æˆç†Ÿçš„æƒ³æ³•ï¼›ä¸‹ä¸€æ­¥è¦ä¸è¦åš staffï¼Œä¸»è¦å¡åœ¨æˆ‘æ˜¯å¦æœ‰ä¸»è§‚çš„å¼ºçƒˆæ„æ„¿ï¼Œç„¶åæ‰èƒ½æŒ‡å¯¼ä¸‹ä¸€æ­¥å»è€ƒè™‘è‡ªå·±è¦åšå“ªäº›æ”¹å˜ã€‚æˆ‘æƒ³äº†åŠå¹´è¿˜æ˜¯ä¸æ¸…æ¥šï¼Œå¥½åœ¨çœ¼å‰çš„å·¥ä½œä¸€ç›´éƒ½æœ‰æŒ‘æˆ˜ï¼Œæˆ‘ä¹Ÿå¾ˆäº«å—ã€‚æ—¥å†é‡Œå®šäº†ä¸ªæé†’ï¼Œæ¯ä¸ªå­£åº¦éƒ½æé†’è‡ªå·±åœä¸‹æ¥æƒ³ä¸€æƒ³ã€‚</li>
  <li>å‘¨ä¸€æ—©ä¸Šé€ Nikki å»åšäº†ç»è‚²ï¼Œæ™šä¸Šæ¥å›å®¶é‡Œï¼Œè¿˜æ˜¯ä¸€è„¸éº»é†‰æœªé†’çš„æ ·å­ï¼Œæˆ´ç€ä¼Šä¸½èç™½åœˆï¼Œèµ°è·¯æ…¢ååï¼Œå¶å°”çœ‹åˆ°é•œå­é‡Œçš„è‡ªå·±æ»¡è„¸ç–‘æƒ‘ã€‚æœ‰ç‚¹å¿ƒç–¼ã€‚</li>
  <li>å‘¨äº”æ˜¯æ˜¥èŠ‚ï¼Œè¿ç»­ç¬¬äºŒå¹´ä¸åœ¨è€å®¶è¿‡å¹´ï¼Œå’Œå–œç¦å»¶ç»­æˆ‘ä»¬å»å¹´åˆ¶å®šçš„ä¼ ç»Ÿï¼šä¸‰åå„¿ç«é”…åˆä¸€é¥ºå­ã€‚ä»Šå¹´æ²¡æœ‰ä¹°é¥ºå­çš®ï¼Œè§†é¢‘å’Œå¦ˆå¦ˆå­¦äº†å’Œé¢ï¼Œåˆä¸€æˆåŠŸåŒ…äº†çŒªè‚‰èŠ¹èœé¥ºå­ã€‚å‘¨æœ«ç©ºé—²ï¼Œç»§ç»­ç ”ç©¶å¨è‰ºï¼Œå°è¯•äº†çº¢çƒ§è‚‰å’Œç‚¸é±¿é±¼é¡»ï¼Œéå¸¸æˆåŠŸã€‚</li>
  <li>å‘¨æ—¥ä¸‹åˆä¸¤ç‚¹å¤šï¼Œæ”¶åˆ°å ä¸œçš„æ¶ˆæ¯ï¼šKobe Bryant has died in a helicopter crashã€‚ç¬é—´æƒŠåˆ°äº†ï¼Œæ€ä¹ˆèƒ½æœ‰è¿™ä¹ˆå‡çš„æ–°é—»ã€‚ä¹‹åå°±æ˜¯æ¼«é•¿çš„ä¸‹åˆï¼Œä¸æ–­åˆ·ç€ Twitterï¼Œå¸Œæœ›èƒ½æœ‰è½¬æœºï¼Œå¯æ˜¯ç­‰æ¥çš„åªæ˜¯ä¸æ–­çš„å™©è€—ï¼Œä»–çš„äºŒå¥³å„¿ Gigi ä¹Ÿé‡éš¾èº«äº¡ã€‚å¿ƒç¢ï¼Œæ— è¯­ã€‚æˆ‘å¤šå¸Œæœ›æ²¡çœ‹åˆ°è¿™æ¡æ¶ˆæ¯ï¼Œè€Œä½ è¿˜åœ¨æˆ‘è§ä¸åˆ°ä¹Ÿè®¸ä»¥åä¹Ÿä¸ä¼šè§åˆ°çš„åœ°æ–¹ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ä½ è¿˜åœ¨ã€‚æˆ‘åŠªåŠ›å¯»æ‰¾å‡ºå£ï¼Œè¯•å›¾å¹³å¤è‡ªå·±å»æ¥å—è¿™ä¸€åˆ‡ï¼Œä½†æ˜¯ç°å®å¤ªé­”å¹»ï¼Œæˆ‘å®åœ¨æ¥ä¸ä½ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡å­¦åˆ°â€œå¶åƒâ€ä¸¤ä¸ªå­—çš„æ—¶å€™ï¼Œæˆ‘åœ¨è¶³çƒæ‰¾åˆ°äº† Del Pieroï¼Œåœ¨ç¯®çƒæ‰¾åˆ°äº†ä½ ã€‚ä» 98/99 å¼€å§‹çœ‹çƒï¼Œåˆ°ç°åœ¨äºŒåå¹´æœ‰ä½™ï¼Œæˆ‘æ˜¯å¤šä¹ˆå¹¸è¿å½“åˆæŠŠç›®å…‰äº¤ç»™äº†ä½ ï¼Œå¸¦æˆ‘è§è¯ç—›è‹¦ä¸å–œæ‚¦ï¼Œä¹Ÿæ•™æˆ‘æ˜ç™½åŠªåŠ›ä¸æŠ—äº‰ã€‚è¯´åˆ°åº•ï¼Œæ˜¯é™ªä¼´å’Œæˆé•¿ã€‚æ„Ÿè°¢ä½  Kobeï¼ŒR.I.P ğŸ™</li>
  <li>æœ€è¿‘ä¸€ä¸ªç¤¼æ‹œæˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœç”Ÿæ´»é‡Œæ²¡æœ‰ç”µè§†ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»ä¼šå˜å¼€å¿ƒè¿˜æ˜¯å¤±è½ã€‚å’Œå–œç¦ä¸€èµ·è®¨è®ºäº†ä¸€ä¸‹ï¼šç”µè§†å¸¦æ¥æœ€ç³Ÿç³•çš„ä½“éªŒå°±æ˜¯ï¼Œæ²¡æœ‰ç›®çš„çš„æ‰«æ¥æ‰«å»ï¼Œä¸€ä¸ªåŠå°æ—¶è¿‡å»ï¼Œæ ¹æœ¬ä¸çŸ¥é“çœ‹äº†äº›å•¥ï¼Œåªè®°å¾—ç˜«è½¯åœ¨æ²™å‘é‡Œï¼Œéšååšå…¶ä»–äº‹æƒ…çš„åŠ¨åŠ›ä¹Ÿæ¥è¿‘äºé›¶ï¼ˆè¿™ä¸ªæœ€ä¼¤äººï¼Œå¥½åƒä¸å°å¿ƒç‚¹å‡ºäº†æŠ–éŸ³çš„è®¾è®¡ç†å¿µï¼‰ã€‚ä¹Ÿè®¸æ­£ç¡®çš„æ‰“å¼€æ–¹å¼æ˜¯æŠŠç”µè§†å½“ä½œç”µå½±é™¢çš„é‚£å—å±å¹•ï¼Œæœ‰æ˜ç¡®çš„æ—¶é—´å’Œé¢„æœŸã€‚é‡åˆ°æƒ³çœ‹çš„ç”µå½±æˆ–è€…æ¯”èµ›ï¼Œå½“ç„¶å¯ä»¥çœ‹ï¼Œä½†æ˜¯æ‹’ç»æ¼«æ— ç›®çš„å’Œæ²¡å®Œæ²¡äº†ã€‚æˆ‘ä»¬å®šäº†ä¸€äº›ç®€å•å¯è¡Œçš„ç›®æ ‡ï¼Œå‡†å¤‡æ¥ä¸‹æ¥åšäº›å°è¯•ï¼š1. ä¹ç‚¹ä¹‹åä¸å¼€ç”µè§†ï¼ŒåŒ…æ‹¬å‘¨æœ« 2. åƒé¥­çš„æ—¶å€™å¯ä»¥æ‰“å¼€çœ‹æ— èŠç»¼è‰º 3. çœ‹ç¾å‰§çš„è¯ä¸è¦æ²‰è¿·ï¼ˆä¸»è¦é’ˆå¯¹æˆ‘ï¼‰ï¼Œæ¯æ¬¡ä¸è¶…è¿‡ä¸€é›†ã€‚æ€»ä½“ä¸Šï¼Œæˆ‘å¸Œæœ›è§£é”èŠ±åœ¨ç”µè§†ä¸Šçš„æš—æ—¶é—´ï¼Œçœ‹çœ‹ä¼šç»™ç”Ÿæ´»å¸¦æ¥å¤šå¤§å˜åŒ–ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w3-collage.jpg" alt="w3-collage" /></p>

<h2 id="w2-0113---0119">W2 (01/13 - 01/19)</h2>

<ul>
  <li>å–œç¦ç»§ç»­åœ¨æ¸©å“¥åå‡ºå·®ã€‚æˆ‘å‘ç°å½“æˆ‘å®Œå…¨æ¥å—è¦æ¯å¤©ç‹¬è‡ªç…§çœ‹çŒ«çŒ«ç‹—ç‹—ä¹‹åï¼Œå¿ƒé‡Œä¹Ÿå°±ä¸ä¼šæœ‰ä»€ä¹ˆæ€¨è¨€ï¼Œåªæ˜¯æƒ³ç€æ€ä¹ˆä¼šåšçš„æ›´å¥½ã€‚â€œæ¥å—â€æ˜¯æˆ‘åœ¨é€æ¸å­¦ä¼šçš„ä¸¤ä¸ªå­—ã€‚å¥—ç”¨ Naval æåˆ°ä½›å®¶è§‚ç‚¹ï¼šDesire is a contract you make with yourself to be unhappy until you get what you want. æˆ‘ä»¬åº”è¯¥ pick our battleï¼Œæœ‰é‚£ä¹ˆä¸€ä¸¤ä»¶éå¸¸åœ¨ä¹çš„äº‹æƒ…ï¼Œè¦æ¸´æœ›è¦äº‰å–ï¼Œå…¶ä»–å°±è®©ä»–å»ï¼Œå¿ƒå¹³æ°”å’Œå»é¢å¯¹ã€‚</li>
  <li>å‘¨äºŒå‘¨ä¸‰å…¬å¸å¼€æ–°å¹´ kickoffï¼Œå…¶å®å°±æ˜¯æ¢ä¸ªåœ°æ–¹é¼“èˆå£«æ°”ã€‚æˆ‘ä¸€å‘å¯¹è¿™ç§æ´»åŠ¨ä¸æ„Ÿå†’ï¼Œå»äº†åŠåœºä¸‹åˆèµ¶å¿«æºœå›å®¶ã€‚å‘¨æœ«ä¸¤å¤©ä¸‹äº†æš´é›ªï¼Œç™½èŒ«èŒ«ä¸€ç‰‡ï¼Œå‡ºé—¨æ‰«äº†ä¸‰æ¬¡é›ªï¼Œèˆ’å¦ã€‚</li>
  <li>å‘¨ä¸­å…¥å‘äº†çŠ¹è±«è®¸ä¹…çš„æ–‡æ˜å…­â€¦æˆ‘å®Œå…¨èƒ½ç†è§£å¤§å®¶éƒ½è¯´ç©ä¸Šè¿™æ¸¸æˆä¼šå‘é—®â€œæ—¶é—´éƒ½å»å“ªäº†â€çš„ç–‘é—®ã€‚é‡Œè¾¹çš„è®¾å®šå¤ªå·§å¦™äº†ï¼Œæ­£å¥½æ»¡è¶³äº†è‡ªå·±å¯¹å†å²ä¸æ–­åŠ æ·±çš„å…´è¶£ï¼Œè¾¹ç©è¾¹æŸ¥å„ç§ wikiã€‚ç„¶è€Œï¼Œå‘¨å…­ä¸€å£æ°”ç©äº†å››ä¸ªåŠå°æ—¶ä¹‹åï¼Œå¤´æ˜è„‘æ¶¨ï¼Œæˆ‘å‡†å¤‡è½»æ˜“ä¸è¦å†ç¢°äº†ã€‚</li>
  <li>å‘¨æ—¥ç‹ ç‹ åœ°æ”¶æ‹¾äº†ä¸€ä¸‹å±‹å­ï¼Œæ™šä¸Šå¸¦ç€ Nikki å»æœºåœºæ¥äº†å–œç¦ï¼Œç»ˆäºä¸ç”¨å†è§†é¢‘é¢ç‹—äº†ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w2-collage.jpg" alt="w2-collage" /></p>

<h2 id="w1-0106---0112">W1 (01/06 - 01/12)</h2>

<ul>
  <li>å–œç¦è¿™ä¸¤å‘¨åœ¨æ¸©å“¥åå‡ºå·®ï¼ˆç©è€ï¼‰ï¼Œæˆ‘ç‹¬è‡ªåœ¨å®¶äº«å—å¦ä¸€ä¸ªâ€œå‡æœŸâ€ã€‚æ¯å¤©ä¸Šåˆå»å…¬å¸ï¼Œåƒå¥½åˆé¥­ï¼Œä¸‹åˆå›æ¥é™ª Nikkiã€‚å¼€å§‹å‡ å¤©åšä»€ä¹ˆéƒ½æ²¡å•¥å¿ƒæƒ…ï¼Œå«å¤–å–ï¼Œèººæ²™å‘ï¼Œå·¥ä½œä¹Ÿå¿ƒä¸åœ¨ç„‰ï¼›åæ¥æ…¢æ…¢è°ƒæ•´å¥½çŠ¶æ€ï¼Œå‘¨æœ«å­¦ä¹  Rustï¼Œçœ‹çƒï¼Œå‰ç¥¥éº»å°†ï¼Œåšæ™šé¥­ï¼Œå¸¦ Nikki å’Œèµµå››æ•£æ­¥ï¼Œè¿‡å¾—å¾ˆå……å®ã€‚</li>
  <li>è¿™ä¸€ä¸ªå¤šæœˆå¾ˆå¤§çš„æ”¹å˜æ˜¯å¯¹åšé¥­çš„æ€åº¦ã€‚ä»å‰æˆ‘çš„æ ‡å‡†å¾ˆæ˜ç¡®ï¼šèƒ½å°‘åšå°±ä¸åšï¼›å¦‚æœå®åœ¨è¦åšï¼Œä»å‡†å¤‡åˆ°å¼€åƒï¼Œ20 åˆ†é’Ÿæ˜¯æˆ‘èƒ½æ¥å—çš„ä¸Šé™ã€‚æ‰€ä»¥ä¹Ÿé—´æ¥å¯¼è‡´ï¼Œä¸ºä»€ä¹ˆæˆ‘å¦‚æ­¤é’Ÿçˆ±ç«é”…ã€‚å»å¹´çˆ¸å¦ˆåœ¨å®¶é‡Œçš„ä¸€ä¸ªå¤šæœˆï¼Œæˆ‘è®¤è¯†åˆ°äº†ä¸€ä¸ªä¸è®©äººæƒŠè®¶æˆ‘å´ä¹Ÿæœªæ›¾å¯Ÿè§‰ï¼ˆå› ä¸ºä¸€ç›´ç†æ‰€å½“ç„¶ï¼‰çš„äº‹å®ï¼šä¸ºä»€ä¹ˆä»–ä»¬ä¼šåšå„ç§ç¾å‘³ï¼Œè€ŒåŒæ—¶å¨æˆ¿åˆå¹²å‡€æ•´æ´ï¼Ÿå…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼Œåªæ˜¯å› ä¸ºä»–ä»¬èŠ±äº†å¤ªå¤šæ—¶é—´åœ¨å¨æˆ¿å•Šã€‚åœ¨é‚£ä¹‹åï¼Œæˆ‘è¯•ç€æ”¹å˜å¯¹åšé¥­çš„çœ‹æ³•ï¼Œè€å¿ƒä¹Ÿä¸æ–­åŠ å…¥æ€è€ƒï¼Œè·Ÿå–œç¦åˆ·çš„æŠ–éŸ³æ¨èå…¨éƒ½æ˜¯èœè°±ã€‚ä¸æ–­å°è¯•ï¼Œä¹Ÿä¸æ–­æœ‰æ”¶è·ï¼Œä¸€æ—¦æœ‰äº†å–œç¦æ­£å‘çš„åé¦ˆï¼Œæˆ‘å‘ç°è‡ªå·±å¼€å§‹äº«å—åšé¥­çš„æ—¶å…‰äº†ã€‚</li>
  <li>å‘¨æœ«é—²ä¸‹æ¥ï¼Œåæ€äº†ä¸€ä¸‹å¯¹ Nikki çš„è®­ç»ƒã€‚è‡ªä» level 1 è¯¾ç¨‹ç»“æŸåæˆ‘ä»¬å¥½åƒå°±ä¸å¤Ÿå†ä¸Šå¿ƒï¼Œç”Ÿæ´»é‡Œæœ‰å‡ å¤„æ˜æ˜¾çš„å›°æ‰°ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰åŠ¨åŠ›å»å¯»æ±‚æ”¹å˜ã€‚é›å¼¯æ˜¯æœ€éº»çƒ¦çš„ã€‚æ¯æ¬¡å‡ºå»è·¯ä¸Šï¼ŒNikki é—»åˆ°ä»€ä¹ˆæ„Ÿå…´è¶£çš„å‘³é“ï¼Œéƒ½ä¼šç”¨åŠ› pullï¼›çœ‹åˆ°ä»»ä½•ç”Ÿç‰©ï¼Œäººã€ç‹—ã€å°æ±½è½¦éƒ½ä¼š barkï¼›å›æ¥è·¯ä¸Šåˆ°äº†æ‹è§’é»‘ç‹— Leiney çš„å®¶é—¨å£ï¼Œ éƒ½ä¼šä¸è‡ªè§‰å¼€å§‹å‘ç–¯ï¼Œgrowlï¼Œbite leashï¼Œæœ€ä¸¥é‡çš„æ˜¯ï¼Œå¦‚æœå–œç¦åœ¨è¿˜ä¼šæ‰‘å¥¹ã€‚æˆ‘æ‰¾äº†å¾ˆå¤šè§†é¢‘çœ‹ï¼ŒåŸºæœ¬ä¸Šå¾—åˆ°äº†è¿™æ ·çš„ç»“è®ºï¼šç‹—ç‹—çš„å¬åŠ›å’Œå—…è§‰éƒ½æ¯”äººç±»æ•é”ï¼Œå¯¼è‡´çš„é—®é¢˜ä¹Ÿå¾ˆæ˜¾è€Œæ˜“è§ï¼Œå°±æ˜¯æ˜“å—æ‰“æ‰°ã€‚ä»å®¶é‡Œåˆ°é›å¼¯ï¼Œä¸€æ‰‡é—¨ä¹‹éš”ï¼Œå¯¹ç‹—ç‹—å´æ˜¯æ•´ä¸ªä¸–ç•Œçš„æ”¹å˜ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸å¯ä»¥æ˜¯è·³è·ƒå¼çš„ï¼Œè€Œæ˜¯éœ€è¦å¾ªåºæ¸è¿›çš„ã€‚æˆ‘å¼€å§‹åœ¨å±‹å­é‡Œé› Nikkiï¼Œç„¶ååœ¨é—¨å¤–è¾¹çš„å°èµ°å»Šï¼Œæœ€ååˆ° Drivewayï¼Œåªæœ‰ä¸Šä¸€æ­¥åšå¥½äº†ï¼Œæ‰å»å°è¯•ä¸‹ä¸€æ­¥ã€‚è¿™ä¸æ˜¯ä»€ä¹ˆæ–°å¥‡çš„å‘ç°ï¼Œä¹‹å‰çš„ä¹¦å’Œè¯¾ç¨‹ä¸Šä¹Ÿæœ‰æè¿‡ï¼Œåªæ˜¯æˆ‘ä»¬æ²¡æœ‰è®¤çœŸå»åšï¼Œå¸Œæœ›æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šæœ‰æ›´å¤šè€å¿ƒã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2020/w1-collage.jpg" alt="w1-collage" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What we've done in 2019]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2020/01/03/what-weve-done-in-2019/"/>
    <updated>2020-01-03T11:54:56-05:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2020/01/03/what-weve-done-in-2019</id>
    <content type="html"><![CDATA[<svg id="gantt-2019"></svg>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Notes on DDD Quickly]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2019/05/27/notes-on-ddd/"/>
    <updated>2019-05-27T11:43:15-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2019/05/27/notes-on-ddd</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Book</strong></td>
      <td>Domain Driven Design Quickly</td>
    </tr>
    <tr>
      <td><strong>Author</strong></td>
      <td>Floyd Marinescu &amp; Abel Avram</td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="https://www.infoq.com/minibooks/domain-driven-design-quickly">InfoQ</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#what-is-ddd">What is DDD?</a></li>
  <li><a href="#the-ubiquitous-language">The Ubiquitous Language</a></li>
  <li><a href="#model-driven-design">Model-Driven Design</a>    <ul>
      <li><a href="#building-blocks">building blocks</a></li>
      <li><a href="#layered-architecture">Layered Architecture</a></li>
      <li><a href="#express-model-with-entities-value-objects-and-services">Express Model with Entities, Value Objects and Services</a></li>
      <li><a href="#struct-model-with-modules">Struct model with Modules</a></li>
      <li><a href="#manage-a-domain-object">Manage a domain object</a></li>
    </ul>
  </li>
  <li><a href="#refactoring-toward-deeper-insight">Refactoring Toward Deeper Insight</a></li>
  <li><a href="#preserving-model-integrity">Preserving Model Integrity</a>    <ul>
      <li><a href="#bounded-context">Bounded Context</a></li>
      <li><a href="#continuous-integration">Continuous integration</a></li>
      <li><a href="#context-map">Context map</a></li>
      <li><a href="#shared-kernel">Shared Kernel</a></li>
      <li><a href="#customer-supplier">Customer-supplier</a></li>
      <li><a href="#conformist">Conformist</a></li>
      <li><a href="#anticorruption-layer">Anticorruption layer</a></li>
      <li><a href="#separate-ways">Separate ways</a></li>
      <li><a href="#open-host-service">Open host service</a></li>
      <li><a href="#distillation">Distillation</a></li>
    </ul>
  </li>
  <li><a href="#advices">Advices</a></li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-mind-map.png" alt="ddd-mind-map" /></p>

<h2 id="what-is-ddd">What is DDD?</h2>

<p>The main idea is to identify the <strong>domain model</strong> and design your system around it. Usually, a software designer will talk with the domain expert to figure out the domain.</p>

<blockquote>
  <p>You cannot create a banking software system unless you have a good understanding of what banking is all about, one must understand the domain of banking.
How can we make the software fit harmoniously with the domain? The best way to do it is to make software a reflection of the domain. Software needs to incorporate the core concepts and elements of the domain, and to precisely realize the relationships between them. Software has to <strong>model</strong> the domain.</p>
</blockquote>

<p>So, what is domain model? Itâ€™s an abstraction of the domain. Itâ€™s an internal representation of the target domain.</p>

<blockquote>
  <p>A model is an abstraction of the domain. It is not just the knowledge in a domain expertâ€™s head; it is a rigorously organized and selective abstraction of that knowledge. The model is our internal representation of the target domain,</p>
</blockquote>

<h2 id="the-ubiquitous-language">The Ubiquitous Language</h2>

<p>A core <strong>principle</strong> of DDD is to use a language to communicate the domain. Use the model as the backbone of a language. Request that the team use the language consistently in all communications, and also in the code. While sharing knowledge and hammering out the model, the team uses speech, writing and diagrams. Make sure this language appears consistently in all the communication forms used by the team; for this reason, the language is called <strong>the Ubiquitous Language</strong>.</p>

<p>Building a language like that has a clear outcome: the model and the language are strongly interconnected with one another. A change in the language should become a change to the model.</p>

<h2 id="model-driven-design">Model-Driven Design</h2>

<h3 id="building-blocks">building blocks</h3>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-building-blocks.png" alt="ddd-building-blocks" /></p>

<h3 id="layered-architecture">Layered Architecture</h3>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-layered-architecture.png" alt="ddd-layered-architecture" /></p>

<h3 id="express-model-with-entities-value-objects-and-services">Express Model with Entities, Value Objects and Services</h3>

<p><strong>Entity</strong>: implementing entities in software means creating identity.</p>

<p><strong>Value Object</strong>: is an object that is used to describe certain aspects of a domain, being immutable, having no identity, thus can be shared.</p>

<p>It is recommended to select as entities only those objects which conform to the entity definition. And make the rest of the objects Value Objects.</p>

<p><strong>Service</strong>: without an internal state, its purpose is to simply provide functionality for the domain. There are three characters of a Service</p>

<ol>
  <li>The operation performed by the Service refers to a domain concept which does not naturally belong to an Entity or Value Object.</li>
  <li>The operation performed refers to other objects in the domain.</li>
  <li>The operation is stateless.</li>
</ol>

<p>While using Services, is important to keep the domain layer isolated. It is easy to get confused between services which belong to the domain layer, and those belonging to the infrastructure.</p>

<h3 id="struct-model-with-modules">Struct model with Modules</h3>

<p>Modules are used as a method of organizing related concepts and tasks in order to reduce complexity. Choose Modules that tell the story of the system and contain a cohesive set of concepts.</p>

<p>It is recommended to group highly related classes into modules to provide maximum cohesion possible. There are several types of cohesion. Two of the most used are <em>communicational cohesion *and *functional cohesion</em>.</p>

<ul>
  <li>Communicational cohesion is achieved when parts of the module operate on the same data. It makes sense to group them, because there is a strong relationship between them.</li>
  <li>Functional cohesion is achieved when all parts of the module work together to perform a well-defined task. This is considered the best type of cohesion.</li>
</ul>

<h3 id="manage-a-domain-object">Manage a domain object</h3>

<p><strong>Ownership &amp; Boundary: Aggregates</strong></p>

<p>Aggregate is a domain pattern used to define object ownership and boundaries.</p>

<p>An Aggregate is a group of associated objects which are considered as one unit with regard to data changes. The Aggregate is demarcated by a boundary which separates the objects inside from those outside. Each Aggregate has one root. The root is an Entity, which has global identity and itâ€™s responsible for maintaining the invariants, and it is the only object accessible from outside.</p>

<ol>
  <li>Cluster the Entities and Value Objects into Aggregates and define boundaries around each.</li>
  <li>Choose one Entity to be the root of each Aggregate, and control all access to the objects inside the boundary through the root.</li>
</ol>

<p><strong>Creation: Factories</strong></p>

<p>Factories are used to encapsulate the knowledge necessary for object creation, and they are especially useful to create Aggregates. When the root of the Aggregate is created, all the objects contained by the Aggregate are created along with it, and all the invariants are enforced.</p>

<p>It is important for the creation process to be atomic. Another observation is that Factories need to create new objects from scratch.</p>

<p><strong>Storage: Repositories</strong></p>

<p>A client needs a practical means of acquiring references to preexisting domain objects. Use a Repository to encapsulate all the logic needed to obtain object references.</p>

<p>The Repository acts as a storage place for globally accessible objects.</p>

<ul>
  <li>For each type of object that needs global access, create an object that can provide the illusion of an in-memory collection of all objects of that type.</li>
  <li>Set up access through a well-known global interface.</li>
  <li>Provide methods to add and remove objects, which will encapsulate the actual insertion or removal of data in the data store.</li>
  <li>Provide methods that select objects based on some criteria and return fully instantiated objects or collections of objects whose attribute values meet the criteria, thereby encapsulating the actual storage and query technology. Use a Specification.</li>
  <li>Provide repositories only for Aggregate roots that actually need direct access.</li>
  <li>Keep the client focused on the model, delegating all object storage and access to the Repositories.
It can be noted that the implementation of a repository can be closely liked to the infrastructure, but that the repository interface will be pure domain model.</li>
</ul>

<p>There is a relationship between Factory and Repository. They are both patterns of the model-driven design, and they both help us to manage the life cycle of domain objects.</p>

<ul>
  <li>While the Factory should create new objects, while the Repository should find already created objects. When a new object is to be added to the Repository, it should be created first using the Factory, and then it should be given to the Repository which will store it like in the example below.</li>
  <li>Another way this is noted is that Factories are â€œpure domainâ€, but that Repositories can contain links to the infrastructure, e g the database.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-factories-and-repositories.png" alt="ddd-factories-and-repositories" /></p>

<h2 id="refactoring-toward-deeper-insight">Refactoring Toward Deeper Insight</h2>

<p>A good model is the result of deep thinking, insight, experience, and flair.
Refactoring is done in small steps. The result is also a series of small improvements. There are times when lots of small changes add very little value to the design, and there are times when few changes make a lot of difference. Itâ€™s a Breakthrough. Each refinement adds more clarity to the design. This creates in turn the premises for a Breakthrough.</p>

<p>To reach a Breakthrough, we need to make the implicit concepts explicit.</p>

<ul>
  <li>Listen to the language</li>
  <li>Use domain literature</li>
  <li>Constraint, Process and Specification.
    <ul>
      <li>A Constraint is a simple way to express an invariant. Whatever happens to the object data, the invariant is respected. This is simply done by putting the invariant logic into a Constraint.</li>
      <li>Processes are usually expressed in code with procedures. The best way to implement processes is to use a Service.</li>
      <li>a Specification is used to test an object to see if it satisfies a certain criteria.</li>
    </ul>
  </li>
</ul>

<h2 id="preserving-model-integrity">Preserving Model Integrity</h2>

<p>It is so easy to start from a good model and progress toward an inconsistent one. The internal consistency of a model is called <strong>unification</strong>. Instead of trying to keep one big model that will fall apart later, we should consciously divide it into several models. Several models well integrated can evolve independently as long as they obey the contract they are bound to.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-data-integrity-patterns.png" alt="ddd-data-integrity-patterns" /></p>

<h3 id="bounded-context">Bounded Context</h3>

<p>The main idea is to define the scope of a model, to draw up the boundaries of its context, then do the most possible to keep the model unified. Explicitly define the context within which a model applies. Explicitly set boundaries in terms of team organization, usage within specific parts of the application, and physical manifestations such as code bases and database schemas. A model should be small enough to be assigned to one team.</p>

<p>**A Bounded Context is not a Module. **A Bounded Context provides the logical frame inside of which the model evolves. Modules are used to organize the elements of a model, so Bounded Context encompasses the Module.</p>

<h3 id="continuous-integration">Continuous integration</h3>

<p>Continuous Integration is a necessary process within a Bounded Context. Another necessary requirement is to perform automated tests.</p>

<h3 id="context-map">Context map</h3>

<p>A Context Map is a document which outlines the different Bounded Contexts and the relationships between them.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-context-map.png" alt="ddd-context-map" /></p>

<p>Each Bounded Context should have a name which should be part of the Ubiquitous Language. A common practice is to define the contexts, then create modules for each context, and use a naming convention to indicate the context each module belongs to.</p>

<h3 id="shared-kernel">Shared Kernel</h3>

<p>The purpose is to reduce duplication, but still keep two separate contexts.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-shared-kernel.png" alt="ddd-shared-kernel" /></p>

<h3 id="customer-supplier">Customer-supplier</h3>

<p>There are times when two subsystems have a special relationship: one depends a lot on the other. The contexts in which those two subsystems exist are different, and the processing result of one system is fed into the other. Establish a clear customer/supplier relationship between the two teams.</p>

<p>A Customer-Supplier relationship is viable when both teams are interested in the relationship. When two development teams have a Customer-Supplier relationship in which the supplier team has no motivation to provide for the customer teamâ€™s needs, the customer team is helpless.</p>

<p>The customer team has few options:</p>

<ul>
  <li><strong>Conform</strong> entirely to supplier teamâ€™s model</li>
  <li>Protect itself by using an <strong>Anticorruption Layer</strong></li>
  <li><strong>Separate Ways</strong>. We need to closely evaluate the benefits of integration and use it only if there is real value in doing so. If we reach the conclusion that integration is more trouble than it is worth, then we should go the Separate Ways.</li>
</ul>

<h3 id="conformist">Conformist</h3>

<p>If the customer has to use the supplier teamâ€™s model, and if that is well done, it may be time for conformity. The customer team could adhere to the supplier teamâ€™s model, conforming entirely to it.
Compared to the Shared Kernel, but there is an important difference. The customer team cannot make changes to the kernel. They can only use it as part of their model, and they can build on the existing code provided.</p>

<h3 id="anticorruption-layer">Anticorruption layer</h3>

<p>From our modelâ€™s perspective, the Anticorruption Layer is a natural part of the model; it does not look like something foreign. It operates with concepts and actions familiar to our model. But the Anticorruption Layer talks to the external model using the external language not the client one. This layer works as a two way translator between two domains and languages.</p>

<p>How should we implement the Anticorruption Layer? A very good solution is to see the layer as a Service from the client model. The Service will be done as a FacÌ§ade, along with a Adapter and translator.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/ddd/ddd-anticorruption-layer.png" alt="ddd-anticorruption-layer" /></p>

<p>Adapter is to convert the interface of a class to the one understood by the client. Translator is to do object and data conversion.</p>

<h3 id="separate-ways">Separate ways</h3>

<p>Before going on Separate Ways we need to make sure that we wonâ€™t be coming back to an integrated system.</p>

<p>The Separate Ways pattern addresses the case when an enterprise application can be made up of several smaller applications which have little or nothing in common from a modeling perspective. From the userâ€™s perspective this is one application, but from a modeling and design point of view it may done using separate models with distinct implementations.</p>

<h3 id="open-host-service">Open host service</h3>

<p>When we try to integrate two subsystems, we usually create a translation layer between them. This layer acts as a buffer between the client subsystem and the external subsystem we want to integrate with. This layer can be a consistent one, depending on the complexity of relationships and how the external subsystem was designed. If the external subsystem turns out to be used not by one client subsystem, but by several ones, we need to create translation layers for all of them.</p>

<p>The solution is to see the external subsystem as a provider of services. If we can wrap a set of Services around it, then all the other subsystems will access these Services, and we wonâ€™t need any translation layer.</p>

<p>Define a protocol that gives access to your subsystem as a set of Services. Open the protocol so that all who need to integrate with you can use it.</p>

<h3 id="distillation">Distillation</h3>

<p>A large domain has a large model even after we have refined it and created many abstractions. It can remain big even after many refactorings. In situations like this, it may be time for a distillation. The idea is to define a Core Domain which represents the essence of the domain. The byproducts of the distillation process will be Generic Subdomains which will comprise the other parts of the domain.</p>

<p>When working with a large model, we should try to separate the essential concepts from generic ones. Identify cohesive subdomains that are not the motivation for your project. Factor out generic models of these subdomains and place them in separate Modules. There are different ways to implement a Generic Subdomain:</p>

<ul>
  <li>Off-the-shelf Solution</li>
  <li>Outsourcing</li>
  <li>Existing Model</li>
  <li>In-House Implementation</li>
</ul>

<h2 id="advices">Advices</h2>

<p>Keep in mind some of the pitfalls of domain modeling:</p>

<ol>
  <li>Stay hands-on. Modelers need to code.</li>
  <li>Focus on concrete scenarios. Abstract thinking has to be anchored in concrete cases.</li>
  <li>Donâ€™t try to apply DDD to everything. Draw a context map and decide on where you will make a push for DDD and where you will not. And then donâ€™t worry about it outside those boundaries.</li>
  <li>Experiment a lot and expect to make lots of mistakes. Modeling is a creative process.</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What I've done in 2019]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2019/04/15/what-ive-done-in-2019/"/>
    <updated>2019-04-15T11:59:16-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2019/04/15/what-ive-done-in-2019</id>
    <content type="html"><![CDATA[<blockquote>
  <p>A weekly log on my life and personal growth</p>
</blockquote>

<h2 id="w52-53-1223---0105-vacation">W52-53 (12/23 - 01/05) Vacation</h2>

<p>12.25 - 01.01 æŠŠ Nikki å’Œèµµå››å®‰é¡¿å¥½ï¼Œæˆ‘ä»¬è¸ä¸Šäº†ğŸ‡²ğŸ‡½åæ˜†ä¹‹æ—…ã€‚è¿™æ¬¡å®Œå…¨æ²¡åšè®¡åˆ’ï¼Œä¸€åˆ‡é¡ºå…¶è‡ªç„¶ã€‚ä»å†°å¤©é›ªåœ°è·³åˆ°é˜³å…‰æ²™æ»©ï¼Œè¿™ä¸ªå†²å‡»æ„Ÿå¾ˆç¾å¦™ã€‚æ¯å¤©å¯ä»¥ä¸åœ¨ä¹æ—¶é—´ï¼Œå®Œå…¨è‡ªç”±åŒæ ·éš¾èƒ½å¯è´µã€‚æˆ‘ä»¬ä¸€åŠçš„æ—¶é—´åœ¨èººç€ï¼Œåœ¨é…’åº—åœ¨æ²™æ»©ï¼Œçœ‹ç”µå½±çœ‹ä¹¦ã€‚ä¸€åŠçš„æ—¶é—´åœ¨é™„è¿‘çš„æ™¯ç‚¹ï¼Œä¸›æ—é‡‘å­—å¡”å’Œæ°´ä¸Šä¹å›­ã€‚</p>

<ul>
  <li>ç›é›…çš„é‡‘å­—å¡”æ˜¯æˆ‘æ¥ä¹‹å‰æœ€å‘å¾€çš„ï¼Œæˆ‘ä»¬å»äº† Chichen Itza, Coba å’Œ Tulumã€‚é‡‘å­—å¡”è™½ç„¶ä¸å¦‚æˆ‘æƒ³è±¡ä¸­å£®è§‚ï¼Œä½†æ˜¯äº†è§£å„ç§ç»†èŠ‚æ‰çŸ¥é“å…¶ä¸­å¥¥å¦™ï¼Œå°¤å…¶å…³äºå½“æ—¶äººä»¬å¯¹å®‡å®™ã€æ—¶é—´ã€ç¥çš„ç†è§£ã€‚ç›é›…äººä»¥æ‰‹è„šæ•°ç›® 20 ä½œä¸ºè®¡æ•°å•ä½ï¼Œéšä¹‹è€Œæ¥çš„æ˜¯æ¯ä¸ªæœˆ 20 å¤©ï¼Œä¸€å¹´ 18 ä¸ªæœˆï¼Œç•™ä¸‹ 5 å¤©ç¦å¿Œæ—¥ã€‚çºªå¹´ä¹Ÿå¦‚æ­¤ï¼Œä¸æ˜¯åè¿›åˆ¶çš„ 2020-01-01ï¼Œè€Œæ˜¯BC3000å¹´å·¦å³çš„å…ƒå¹´å¼€å§‹ç®—èµ·ï¼Œä»¥äºŒåè¿›åˆ¶è®¡ç®—å¤©æ•°ï¼š13.0.7.2.7ï¼ˆè¿™ä¿¨ç„¶æ˜¯ä¸€ä¸ª IP åœ°å€ğŸ¤”ï¼‰ã€‚ä¼ è¯´ä¸­çš„ 2012-12-21 åªæ˜¯å¤§æ•°å­—è¿›ä¸€å˜æˆäº† 13.0.0.0.0 è€Œå·²ã€‚ï¼ˆè¿™ä¸ª <a href="https://maya.nmai.si.edu/calendar/maya-calendar-converter">Mayan Calendar Converter</a> æœ‰è¯¦ç»†çš„ä»‹ç»ï¼‰ã€‚ç›é›…çš„æ–‡å­—å’Œæ±‰å­—ä¸€æ ·æ˜¯æ–¹å—å­—ï¼Œä½†ä¸åŒçš„æ˜¯ç›é›…äººæ˜¯åœ¨ç”°å­—æ ¼å†…ç”»ç”»ï¼Œè¿˜æ¶‚ç€é¢œè‰²ï¼Œéå¸¸ç»šçƒ‚ã€‚çŸ¥ä¹ä¸Šè¿™ç¯‡è®²è§£å¾ˆå¥½çœ‹ï¼š<a href="https://www.zhihu.com/question/20774349/answer/41256347">ç ´è§£å¤±ä¼ çš„å¤æ–‡å­—ï¼ˆè±¡å½¢æ–‡å­—ã€æ¥”å½¢æ–‡å­—ç­‰ï¼‰æœ€åˆæ˜¯å¦‚ä½•è¢«ç ´è¯‘çš„ï¼Ÿ</a></li>
  <li>è¡Œç¨‹æœ€åä¸€å¤©çš„ Xcaret æ˜¯æœ€å¤§äº®ç‚¹ï¼Œä¸€åº§å»ºåœ¨ä¸›æ—å’Œæµ·æ»©ä¸Šçš„ä¸»é¢˜ä¹å›­ã€‚æˆ‘ä»¬å†æ¬¡ä½“éªŒäº†å¿«è‰‡æ‘©æ‰˜ä¼ï¼Œä¸€èµ·åœ¨å¤©ç©ºäº«å—å®é™ã€‚å¯¹äºé«˜åº¦è¿‘è§†çš„æˆ‘ï¼Œç¡®å®åˆ†ä¸æ¸…æµ·å¤©æ˜¯å¦‚ä½•ç›¸æ¥ã€‚ä½“éªŒæœ€å¥½çš„æ˜¯é‡Œè¾¹çš„ä¸€æ¡äººé€ æ²³ï¼Œä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ¸¸æ³³åˆ’è¡Œä¸€ä¸ªå°æ—¶ï¼Œå…¨ç¨‹éƒ½æ˜¯ç›é›…çš„çŸ³å¤´å»ºç­‘å’Œç»¿è‰²ä¸›æ—ã€‚è¿™æ˜¯æˆ‘æ­¤æ¬¡æ—…è¡Œæœ€ç¾å¦™çš„æ—¶å…‰ã€‚</li>
  <li>é—²æš‡æ—¶é—´åˆ·äº†ä¸€äº›æƒ³çœ‹å¥½ä¹…çš„ä¹¦å’Œç”µå½±ï¼š
    <ul>
      <li><a href="https://movie.douban.com/subject/6981153/">çˆ±å°”å…°äºº</a>è®©æˆ‘å›åˆ°äº†å¤§å­¦æ—¶å…‰ï¼ŒçŒ›åˆ·ç½—ä¼¯ç‰¹å¾·å°¼ç½—å’Œé˜¿å°”å¸•è¥¿è¯ºçš„æ—¥å­ã€‚å››ä¸ªå°æ—¶çš„ç”µå½±ï¼Œå¦‚æœå¥½çœ‹æ˜¯çœŸçš„äº«å—ã€‚<a href="https://movie.douban.com/subject/27202818/">å©šå§»æ•…äº‹</a>å¾ˆä¸é”™ï¼Œä½†æ˜¯å¥½åƒä¸é€‚åˆä¸¤ä¸ªäººä¸€èµ·çœ‹ï¼›<a href="https://movie.douban.com/subject/30390700/">ç¾å›½å·¥å‚</a>è¿™ä¸ªçºªå½•ç‰‡å°±æœ‰æ„æ€äº†ï¼Œè¯„è®ºè¯´çš„æ²¡é”™ï¼Œè¿™æ˜¯åå…«ä¸–çºªèµ„æœ¬ä¸»ä¹‰å’ŒäºŒåä¸€ä¸–çºªèµ„æœ¬ä¸»ä¹‰çš„å†²çªï¼›<a href="https://movie.douban.com/subject/15077774/">è°‹æ€ç–‘æ¡ˆ</a> æ˜¯ä¸ªäºšå½“æ¡‘å¾·å‹’æ ‡ç­¾åŒ–çš„å‚»é€¼ç”µå½±ã€‚</li>
      <li><a href="https://book.douban.com/subject/26292964/">ä¸–ç•Œå°å²</a>æ˜¯æœ¬å¾ˆå¥½çš„å†å²è¯»ç‰©ï¼Œç²—ç³™ä½†æ˜¯æœ‰å¤§è§†è§’ï¼›<a href="https://book.douban.com/subject/26672693/">ä¸€ä¸ªå«æ¬§ç»´çš„ç”·äººå†³å®šå»æ­»</a>ä¹Ÿå¾ˆå¥½è¯»ï¼Œæ•…äº‹äººç‰©å…¸å‹è€å¥—ï¼Œä½†æ˜¯ç¬”è§¦éå¸¸å¹½é»˜é¡ºç•…ã€‚çœ‹äº†å¤§åŠæœ¬<a href="https://book.douban.com/subject/30229508/">ç»Ÿè®¡å­¦å…³æˆ‘ä»€ä¹ˆäº‹</a>ï¼Œéå¸¸æµ…æ˜¾ï¼Œæˆ‘ä¸»è¦æ˜¯æ¥çœ‹åˆ°åº•ä»€ä¹ˆæ˜¯è´å¶æ–¯çš„ã€‚æ¥æ—¶çš„è·¯ä¸Šå¼€äº†èººäº†å¾ˆä¹…çš„<a href="https://www.amazon.cn/gp/product/B0177JL1O0/ref=ppx_yo_dt_b_d_asin_title_o01?ie=UTF8&amp;psc=1">é“å¾·ç»</a>ï¼ˆè¿™ä¸ªç‰ˆæœ¬å¾ˆä¸é”™ï¼‰ï¼Œçœ‹äº†å‰å››åˆ†ä¹‹ä¸€ï¼Œéå¸¸è®©æˆ‘å¤§å¼€çœ¼ç•Œï¼Œæ—¶é—´æ˜¯æ‰“ä¸ç ´æ™ºæ…§çš„ã€‚æœ¨å¿ƒçš„<a href="https://book.douban.com/subject/20440644/">æ–‡å­¦å›å¿†å½•</a>ä¹Ÿèµ°äº†å››åˆ†ä¹‹ä¸€ï¼Œæ­£å¥½é…ç€åˆšçœ‹è¿‡çš„ä¸–ç•Œå°å²ï¼Œä»æ–‡å­¦çš„è§†è§’å†æ‹ä¸€éã€‚</li>
    </ul>
  </li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w52-53-cancun-trip.jpg" alt="w52-53-cancun-trip" /></p>

<p>è§†é¢‘ <a href="https://youtu.be/earZfWDeeBU">YouTube</a>, <a href="https://v.youku.com/v_show/id_XNDQ5MjQyMDYzNg==.html">Youku</a></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/earZfWDeeBU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2 id="w51-1216---1222">W51 (12/16 - 12/22)</h2>

<ul>
  <li>Super happy to wrap up all the work before Christmas vacation, looking forward to our 2020.</li>
  <li>ç»„é‡Œçš„å¹´ç»ˆèšä¼šå†æ¬¡å±•ç°äº†è‡ªå·±çš„æ‰‹å·¥å¤©èµ‹ï¼ŒæˆåŠŸåˆ¶ä½œäº†å”¯ä¸€çš„åœ£è¯å±æˆ¿ã€‚</li>
  <li>è¿™å‘¨å®¶é‡Œçš„å¨è‰ºäº‰éœ¸å¼‚å¸¸æ¿€çƒˆï¼Œå–œç¦çš„å°é…¥è‚‰éå¸¸å®Œç¾ï¼Œå¯èƒ½å’Œæˆ‘çš„æ€’ç‚¸æ’éª¨ä¸ç›¸ä¸Šä¸‹ã€‚</li>
  <li>æ¥ä¸‹æ¥æ˜¯ 16 å¤©çš„å‡æœŸï¼šåœ¨å®¶å‘†å››å¤©ï¼Œå»åæ˜†åº¦å‡ä¸ƒå¤©ï¼Œå†å›æ¥ä¼‘æ•´äº”å¤©ã€‚æƒ³åšçš„äº‹æƒ…å¾ˆå¤šï¼Œç»§ç»­ Rust å­¦ä¹ ï¼Œçœ‹çˆ±å°”å…°äººï¼Œæ‰¾æœ¬é—²ä¹¦çœ‹ï¼Œå»æµ·è¾¹è£…æ­»ï¼Œæ–°å¹´å›æ¥å»ä¸Šç¬¬ä¸€å ‚æ»‘é›ªè¯¾ã€‚æœŸå¾…ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w51-collage.jpg" alt="w51-collage" /></p>

<h2 id="w50-1209---1215">W50 (12/09 - 12/15)</h2>

<ul>
  <li>Pick up my Rust learning by finishing reading and practicing <a href="https://github.com/rust-unofficial/too-many-lists">rust-unofficial/too-many-lists</a>, which is such an interesting read. What I enjoy the most is the feeling (or illusion) of getting a new or deeper understanding about something I thought I knew.</li>
  <li>Nikki ä¸ºæœŸå…­å‘¨çš„ Level 1 è¯¾ç¨‹è¿™å‘¨äºŒç»“æŸäº†ï¼Œæˆ‘ä»¬çŸ­æš‚çš„å­¦ç”Ÿå®¶é•¿ä½“éªŒä¹Ÿåˆ°æœŸäº†ã€‚Nikki ä½œä¸ºç­çº§æœ€è°ƒçš®æ£è›‹çš„ï¼Œæ¯æ¬¡ä¸Šè¯¾éƒ½å¤§å£°è¯´è¯ï¼Œå¼€å§‹ä¸¤æ¬¡è¯¾çœŸæ˜¯è®©æˆ‘ä»¬å¤´ç–¼æ¬²è£‚ã€‚æ²¡åŠæ³•ï¼Œåªèƒ½ç¡¬æŒºä¿æŒè€å¿ƒï¼Œè·Ÿå–œç¦æŠ¥å›¢å–æš–ã€‚ç°åœ¨å›çœ‹ï¼Œå¦‚æœä»¥å¤©ä¸ºè·¨åº¦ï¼Œé‚£å¤šæ˜¯æ— å¥ˆï¼Œä½†æ˜¯å¦‚æœæ”¾å¤§åˆ°æ¯å‘¨ï¼Œé‚£ç¡®å®ä¸€ç›´éƒ½åœ¨è¿›æ­¥ã€‚æœ€åä¸€è¯¾æœŸæœ«è€ƒè¯•ï¼ŒNikki è®©æ‰€æœ‰äººåˆ®ç›®ç›¸çœ‹ï¼ˆè¦æˆ‘è¯´åªæ˜¯æ­£å¸¸å‘æŒ¥åœ¨å®¶çš„æ°´å‡†è€Œå·²ï¼‰è·å¾—äº†ç¬¬ä¸‰åï¼Œä¸€æ—è€çˆ¶äº²è€æ¯äº²æ¬£æ…°ä¸å·²ã€‚</li>
  <li>å§¥çˆ·çªç„¶ç¦»ä¸–ï¼Œ2019å¹´12æœˆ13æ—¥ã€‚æˆ‘å¿ƒé‡Œæ²¡æœ‰ç‰¹åˆ«éš¾è¿‡ï¼Œä¼¤å¿ƒä¸»è¦æ¥è‡ªå¯¹å¦ˆå¦ˆå’Œå¤§èˆ…çš„æ„ŸåŒèº«å—ã€‚ä¸€æ™šä¸Šéƒ½æœ‰ç‚¹ææƒšï¼Œè„‘å­åœ¨ä¸æ–­æœç´¢è®°å¿†ï¼Œå¸Œæœ›ç•™ä¸‹ä¸€äº›ç¾å¥½çš„ç”»é¢ã€‚è‡³æ­¤ï¼Œæˆ‘ä¸æ›¾æ€€ç–‘çš„ç†åº”å­˜åœ¨çš„çˆ·çˆ·å¥¶å¥¶å§¥å§¥å§¥çˆ·å…¨éƒ½æ¶ˆå¤±åœ¨äº†è¿™ä¸ªä¸–ç•Œã€‚æ„Ÿè°¢ä½ ä»¬ç»™çš„çˆ±å’Œå›å¿†ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w50-collage.jpg" alt="w50-collage" /></p>

<h2 id="w49-1202---1208">W49 (12/02 - 12/08)</h2>

<ul>
  <li>å‘¨ä¸­åŒäº‹é—®äº†ä¸€ä¸ªç®€å•çš„ Rust é—®é¢˜ï¼Œå‘ç°ä¸¤ä¸ªæœˆä¸ç”¨ï¼Œè„‘å­åˆåŸºæœ¬å¿˜å…‰äº†ã€‚æ‰€ä»¥å‘¨æœ«å¼€å§‹äº†è¿™ä¸€å¹´ç¬¬ä¸‰æ¬¡é˜…è¯» <a href="https://doc.rust-lang.org/book/#the-rust-programming-language">The Rust Programming Language</a>ã€‚è¿™å›ä¸ç”¨ä¸€ç« ç« è¯»äº†ï¼Œé¡ºç€è„‘å­é‡Œçš„é—®é¢˜å»å¯»æ‰¾å°±å¥½äº†ã€‚</li>
  <li>å‘¨å››æ™šä¸Šå’Œ David, Alex å» Apollo çœ‹äº† <a href="https://www.imdb.com/title/tt0052520/">The Twilight Zone</a> çš„ 60 å¹´é‡æ˜ ï¼Œä½œä¸º 59 å¹´å¼€æ’­çš„ç§‘å¹»é»‘è‰²æ•…äº‹é›†ï¼Œå¯ä»¥è¯´æ˜¯å½“æ—¶çš„é»‘é•œã€‚æœ‰äº›ä¸œè¥¿çœŸçš„æ˜¯è¢«æ—¶é—´å†²ä¸ç ´çš„ï¼Œæˆ–è€…è¯´ 60 å¹´å®Œå…¨æ€ä¸èµ·æ—¶é—´çš„æ³¢æ¾œã€‚æˆ‘å¸¸å¸¸å¹»æƒ³ï¼Œå¦‚æœæŠŠé»‘ç™½æ¢æˆå½©è‰²å½±åƒï¼Œé‚£å½“æ—¶å’Œç°åœ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
  <li>è¿™å‘¨åšäº†å››æ¬¡æ™šé¥­ï¼Œè¿˜å»äº†è¶Ÿèœå¸‚åœºï¼Œäººç”Ÿå·…å³°ï¼Œå€¼å¾—è¡¨æ‰¬ â˜ºï¸</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w49-collage.jpg" alt="w49-collage" /></p>

<h2 id="w48-1125---1201">W48 (11/25 - 12/01)</h2>

<ul>
  <li>Iâ€™m actively shifting my focus and time to daily life in terms of work life balance, but apparently Iâ€™m leaning over so much that I lost my balance, particularly the morning time. I just keep wondering is it worth it? To sacrifice my high productivity for dog walking and cat feeding</li>
  <li>å‘¨äºŒè¯¾å ‚ä¸Šåˆšåˆšæ¬£æ…°è§åˆ° Nikki çš„è¿›æ­¥ï¼Œå°±å‘è§‰å¥¹å¥½åƒå¤§æ­¥è¿ˆè¿›äº†é’æ˜¥æœŸï¼Œå„ç§æ–—å¿—æ˜‚æ‰¬çš„ä¸å¬è¯ã€‚è¿ç€ä¸‰å¤©æˆ‘éƒ½å¿ä¸ä½ç”Ÿæ°”ï¼Œåªèƒ½è·Ÿå–œç¦æŠ¥å›¢å–æš–ï¼Œäº’ç›¸å®‰æ…°ã€‚</li>
  <li>è¿™ä¸€å‘¨çš„å…´å¥‹è¢«è¿ªå·´æ‹‰çš„ç¥å¥‡ä»»æ„çƒæ‰¿åŒ…äº†</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w48-collage.jpg" alt="w48-collage" /></p>

<h2 id="w47-1118---1124">W47 (11/18 - 11/24)</h2>

<ul>
  <li>æœ€è¿‘å·¥ä½œå¾ˆå¿™ç¢Œï¼Œå‡†å¤‡äº†åŠå¹´çš„é¡¹ç›®ï¼ŒMitch ä¸‹å‘¨è¦å»ç»™ CEO åš demoã€‚å¤§å®¶é½å¿ƒååŠ›èµ¶è¿›åº¦ï¼Œå¾ˆæœŸå¾…ä¸‹å‘¨çš„ç»“æœã€‚</li>
  <li>è¿™å‘¨æ¥å›è·¯ä¸Šè¿˜æœ‰æ•£æ­¥çš„æ—¶é—´å¬å®Œäº† <a href="https://serialpodcast.org/season-one">Serial ç¬¬ä¸€å­£</a>ã€‚åŸºæœ¬ä¸Šè®²äº†ä¸€ä¸ªå‘ç”Ÿåœ¨ 99 å¹´ï¼Œæ€ä¹ˆçœ‹éƒ½åƒæœ‰å†¤æƒ…ï¼Œä½†å°±æ˜¯æ²¡æœ‰å…³é”®è¯æ®æ´—è„±ç½ªåçš„æ¡ˆä»¶ã€‚è¿™ä¸ªæ’­å®¢å¸®å¿™é‡‡è®¿å›æº¯äº†å½“å¹´çš„å„ç§ç»†èŠ‚ï¼Œ2014 å¹´æ’­å‡ºä¹Ÿæ”¶è·äº†å¾ˆå¤šæ–°çš„åé¦ˆï¼Œç‹±ä¸­ä¸»è§’å¾—ä»¥é‡æ–°å¼€å¯ç”³è¯‰ã€‚ä½†æ˜¯æˆ‘ç¿»åˆ°ç½‘ç«™çš„æœ€åæ›´æ–°2019å¹´3æœˆï¼Œå·æœ€é«˜æ³•é™¢ 4:3 é©³å›äº†é‡æ–°å®¡ç†çš„ç”³è¯‰ï¼Œå¿ƒé‡Œæœ‰ç‚¹å¤±è½ï¼ŒçœŸç›¸åœ¨å“ªé‡Œï¼Ÿ</li>
  <li>è‡ªä»å¹²äº† Power of Now çš„é¸¡æ±¤ï¼Œæœ‰æ„è¯†çš„å‘Šè¯‰è‡ªå·±ï¼ˆå¹¶ä¸”ç›¸ä¿¡ï¼‰åœ¨å·¥ä½œç”Ÿæ´»ä¸­å‘ç”Ÿæ´»å€¾æ–œï¼Œå‘¨æœ«ä¹Ÿè¿‡çš„æ›´åŠ ç²¾å½©ã€‚å’Œå–œç¦ä¸€èµ·æ”¶æ‹¾å±‹å­ï¼Œå»é™¢å­æ¡è½å¶ï¼Œå¸¦ Nikki å‡ºé—¨ç©ï¼Œçœ‹çƒçœ‹å‰§ï¼Œåƒç«é”…ï¼Œè¿˜ä¸€èµ·åšäº†ä¸ª wishlist çš„é¡¹ç›®ï¼Œå¾ˆå¼€å¿ƒã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w47-who-is-eating-mud.jpg" alt="w47-who-is-eating-mud" /></p>

<h2 id="w46-1111---1117">W46 (11/11 - 11/17)</h2>

<ul>
  <li>Nikki è¿æ¥äº†å¥¹ç‹—ç”Ÿçš„ç¬¬ä¸€åœºå¤§é›ªï¼Œå–œå‡ºæœ›å¤–ï¼Œåˆ°å„å¤„çš„æ´ç™½æ— ç—•çš„é›ªå †ä¸­è¹¦è¿ªã€‚å‘¨äºŒå¸¦å¥¹å»ä¸Šäº†ç¬¬äºŒèŠ‚è¯¾ï¼Œæ·±æ·±åœ°æ„Ÿå—åˆ°åšç†Šå­©å­å®¶é•¿çš„æ— å¥ˆï¼Œå·²ç»æ·±å‘¼å¸çš„è€å¿ƒåœ¨è¯¾ç¨‹ååŠæ®µæ¶ˆå¤±æ®†å°½ï¼Œä¿¡å¥½æœ‰å–œç¦åœ¨æ—è¾¹æ¥æ‰‹æ•‘åœºã€‚å›æ¥çš„è·¯ä¸Šä¸æ–­åæ€ï¼Œè²Œä¼¼åœ¨ç‹—ç‹—æ•™è‚²çš„ä¸Šåªæœ‰ä¸è¿›åˆ™é€€ï¼Œä¸ç”¨â€œæ­£ç¡®â€çš„æ–¹å¼å°±å‡ ä¹å°±åœ¨å…»æˆâ€œé”™è¯¯â€ã€‚è°ƒæ•´å¥½å¿ƒæ€ï¼Œç»§ç»­ç²—å‘ã€‚</li>
  <li>å‘¨å››æ˜¯å…¬å¸ eng offsiteï¼Œä¸Šåˆä¸€ç›´åœ¨è®¤çœŸ socialï¼Œå˜˜å¯’é—®æš–æçš„æˆ‘å£å¹²èˆŒç‡¥ã€‚ä¸­åˆå¾ˆæ„å¤–åœ°ç¢°åˆ°ä¸€å †ååœ¨è§’è½åƒé¥­çš„æœ‹å‹ï¼Œå¼€å§‹äº’ç›¸åæ§½æ´»åŠ¨çš„æ— èŠï¼Œæˆç«‹å®Œè‡ªé—­å°ç»„åæœæ–­è¶æœºä»¥å›¢é˜Ÿæ´»åŠ¨ä¸ºç”±æ—©æ—©ç¦»åœºã€‚</li>
  <li>å‘¨äº”æ˜¯ 31 å²ç”Ÿæ—¥ï¼Œæ­£èµ¶ä¸Šæˆ‘ä»¬ç»„å›¢å»ºï¼Œå¤§å®¶å»æ‰”æ–§å­ï¼Œç„¶åç»™æˆ‘å’Œ Stephen ä¸€èµ·è¿‡äº†ç”Ÿæ—¥ã€‚æ™šä¸Šç…§ä¾‹å’Œå–œç¦åƒé¥­åº†ç¥ï¼Œå¾ˆå¹³å’Œå¾ˆç¾å¥½ã€‚å›æƒ³ 30 å²æ—¶å€™ï¼Œè‡ªå·±å¥½åƒåœ¨ç—›è‹¦æ€ç´¢å¯»æ‰¾ä¸€ä¸ªä¸çŸ¥é“é—®é¢˜çš„ç­”æ¡ˆï¼Œç°åœ¨å·²ç»å¾ˆå¹³é™æ¥å— 31 å²çš„ç°å®ã€‚çªç„¶è§‰ç€è‡ªå·±å¾ˆå‚»é€¼ï¼Œå“ªé‡Œæ˜¯æ—¶é—´ç»™æˆ‘ä»€ä¹ˆè§¦åŠ¨å‘¢ï¼Œä¸è¿‡æ˜¯æ„šè ¢çš„å¯¹æ•°å­—çš„æ•æ„Ÿç½¢äº†ã€‚</li>
  <li>Re-watch the <a href="https://movie.douban.com/subject/1291839/">Blade Runner</a> based on the story setting, in Nov 2019.</li>
  <li>Do our homework and book the trip to Cancun during Christmas time.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w46-collage.jpg" alt="w46-collage" /></p>

<h2 id="w45-1104---1110">W45 (11/04 - 11/10)</h2>

<ul>
  <li>è·Ÿçˆ¸å¦ˆä¸èˆå‘Šåˆ«ï¼Œäº’ä»¥çœ¼æ³ªç›¸èµ ï¼ŒæœŸå¾…æ˜å¹´å†ç›¸é€¢ã€‚</li>
  <li>æ—¥å­åˆå›åˆ°ä»å‰çš„çŠ¶æ€ï¼Œé›ç‹—å–‚çŒ«ï¼Œè®¤çœŸå·¥ä½œï¼Œæ‰“çƒï¼Œçœ‹ç”µå½±çœ‹æ¯”èµ›ï¼Œä½†æ˜¯æˆ‘èƒ½æ„Ÿå—åˆ°è‡ªå·±å¿ƒæ€çš„å˜åŒ–ã€‚æˆ‘ç›¸ä¿¡æˆ‘åœ¨å˜è€å¿ƒï¼Œæœ‰æ„è¯†çš„å‘Šè¯‰è‡ªå·±ä¸è¢«æ—¶é—´å½±å“ï¼Œä¸å› æœªæ¥è€Œç„¦è™‘ã€‚</li>
  <li>ç¬¬ä¸€æ¬¡å¸¦ Nikki å»ä¸Šè¯¾ï¼Œå‘ç°è¦å­¦çš„å¥½å¤šå‘€ã€‚è€å¸ˆå‘äº†ä¸€æœ¬å››äº”ç™¾é¡µçš„è®²ä¹‰ï¼Œè¯¾åè¿˜è¦æ¸©ä¹ å’Œç»ƒä¹ ã€‚ä¸ºäº†ç‹—å­ï¼Œè¿™é—¨è¯¾æˆ‘ä¸èƒ½å¼ƒã€‚</li>
  <li>å‘¨æœ«å»çœ‹äº† <a href="https://movie.douban.com/subject/27119724/">Joker</a>ï¼Œæ²¡æœ‰è®©æˆ‘å¤±æœ›ï¼Œå¾ˆæœŸå¾…ä»Šå¹´ Joaquin Phoenix ä¼šå¾—å¥–ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w45-collage.jpg" alt="w45-collage" /></p>

<h2 id="w44-1028---1103">W44 (10/28 - 11/03)</h2>

<ul>
  <li>è¿™å‘¨çš„èŠ‚å¥å¾ˆç¨³å®šï¼Œç™½å¤©è®¤çœŸå·¥ä½œï¼Œæ™šä¸Šåƒé¥­æ‰“éº»å°†ã€‚çˆ¸å¦ˆæ¥ç©çš„æœ€åä¸€å‘¨äº†ï¼Œä¸€ä¸ªæœˆçš„æ—¶é—´è¿‡å¾—é£å¿«ã€‚</li>
  <li>ä¸€å‘¨çš„é˜´é›¨ç»µç»µï¼ŒåŸºæœ¬æ‰«æ¸…äº†æ ‘ä¸Šå‰©ä½™çš„å¶å­ï¼Œç®—æ˜¯å¯¹è¿™ç¾ä¸½çš„å­£èŠ‚åšäº†å‘Šåˆ«ã€‚ä»Šå¹´çš„ç§‹å¤©æœ‰å¾ˆå¤šéš¾å¿˜çš„å›å¿†ï¼Œæ„Ÿè°¢å¤§è‡ªç„¶çš„ç¾å¥½ã€‚</li>
  <li>å–œç¦çš„ PR é¢è¯•é€šè¿‡ï¼Œè¿™ä¸¤å‘¨ä¼šæ‹¿åˆ°æ«å¶å¡ï¼Œä¸€åˆ‡é¡ºåˆ© âœŒï¸</li>
  <li>åœ¨åŒäº‹çš„å¸¦é¢†ä¸‹ï¼Œç¬¬ä¸€æ¬¡å°è¯•äº† pumpkin carving ğŸƒï¼Œæ¯”æˆ‘é¢„æƒ³çš„è¦æœ‰è¶£ã€‚æˆ‘å‘ç°æ‰‹å·¥æ˜¯èƒ½è®©æˆ‘è¿›å…¥å¹³é™çŠ¶æ€çš„ã€‚å› ä¸ºæ­¥éª¤ç®€å•ï¼Œæ‰€ä»¥å®¹æ˜“è¾¾åˆ°ä¸“æ³¨ï¼›å› ä¸ºè¡ŒåŠ¨å¤§è¿‡æ€è€ƒï¼Œæ‰€ä»¥å®¹æ˜“è¿›å…¥æ‘’å¼ƒæ€è€ƒçš„ä¸“æ³¨çŠ¶æ€ã€‚æŒ‰ç…§ The Power of Now çš„ç†å¿µï¼Œè¿™å°±æ˜¯äººä»¬æƒ³è¦çš„å¹³é™ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w44-collage.jpg" alt="w44-collage" /></p>

<h2 id="w43-1021---1027">W43 (10/21 - 10/27)</h2>

<ul>
  <li>Keep reading <a href="https://www.goodreads.com/book/show/6708.The_Power_of_Now">The Power of Now</a>
    <ul>
      <li>I got blown away by the main idea that â€œyou get into presence by watching the mindâ€, so simple but so powerful. This is the first time that I read a spiritual book, which makes me surprised and suspicious at the same time. You can never prove it scientifically, but you can just follow the angle it provides and reflect it in your mind. I like it so far.</li>
    </ul>
  </li>
  <li>ä¸ç®¡å·¥ä½œä¸Šå¤šå°‘äº‹æƒ…ï¼Œæ¯å¤©ä¸‹ç­åŸºæœ¬éƒ½åˆ‡æ–­äº†è”ç³»ï¼Œäº«å—è·Ÿçˆ¸å¦ˆåœ¨ä¸€èµ·çš„æ—¶å…‰ã€‚å‘¨ä¸­ä¸€èµ·æ‰“éº»å°†ï¼Œå‘¨æœ«å»é€›äº† Niagara Fallã€‚</li>
  <li>æœ¬æ¥çš„æ‰“ç®—æ˜¯ä»Šå¹´ä¸ä¹°è¡£æœï¼Œå¸Œæœ›è‡ªå·±ä¸æ–­å‡å°‘å¤–åœ¨å¸¦æ¥çš„æ»¡è¶³æ„Ÿã€‚ä½†æ˜¯å–œç¦è´¨é—®æˆ‘è¿™ä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œè¿™é‡Œçš„å…³ç³»ä¸åº”æ˜¯åˆ‡æ–­ï¼Œè€Œæ˜¯ä¿æŒåœ¨ä¸€ä¸ªç¨³å®šçš„ä½éœ€æ±‚ä¸Šã€‚æˆ‘è®¾æƒ³äº†ä¸‹ç†æƒ³çš„çŠ¶å†µï¼šæ‰€æœ‰çš„è¡£æœéƒ½æœ‰æœ€ç®€å•çš„é¢œè‰²æ ·å¼ï¼Œèˆ’æœè´¨é‡å¥½ï¼Œæ¯å¤©æ‰“å¼€è¡£æŸœè®©æˆ‘ä¸èŠ±ä¸€ç‚¹æ—¶é—´æ€è€ƒã€‚å‘¨æœ«éšå¤§å®¶å»å•†åœºä¹°ä¹°ä¹°ï¼Œæäº†ä¸€å †æ— å·®åˆ«å†…è¡£è£¤ï¼Œå¸Œæœ›ä¸€ç‚¹ç‚¹è¿ç§»åˆ°å¤–è¡£è£¤ä¸Šã€‚</li>
  <li>Nikki é•¿å¤§äº†ï¼Œå¼€å§‹ç»ƒä¹ ä¸€å˜´å¼ä¿©çƒäº†â€¦èµµå››ä¹Ÿæˆç†Ÿäº†ï¼Œç»§æ‰¿äº†å®¶é‡Œçš„ä¼ ç»Ÿï¼Œçœ‹çƒ­é—¹æ‰“éº»å°†ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w43-collage.jpg" alt="w43-collage" /></p>

<h2 id="w42-1014---1020">W42 (10/14 - 10/20)</h2>

<p>è¿™ä¸€å‘¨ä¸€ç›´åœ¨è·¯ä¸Šï¼Œè·Ÿå–œç¦å¸¦ç€çˆ¸å¦ˆä¸œéƒ¨ä¹‹æ—…</p>

<ul>
  <li>10.12 - 10.14 Kingston</li>
  <li>10.15 - 10.17 Montreal</li>
  <li>10.18 - 10.19 Ottawa</li>
</ul>

<p>æˆ‘ä¸€ç›´å¾ˆå–œæ¬¢ç§‹å¤©ï¼Œè‚ƒç©†ï¼Œè§ç‘Ÿï¼Œæ¯å¤©äº”ç‚¹é’Ÿéƒ½åƒæ˜ŸæœŸæ—¥çš„æ™šéœï¼Œä¸è‡ªè§‰åœ°æ€…ç„¶è‹¥å¤±ã€‚æ¥åŠ æ‹¿å¤§ç¬¬ä¸‰å¹´ï¼Œä¹‹å‰åªåœ¨è·¯ä¸Šå¶å°”æ„Ÿå¹ç§‹å¤©çš„é¢œè‰²ï¼Œè½¬çœ¼å°±å…¥äº†å†¬ã€‚ä»Šå¹´èµ°å‡ºå»ï¼Œå‘ç°ç§‹å¤©å¹¶ä¸çŸ­æš‚ï¼Œåªæ˜¯æˆ‘ä»æœªè®¤çœŸå¯»æ‰¾ã€‚</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w42-collage.jpg" alt="w42-collage" /></p>

<h2 id="w41-1007---1013">W41 (10/07 - 10/13)</h2>

<ul>
  <li>Attend <a href="https://www.speakerlabs.ca/">Speaker Labs</a>. In addition to the public speaking skills, there is one takeaway particularly for me
    <ul>
      <li>No matter how much effort I put into ignoring other peopleâ€™s opinion, I should admit, I do care. Thatâ€™s one source of truth which makes me anxious, uncomfortable and not happy.</li>
      <li>Itâ€™s not wrong to care about other peopleâ€™s opinions, which is exactly how we gain effective feedback from the world. However, the most difficult part is to show yourself to the world, be exposed, be vulnerable, and make the first step.</li>
    </ul>
  </li>
  <li>Start reading <a href="https://www.goodreads.com/book/show/6708.The_Power_of_Now">The Power of Now</a>
    <ul>
      <li>An exercise: Take any routine activity that normally is only a means to an end and give it your fullest attention, so that it becomes an end in itself. For example, every time you walk up and down the stairs in your house or place of work, pay close attention to every step, every movement, even your breathing. Be totally present.</li>
    </ul>
  </li>
  <li>å‘¨æœ«æŠŠèµµå››å’Œ Nikki é€èµ°ï¼Œè·Ÿå–œç¦å’Œçˆ¸å¦ˆå¼€å¯ä¸€å‘¨çš„åŠ ä¸œä¹‹æ—…ã€‚å‘¨æœ«åœ¨ Kingstonï¼Œæ²¡äººçš„æ¹–æ»¨å°é•‡ï¼Œæ¬£èµç§‹è‰²ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w41-collage.jpg" alt="w41-collage" /></p>

<h2 id="w40-0930---1006">W40 (09/30 - 10/06)</h2>

<ul>
  <li>æƒ³èµ·ä¸€å¹´å‰è¿™ä¸ªæ—¶å€™è¿˜æ˜¯ç‹¬è‡ªç”Ÿæ´»ï¼Œç°åœ¨æœ‰äº†å–œç¦ï¼Œèµµå››ï¼ŒNikkiï¼ŒåŠ ä¸Šçˆ¸å¦ˆæœ€è¿‘æ¥è®¿ï¼Œæ—¶é—´å®Œå…¨è¢«ç‚¸å¼€äº†ã€‚å¾ˆéš¾å†æ‰¾åˆ°ä¸€æ•´å—å®‰é™è‡ªåœ¨çš„æ—¶é—´ï¼Œå“ªæ€•å»æµªè´¹ã€‚æˆ‘å¸Œæœ›è¿™ä¼šæ˜¯ç”Ÿæ´»ä¸­å¥½çš„å˜åŒ–ï¼Œå‡†ç¡®æ¥è¯´ï¼Œæˆ‘éœ€è¦æ›´å¥½çš„é€‚åº”è®©å®ƒå˜æˆå¥½çš„å˜åŒ–ã€‚æš‚æ—¶æƒ³åˆ°è¿™ä¹ˆå‡ ç‚¹ï¼šä¸‹ç­ä¸å†ä¸ºå·¥ä½œçƒ¦å¿ƒï¼›è·Ÿå–œæ¬¢çš„äººï¼ˆğŸ±ğŸ¶ï¼‰ä¸è¦åœ¨æ„æ—¶é—´çš„å¾—å¤±ï¼›æ¥å—å±äºè‡ªå·±çš„æ—¶é—´å¤šæ•°éƒ½æ˜¯çç¢çš„ã€‚</li>
  <li>è¿™å‘¨çš„ä¸»é¢˜æ˜¯æ¯å¤©é™ªçˆ¸å¦ˆå¤§åƒå¤§å–ï¼Œé€®ç€å¥½å¤©æ°”å°±å»å…¬å›­å’Œ Trail é›ç‹—æ•£æ­¥ã€‚è·Ÿå–œç¦ä¸€èµ·è®¢äº†ä¸‹ä¸‹å‘¨å‡ºè¡Œçš„è·¯çº¿å’Œé…’åº—ï¼Œéå¸¸æœŸå¾…ã€‚å‘¨æœ«ä¸€èµ·æ¥å…¬å¸æ‰“ä¹’ä¹“ï¼Œæ²¡æƒ³åˆ°ä¿©äººç«Ÿç„¶å¯¹è¿™ç©æ„æ„Ÿå…´è¶£</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w40-collage.jpg" alt="w40-collage" /></p>

<h2 id="w39-0923---0929">W39 (09/23 - 09/29)</h2>

<ul>
  <li>æ¯å‘¨çš„å·¥ä½œå·²æœ‰äº†èŒƒå¼ã€‚é¢å¯¹å¹²ä¸å®Œçš„æ´»ï¼Œå‘¨ä¸€å‘¨äºŒä¸‰éƒ½è‡ªå¸¦é¸¡è¡€ï¼Œå‘¨å››å¼€å§‹å½·å¾¨ï¼Œå‘¨äº”è®¤çœŸåˆ’æ°´ã€‚æ²¡æœ‰å¤ªå¤šç²¾åŠ›å›æ¥ç»§ç»­ä¹‹å‰çš„å­¦ä¹ ã€‚</li>
  <li>çˆ¸å¦ˆå‘¨äº”æ™šä¸Šåˆ°è¾¾ï¼Œä¸€è·¯å¥”æ³¢æˆ‘éƒ½åœ¨æ‹…å¿ƒå‡ºå·®é”™ï¼Œä½†æ˜¯å¾ˆå¥½ï¼Œä¸€åˆ‡é¡ºåˆ©ã€‚å‘¨æœ«å¾ˆå¼€å¿ƒï¼Œé™ªç€ä»–ä»¬å››å¤„é—²é€›ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w39-dancing-pa-ma.gif" alt="w39-dancing-pa-ma" /></p>

<h2 id="w38-0916---0922">W38 (09/16 - 09/22)</h2>

<ul>
  <li>è¿™å‘¨æ²¡å†™ä»£ç ï¼ŒåŸºæœ¬éƒ½åœ¨å¼€ä¼šï¼Œè®¨è®ºï¼Œå†™æ–‡æ¡£ã€‚æ¯”æˆ‘æƒ³è±¡ä¸­çš„è½»æ¾ã€‚</li>
  <li>å–œç¦å»æ¸©å“¥åå‡ºå·®ï¼Œæˆ‘æ¯å¤©ä¸‹åˆåœ¨å®¶åŠå…¬ä¼ºå€™ä¸»å­å’Œç‹—å­ã€‚ä¸ç‹—å­æ–—æ™ºæ–—å‹‡ï¼Œå¥½å‡ æ¬¡è¢«æçš„ç¥çƒ¦ã€‚ä¸æ–­å‘Šè¯«è‡ªå·±è¦æœ‰è€å¿ƒï¼Œç‹—å­çš„è¡¨ç°åŸºæœ¬æ˜¯æˆ‘è„¾æ°”çš„æŠ•å½±</li>
  <li>å‘¨æœ«ä¸€èµ·å¸¦ç‹—å­å» Waterloo Park è½¬äº†ä¸€åœˆï¼Œå…¶å®ä¹Ÿåªå…¬å›­ä¸€è§’ã€‚æ¯å¤©åœ¨å®¶é£é£ç«ç«å·¡å¤©å…¥åœ°ï¼Œæ¥äº†å¤§è‰åŸå°±å’©å’©æ‰¾å¦ˆå¦ˆã€‚å¼€ç©ç¬‘ï¼Œç‹—å­è¯·èµ·ï¼Œæ¥å—¨ï¼</li>
  <li>Podcasts sharing
    <ul>
      <li><a href="https://dissectpodcast.com/2016/08/25/s1e2-good-kid-m-a-a-d-city/">S1E2 â€“ good kid, m.A.A.d. city â€“ dissect</a></li>
      <li><a href="https://30for30podcasts.com/episodes/a-queen-of-sorts/">A Queen Of Sorts - 30 for 30 Podcasts</a></li>
    </ul>
  </li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w38-cat-dog-collage.jpg" alt="w38-cat-dog-collage" /></p>

<h2 id="w37-0909---0915">W37 (09/09 - 09/15)</h2>

<ul>
  <li>å‘¨ä¸€æ˜¯èµµå››ä¸€å‘¨å²ç”Ÿæ—¥ï¼ä½ çœŸæ˜¯è¶Šæ¥è¶Šæ‹›äººå–œæ¬¢ï¼Œå°¤å…¶æ˜¯ç‹—å­æ¥äº†å’±ä»¬å®¶ä¹‹åã€‚ç¥ä½ ä¿æŒå¯¹è¿™ä¸ªä¸–ç•Œçš„å†·æ¼ ï¼Œæ°¸è¿œå¹´è½»ï¼Œæ°¸è¿œæ— æ‰€äº‹äº‹ã€‚</li>
  <li>å‘¨äºŒå‘Šåˆ«äº†é­å“¥ï¼ŒAmy å’Œ Mollyï¼Œè™½ç„¶æ—©æœ‰å‡†å¤‡ï¼Œä½†è¿˜æ˜¯ä¼šè§‰ç€ç”Ÿæ´»æ–­äº†æ ¹çº¿ã€‚æœ‰ç¼˜å†è§å•¦ï¼</li>
  <li>Go to St. Louis for StrangeLoop 2019. There are three talks that I really like
    <ul>
      <li><a href="https://www.youtube.com/watch?v=g1ib43q3uXQ&amp;feature=youtu.be">How to teach programming (and other things) - Felienne Hermans</a> It brings up an interesting idea that people prefer â€œexploration and self-taughtâ€ over â€œexplanation and exerciseâ€ only in computer science, which worths us a second thoughts.</li>
      <li><a href="https://www.youtube.com/watch?v=ItASl4SdPO0">Towards an open and Reason(ML)able web - Parker Ziegler</a> Great intro to ReasonML. Iâ€™ve got more interest in OCaml now.</li>
      <li><a href="https://www.youtube.com/watch?v=JMZLBB_BFNg">Parser Parser Combinators for Program Transformationâ€ by Rijnard van Tonder</a> Try this fancy tool for program transformation <a href="https://comby.live/">comby.live</a></li>
    </ul>
  </li>
  <li>å»å‚åŠ è¿™ä¸ªä¼šè®®çš„ç§å¿ƒåœ¨äºèƒ½è·Ÿè¡¨æ ¼å›¢èšã€‚å››å¹´åŠä¸è§ï¼Œè¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„èˆ’æœã€‚æœ€åä¸€æ™šåœ¨ Baileyâ€™s Range å–çš„é£èµ·ï¼Œå¼€å¿ƒã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w37-strange-loop.jpg" alt="w37-strange-loop" /></p>

<h2 id="w36-0902---0908">W36 (09/02 - 09/08)</h2>

<ul>
  <li>Finish <a href="https://github.com/rust-lang/rustlings?ref=hackr.io">rustlings</a> and start reading <a href="https://rust-unofficial.github.io/too-many-lists">Too Many Lists</a>.</li>
  <li>Teach Nikki the second command, â€œd-o-w-nâ€.</li>
  <li>çœ‹äº†å¾ˆå¤šç²¾å½©æ¯”èµ›ï¼Œç”·ç¯®ä¸–ç•Œæ¯ï¼ŒF1 è’™æ‰ï¼Œç¾ç½‘ã€‚å°è±¡æœ€æ·±çš„è¿˜æ˜¯æˆ‘å›½é¢å¯¹é€†æ³¢å…°äº†ï¼Œç–¼å•Šç–¼ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w36-anjing.jpg" alt="w36-anjing" /></p>

<h2 id="w35-0826---0901">W35 (08/26 - 09/01)</h2>

<ul>
  <li>Get a basic idea on how <a href="http://mruby.org/">MRuby</a> works. Such a fun experience.</li>
  <li>Read a chapter of Super Thinking on decision making. I love the reasoning about disadvantages of pro-con list, that the cost-benefit analysis comes into play. One new thing I learnt is the <a href="https://www.wikiwand.com/en/Le_Chatelier%27s_principle">Le Chatelierâ€™s principle</a>, aka The Equilibrium Law or homeostasis, which roughly means â€œsystem always kicks back (in some situation)â€. Neat.</li>
  <li>è¶…çº§å¼€å¿ƒå–œç¦ä¸€æ¬¡å°±é€šè¿‡äº†è·¯è¯•ï¼Œç»ˆäºç»“æŸæˆ‘ä»¬äº’ç›¸çœ‹ä¸é¡ºçœ¼çš„å­¦è½¦ä¹‹æ—…äº† ğŸ‰</li>
  <li>è¿™ä¸ª Labour Day é•¿å‘¨æœ«ä¸»è¦æ˜¯çœ‹æ¯”èµ›å’Œä¼ºå€™ç‹—å­ã€‚Nikki is our brand new $2000 alarm, organic. å…­ç‚¹åŠçš„é˜³å…‰ï¼Œæ€»èƒ½å¸¦ç»™æˆ‘å¸Œæœ›ï¼Œç ¥ç ºå‰è¡Œ ğŸ˜</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w35-a-day-of-nikki.jpg" alt="w35-a-day-of-nikki" /></p>

<h2 id="w34-0819---0825">W34 (08/19 - 08/25)</h2>

<ul>
  <li>è¿™å‘¨çš„å·¥ä½œï¼Œä¸€å¤©å›¢å»ºï¼Œä¸‰å¤© Hackdayï¼Œä»¥ç»„ç»‡çš„åä¹‰è®¤çœŸåˆ’æ°´ã€‚</li>
  <li>å…»ç‹—ç¬¬ä¸€å‘¨ï¼Œæˆ‘å’Œå–œç¦éƒ½æ˜¯ç²¾åŠ›è¢«æ¦¨å¹²ã€‚å…­ç‚¹åŠèµ·ï¼Œé›ç‹—å–‚çŒ«ï¼Œä¸æƒ³ä¸Šç­ã€‚ä»€ä¹ˆâ€œä»ä»Šå¤©èµ·ï¼Œç æŸ´å–‚é©¬ï¼Œæ˜¥æš–èŠ±å¼€â€éƒ½æ˜¯éª—äººçš„ã€‚</li>
  <li>çˆ¸å¦ˆçš„ç­¾è¯ç¬¬ä¸‰æ¬¡ç”³è¯·ï¼Œå‡ è¿‘æ›²æŠ˜ï¼Œç«Ÿç„¶æœ‰å‘äº†é€’ç­¾ä¿¡åˆæ”¶å›çš„æ—¶å€™ï¼Œè¿™å‘¨ç»ˆäºè¿‡äº† âœ…</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w34-nikki-at-peace.gif" alt="w34-nikki-at-peace" /></p>

<h2 id="w33-0812---0818">W33 (08/12 - 08/18)</h2>

<ul>
  <li>Work-wise, catch up after vacation and start looking into how <a href="https://github.com/artichoke/artichoke">Artichoke</a> works, which is a project on compiling mruby into Web Assembly. After reading the Go book and Rust book, finally, I start coding in C ğŸ˜‡</li>
  <li>Pick up our new home member, Nikki, who is a puppy girl of English type golden retriever.</li>
  <li>åˆ©ç”¨æ¯å¤©çš„å¤±çœ ï¼Œçœ‹å®Œäº†æ¯›å§†çš„<a href="https://book.douban.com/subject/26803714/">äººæ€§çš„æ·é”</a>ã€‚ä¸»äººå…¬çš„æ•…äº‹å¤§æ¦‚åœ¨ä¸‰åå²æˆ›ç„¶è€Œæ­¢ï¼Œè€Œæˆ‘æ­£å¥½åœ¨è¿™ä¸ªå¹´çºªæ¡èµ·è¿™æœ¬ä¹¦ã€‚çœ‹åˆ°äº†å¥½å¤šæˆ‘å¿ƒä¸­çš„ç–‘è™‘ï¼Œå…³äºäººç”Ÿçš„æ„ä¹‰ä¹¦ä¸­ä¹Ÿç»™å‡ºäº†æ˜ç¡®çš„ç­”æ¡ˆã€‚æˆ‘æ²¡æ³•è®¤å¯æˆ–æ˜¯æ€€ç–‘ï¼Œå› ä¸ºæœ€ç»ˆä¹Ÿéƒ½æ˜¯è¦è‡ªå·±ä¸€ç‚¹ç‚¹å¯»æ‰¾ã€‚æœŸå¾…ä¸‹ä¸€æ¬¡é‡è¯»ã€‚</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w33-nikki.jpg" alt="w33-nikki" /></p>

<h2 id="w31-32-0729---0811-vacation">W31-32 (07/29 - 08/11) Vacation</h2>

<p>ä¸€å¹´ä¸€åº¦çš„æ—…è¡Œç»ˆäºåˆ°æ¥ã€‚ä»Šå¹´çš„ä¸»é¢˜æ˜¯è¶ç€ä¸‹ä¸€ä»£æ¥ä¸´å‰æœ€åä¸€èšã€‚åœ°ç‚¹é€‰åœ¨æ¸©å“¥åï¼Œç»´å¤šåˆ©äºšå’Œç­èŠ™ã€‚å²ç§°åŠ è¥¿ä¹‹æ—…ã€‚</p>

<p>è™½ç„¶æ—…é€”æ˜¯ 7.31ï¼ˆå‘¨ä¸‰ï¼‰å‡ºå‘ï¼Œä½†æ˜¯å› ä¸ºå‘¨ä¸€å‘¨äºŒå…¬å¸å¹´ä¼šï¼Œæˆ‘æ‡’å¾—é£æ¥é£å»é€‰äº†è¿œç¨‹å‚åŠ ï¼Œæ‰€ä»¥å®é™…ä¸Šï¼Œæˆ‘ä¹‹å‰çš„å‘¨æœ«å°±å¼€å§‹æ”¾é£è‡ªæˆ‘äº†ã€‚æ“¦æ“¦ PS çš„ç°ï¼Œä¹°äº† Fifa19 å’Œ Call of Duty: WWIIï¼›å’Œæœ‹å‹ç© VRï¼Œåƒæ—¥æ–™ï¼Œç©ç‰Œï¼Œé€›å…¬å›­ï¼›è·Ÿå–œç¦åƒç«é”…çœ‹ç»¼è‰ºï¼›å¼€å§‹è¯» Good Math å’Œäººæ€§çš„æ·é”ã€‚å¥½ä¹…æ²¡è¿™ä¹ˆè½»æ¾äº†ã€‚æœ€ç›´æ¥çš„æ„Ÿå—æ˜¯ï¼Œè¿™å‡ å¤©æ—©ä¸Šå¯ä»¥ç¥æ¸…æ°”çˆ½è‡ªç„¶é†’ï¼Œè®©æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯è„‘å­æ”¾ä¸‹äº†å·¥ä½œå°±å°‘å»äº†ç´§å¼ å’Œå‹åŠ›ã€‚å‘¨äºŒæ”¶æ‹¾è¡Œæï¼ŒæŠŠèµµå››é€èµ°ï¼Œå¼€å§‹æ—…ç¨‹ã€‚</p>

<p>ï¼ˆå†™ä¸åŠ¨æ¸¸è®°ï¼Œç®€å•è®°äº›æµæ°´å¥½äº†ï¼‰</p>

<ul>
  <li>7.31 - æŠµè¾¾æ¸©å“¥åã€‚åˆé¤ Marutama æ‹‰é¢ï¼Œå…¥ä½ Airbnbï¼Œåˆ°é™„è¿‘çš„ Jericho Beach é—²é€›ã€‚æ™šä¸Š Gyukaku çƒ¤è‚‰ï¼Œåˆ° Lighthouse Park å¾’æ­¥ï¼Œèµ¶åˆ°æµ·è¾¹å‘ç°å¤ªé˜³å·²ç»ä¸‹å±±ã€‚</li>
  <li>8.1 - æ—©é¤ JJ Beanï¼Œåˆ° Tsawwassen è½®æ¸¡å» Victoriaã€‚ä¸‹åˆ Buchart Gardenï¼ŒFishhook åˆé¤ï¼Œç„¶å Downtown é—²é€›ã€‚æ™šä¸Šå›æ¥å·²ç»å¤œé‡Œï¼Œåœ¨å®½çª„å··å­ä¸²ä¸²çƒ§çƒ¤å°é¾™è™¾ã€‚</li>
  <li>8.2 - A&amp;W æ—©é¤ï¼Œåœ¨å®¶ Mario Partyã€‚ä¸­åˆ Lynn Canyon å¾’æ­¥ï¼Œç„¶å English Bay, Stanley Park éª‘è¡Œã€‚æ™šä¸Šæµ·é²œå¤§é¤ã€‚</li>
  <li>8.3 - ä¸­åˆéƒè®°ç¾Šè‚‰ï¼Œç„¶å Flyover Canadaï¼ŒGastownã€‚æ™šä¸Š Kokoro æ—¥æœ¬æ‹‰é¢ï¼Œç„¶ååœ¨ Granville Island çœ‹äº†çƒŸèŠ±ã€‚</li>
  <li>8.4 - æ—©èµ·é£å»å¡å°”åŠ é‡Œï¼Œä¸­åˆåœ¨ OMO æ—¥æœ¬é“æ¿çƒ§ï¼Œå¼€å»ç­èŠ™ã€‚Airbnb è¶…çº§èµï¼Œä¸‹åˆå» Banff Gondolaï¼Œä¸Šå»ç¬¬ä¸€çœ¼æœ‰ç‚¹æƒŠåˆ°æˆ‘äº†ã€‚å¹…å‘˜è¾½é˜”ï¼Œå¿ƒæ—·ç¥æ€¡ã€‚æ™šä¸Šåœ¨ The Park è¥¿é¤ã€‚</li>
  <li>8.5 - Lake Louise åˆ’èˆ¹ï¼Œåº”è¯¥æ˜¯æœ¬æ¬¡è¡Œç¨‹æˆ‘ä¸ªäººçœ¼é‡Œçš„é«˜å…‰äº†ï¼Œåƒæ˜¯åˆ’è¿›äº†ç”»ä¸€æ ·ã€‚ä¹‹åæ˜¯æ¢¦è²æ¹–ã€‚æ™šä¸Šåœ¨å®¶ BBQï¼Œå¾·å·ã€‚</li>
  <li>8.6 - ä¸­åˆåœ¨ Tavern Pizzaï¼Œç„¶å Fairmont é…’åº—ä¸‹åˆèŒ¶ï¼Œä¹‹åæ˜¯ Emerald Lakeã€‚æ™šä¸Šå›æ¥å» High Roller æ‰“äº†ä¿é¾„ï¼Œä¹‹åéƒ¨é˜Ÿç«é”…ï¼Œç»§ç»­å¾·å·ã€‚</li>
  <li>8.7 - æ—©é¤ Wild Flouverï¼Œä¹‹åå¼€åˆ° Peyto Lake å¾’æ­¥ï¼Œæ¬£èµæ™¯è‰²ã€‚ä¸€è·¯ç¾æ™¯å¼€åˆ° Columbia Icefieldï¼Œä½“éªŒ Anthabasca å†°å·ã€‚æ™šä¸Šéº¦å½“åŠ³ï¼Œæ”¶æ‹¾è¡Œæï¼Œæ‰“ç‰Œã€‚</li>
  <li>8.8 - å‘Šåˆ«ç­èŠ™ï¼Œå¼€å›å¡å°”åŠ é‡Œã€‚é€›äº† Costcoï¼Œåœ¨ Popeye åƒåˆé¤ã€‚æ—©æ—©åˆ°æœºåœºï¼Œåœ¨å€™æœºå£å¾·å·ã€‚äº”ç‚¹é£å›æ¸©å“¥åï¼Œæ™šä¸Šæ­£å®—å°éƒ¡è‚ä¸²ä¸²é¦™ã€‚</li>
  <li>8.9 - ä¸­åˆ Marutama æ‹‰é¢ï¼Œç„¶ååˆ°æ¸”äººç å¤´ï¼Œç¦»æ¸¯è§‚é²¸ã€‚ä¸€è·¯é¢ ç°¸ï¼Œå¥½åœ¨çœ‹åˆ°äº†å¾ˆå¤š Orca å’Œå‚»å‘µå‘µçš„æµ·ç‹®ã€‚å›ç¨‹è·¯ä¸Šå¬åˆ°äº†å¸æœº Trevor çš„ä¼ å¥‡æ•…äº‹ï¼Œä¹°äº†ä»–çš„ Natural Hyã€‚æ™šä¸Šæµ·é²œåŠ éƒ¨é˜Ÿç«é”…ï¼Œæœ€åä¸€æ¬¡å¾·å·ã€‚</li>
  <li>8.10 - æ—©é¤ JJ Beanï¼Œåä¸€ç‚¹åŠæ‹¥æŠ±ï¼Œæ•£ä¼™ã€‚æˆ‘å’Œå–œç¦é£æœºå»¶è¯¯ï¼Œåä¸€ç‚¹æ‰é£å›å¤šä¼¦å¤šã€‚</li>
  <li>8.11 - å’Œå¤§èˆ…è§†é¢‘ï¼Œçœ‹äº†è‹±è¶…ç¬¬ä¸€è½®æ›¼è” 4:0 åˆ‡å°”è¥¿ã€‚ä¸‹åˆå‡ºé—¨å’Œ Amy é­å“¥åˆé¤ï¼Œæ¥èµµå››å’Œä¸‰å“¥å›å®¶ã€‚ä¸€èµ·çœ‹ä¹é˜Ÿå¤å¤©æœ€åä¸€é›†ã€‚æ™šä¸Šå’Œè€å¦ˆè§†é¢‘ï¼Œç»™å¤§å®¶ç®—æœ¬æ¬¡è¡Œç¨‹å¼€é”€ã€‚</li>
</ul>

<p>è§†é¢‘ <a href="https://www.youtube.com/watch?v=GZPkZxGW_Ts&amp;feature=youtu.be">YouTube</a>, <a href="https://v.youku.com/v_show/id_XNDMyMDQ5MTk3Mg==.html">Youku</a></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/GZPkZxGW_Ts" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2 id="w30-0722---0728">W30 (07/22 - 07/28)</h2>

<ul>
  <li>Good working week, by putting my most focus on wrapping up work before my two weeks vacation ğŸ˜ We made a few great improvements over our DDD-ish Rails app.</li>
  <li>Watch <a href="https://movie.douban.com/subject/1292215/">Amelie</a> again at Princess Original, still fascinated by its unrestrained delight.</li>
  <li>Start of my vacation with Fifa 19 and Call of Duty WWII</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w30-mr-bernard.jpg" alt="w30-mr-bernard" /></p>

<p>^Hectic Monday</p>

<h2 id="w29-0715---0721">W29 (07/15 - 07/21)</h2>

<ul>
  <li>Finish reading <a href="https://book.douban.com/subject/30396640/">WebAssembly æ ‡å‡†å…¥é—¨</a>, a good intro for WASM spec.</li>
  <li>Go to Leslie Tingâ€™s <a href="https://stratfordsummermusic.ca/artist.php?id=214">Speculation</a> at Stratford with friends. I enjoy the <a href="https://www.wikiwand.com/en/4%E2%80%B233%E2%80%B3">4â€²33</a> part, which brings me to a meditation state.</li>
  <li>å’Œå–œç¦çœ‹äº†ä¸¤éƒ¨ç‹ç«å¯¼æ¼”çš„ç”µå½±ï¼Œ<a href="https://movie.douban.com/subject/10537853/">ä¸‡ç®­ç©¿å¿ƒ</a>å’Œ<a href="https://movie.douban.com/subject/2363843/">ä¸€å¹´åˆ°å¤´</a>ï¼ŒçœŸæ˜¯çº ç»“æ‹§å·´ï¼Œè®©äººæ— åŠ›å¼ å£è¾©é©³ï¼ˆæ‰€ä»¥æ‰æœ‰äº†å¤©æ³¨å®šå—ï¼Ÿï¼‰</li>
  <li>Enjoy the nice weekend with strawberry picking and VR playing.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w29-collage.jpg" alt="w29-collage" /></p>

<h2 id="w28-0708---0714">W28 (07/08 - 07/14)</h2>

<ul>
  <li>Re-read <em>Programming WebAssembly with Rust</em>. After getting to know Rust and having a general idea about WebAssembly, it makes much more sense to me now, especially that I follow the code exercise to write some raw wat this time <a href="https://github.com/ifyouseewendy/wasm-rust-playground">ifyouseewendy/wasm-rust-playground</a></li>
  <li>Have a talk with Syrus, which definitely makes me believe recording this weekly log is worthwhile. Iâ€™m glad that we build up a connection with the wasmer team.</li>
  <li>Play a co-op PS game <a href="https://www.ea.com/games/a-way-out">A Way Out</a> with Jasmine, which is pretty fun.</li>
  <li>Watch <a href="https://movie.douban.com/subject/1308755/">Shaun of the Dead</a> on the big screen at Princess Original ğŸ˜. This might be my 8th time watching it. Once every year.</li>
  <li>Watch the sensational final between Djokovic and Federer at Wimbledon. Such a weird game that Federer outplayed Djokovic at every metric on statistics, but lost due to few big points.</li>
  <li>Ride to the company using my ğŸš²!!! (second time since I bought it three months ago, good job)</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w28-collage.jpg" alt="w28-collage" /></p>

<h2 id="w27-0701---0707">W27 (07/01 - 07/07)</h2>

<ul>
  <li>Finish reading <a href="https://doc.rust-lang.org/">The Rust Programming Language</a>. I cannot say I fully understand ownership and lifetime, but I think Iâ€™ve grasped the idea of it. Looking forward to jumping into the wild world.</li>
  <li>I like this article <a href="https://blog.cleancoder.com/uncle-bob/2019/06/16/ObjectsAndDataStructures.html">Classes vs. Data Structures</a> by Uncle Bob articulating the subtle difference between these two. I figured this idea out when learning Haskell out last year, which gives me another orthogonal thinking against OO in terms of data and operation. In short, â€œAn Object is a set of functions that operate upon implied data elements. A Data Structure is a set of data elements operated upon by implied functionsâ€.</li>
  <li>Remember the smile of Brad</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w27-brad.jpg" alt="w27-brad" /></p>

<h2 id="w26-0624---0630">W26 (06/24 - 06/30)</h2>

<ul>
  <li>Read an hour <a href="https://doc.rust-lang.org/">The Rust Programming Language</a> everyday through chapter 15. Iâ€™ll finish next week, but I need more practice.</li>
  <li>Keep implementing <a href="https://github.com/kanaka/mal">https://github.com/kanaka/mal</a>. Iâ€™m at Step 3 now.</li>
  <li>Finish watching <a href="https://movie.douban.com/subject/30465634/">Formula 1: Drive to Survive</a>. Such exciting documentary over the F1 2018 season. It shows me another angle to think about the game, especially for the racers struggling on the edge. The problem they are trying to solve is interesting, how to improve from top 15 to top 10. We also watched the Austrian Grand Prix. Such a crazy win for Max Verstappen.</li>
  <li>çœ‹äº†<a href="https://movie.douban.com/subject/27059130/">å¤§ä½›æ™®æ‹‰æ–¯</a>ï¼ŒåµŒå¥—ç€ç”»å¤–äººè®²ç”»å†…äººçš„é»‘è‰²å¹½é»˜ï¼Œå¥½çœ‹çš„</li>
  <li>Trail at Shadeâ€™s Mills Conservation Area</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w26-collage.jpg" alt="w26-collage" /></p>

<h2 id="w25-0617---0623">W25 (06/17 - 06/23)</h2>

<ul>
  <li>Keep my read over <a href="https://doc.rust-lang.org/">The Rust Programming Language</a>, with practice at work.</li>
  <li>Start playing around <a href="https://github.com/kanaka/mal">https://github.com/kanaka/mal</a>, which is a practice for using different language to implement a simple Lisp. Iâ€™m working on the Ruby version now, then Iâ€™ll try the Rust one.</li>
  <li>Finish the fourth and fifth chapter of <em>Quiet</em></li>
  <li>Celebrate our first ğŸ’’ anniversary, taking a photo in the morning, having lunch at Watami, and going hiking with friends at Knutz Park.</li>
  <li>Set up our BBQ grill, and have a perfect night</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w25-anniversary.jpg" alt="w25-anniversary" /></p>

<h2 id="w24-0610---0616">W24 (06/10 - 06/16)</h2>

<ul>
  <li>Restart reading through <a href="https://doc.rust-lang.org/">The Rust Programming Language</a>. Some ideas start to make more sense to me after the recent Go learning, eg slice, rune and reference.</li>
  <li>Watch Raptors winning the title with Jasmine and David at Apollo. This might be the season I watch the most games. Such an intense journey. Besides that, finally, Sarri joined Juventus ğŸ˜³ and AD joined Lakers ğŸ˜Š</li>
  <li>After two months searching, we finally found a favourite breeder and sent the deposit for having a female English type Golden Retriever at mid Aug. Excited.</li>
  <li>Submit the third round of application for my parentsâ€™ visitor VISA ğŸ¤</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w24-raptors.jpg" alt="w24-raptors" /></p>

<h2 id="w23-0603---0609">W23 (06/03 - 06/09)</h2>

<ul>
  <li>Keep reading <a href="https://www.gopl.io/">The Go Programming Language</a> and finish first half of the book (Chapter 7 Interface)</li>
  <li><a href="https://nav.al/how-to-get-rich">Naval - How to Get Rich</a> This is another podcast I enjoy a lot, which is not mainly about finance, but different thoughts and angles to see the world.</li>
  <li>Finish the show <a href="https://movie.douban.com/subject/27098632/">Chernobyl</a>, a cold dark reality mixing with special politic circumstance. I can definitely not sense the similarity with my dear god country.</li>
  <li>Enjoy the French Open semi-final, at which Djokovic lost to Thiem by 5:7 at the fifth set. Sad.</li>
  <li>Have a great trip to <a href="https://www.google.ca/maps/place/African+Lion+Safari/@43.3409762,-80.1800999,17z/data=!3m1!4b1!4m5!3m4!1s0x882c7f322d46f773:0x7c093dc107321082!8m2!3d43.3409762!4d-80.1800999?hl=en">African Lion Safari</a> at the weekend. Simba is truly a big cat.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w23-nick.jpg" alt="w23-nick" /></p>

<h2 id="w22-0527---0602">W22 (05/27 - 06/02)</h2>

<ul>
  <li>Work wise, I feel pretty good on spending one hour reading in the morning everyday. After reading through Â¼ of <a href="https://blog.arkency.com/domain-driven-rails/">Domain Driven Rails</a>, (which is a pretty good book, taking Rails as example to talk about DDD), I make it a pause consciously as I need more experience (or mistakes) to digest better. To put it into practice, I start building our new service using <a href="http://hanamirb.org/">Hanami</a>, which Iâ€™ve got a pretty positive feeling for being our DDD choice. Other than that, finish reading the first two chapters of <a href="https://www.gopl.io/">GOPL</a>.</li>
  <li>I really enjoy this episode of Tim Ferris Show that I listened twice. <a href="https://tim.blog/2019/05/07/ramit-sethi/">Ramit Sethi â€” Automating Finances, Negotiating Prenups, Disagreeing with Tim, and More (#371)</a></li>
  <li>After two months learning and researching, I finally set up my FIRE account on May 29th, 2019 ğŸ‰</li>
  <li>Such a relief after visiting Nadine and Casey.</li>
  <li>The best weekend this year, for pushing trivial stuff forward proactively, reading books, watching sports (Liverpool 2:0 Tottenham Hotspur, Raptors 1:1 Warriors), having hotpot, watching shows, enjoying the great weather, and wasting time together with Jasmine. Everything is perfect.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w22-just-dance.gif" alt="w22-just-dance" /></p>

<h2 id="w21-0520---0526">W21 (05/20 - 05/26)</h2>

<ul>
  <li>Finish reading <a href="https://www.infoq.com/minibooks/domain-driven-design-quickly">Domain-driven Design Quick</a> last week and concluded some <a href="http://blog.ifyouseewendy.com/blog/2019/05/27/notes-on-ddd/">notes</a> here. It makes a lot of sense to me on connecting the dots Iâ€™ve collected over time. The book is also a great one as an intro which helps me grash the main idea of DDD. The next step is to gain more insight in practice.</li>
  <li>GoT æ½¦è‰ç»ˆç»“ï¼Œæ²¡ç­‰åˆ°æˆ‘çš„å¤œç‹åæ¨å¤§é™†ï¼Œéš¾è¿‡ã€‚çœ‹å®Œäº†<a href="https://movie.douban.com/subject/26339248/">ä¸€æ‹³è¶…äºº</a>ï¼Œè¶…çº§å–œæ¬¢ï¼Œè§è¯†äº†ç»ˆæå¤§æ‹›ï¼šConsecutive Normal Punch!</li>
  <li>Finally, what makes my week?</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w21-bounce-smile.gif" alt="w21-bounce-smile.gif" /></p>

<h2 id="w20-0513---0519">W20 (05/13 - 05/19)</h2>

<ul>
  <li>Keep my reading on <em>Quiet</em></li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w20-nick.jpg" alt="w20-nick" /></p>

<h2 id="w19-0506---0512">W19 (05/06 - 05/12)</h2>

<ul>
  <li>Such a busy week, for being on call at work. I didnâ€™t have much energy on pushing personal growth stuff.
However, itâ€™s been a fantastic week for various sports games.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w19-collage.jpeg" alt="w19-collage" /></p>

<h2 id="w18-0429---05-05">W18 (04/29 - 05-05)</h2>

<ul>
  <li>Research on a few candidates on portfolios and start building <a href="https://quip.com/TCQjAdmOkJMR">My portfolio</a></li>
  <li>Visit Stratford to enjoy spring and celebrate Jasmineâ€™s birthday</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w18-jasmine-birthday.jpg" alt="w18-jasmine-birthday" /></p>

<h2 id="w17-0422---0428">W17 (04/22 - 04/28)</h2>

<ul>
  <li>Start reading <a href="https://www.amazon.ca/Quiet-Power-Introverts-World-Talking/dp/0307352153/ref=sr_1_1?keywords=quiet&amp;qid=1555941549&amp;s=gateway&amp;sr=8-1">Quiet: The Power of Introverts in a World That Canâ€™t Stop Talking</a>
    <ul>
      <li>Being an introvert has been a bittersweet journey for me. Hope this book could help know myself better. (Recommended by Mitch)</li>
    </ul>
  </li>
  <li>Start taking an online course on economics
    <ul>
      <li>è–›å…†ä¸°çš„ç»æµå­¦è¯¾ã€‚ä½œä¸º financial learning çš„åç»­ï¼Œæœ¬æ¥å·²ç»å¼€å§‹è¯» Value Investingï¼Œä½†æ˜¯å‘ç°å¥½å¤šæ™®éåˆæ ¹æœ¬çš„é—®é¢˜æ›´å¸å¼•æˆ‘ã€‚</li>
    </ul>
  </li>
  <li>Watch <a href="https://movie.douban.com/subject/26728669/">é£ä¸­æœ‰æœµé›¨åšçš„äº‘</a>
    <ul>
      <li>æˆ‘å¾ˆåŒæ„è¿™ä¸ªæ•…äº‹æœ‰â€œçŸ¥éŸ³â€ä½“ï¼Œäººç‰©å…³ç³»å¤æ‚åˆéšæ„ï¼Œæ‰€ä»¥å¯¼æ¼”æ‰“ä¹±äº†æ—¶é—´åºæ˜¯ä¸ºäº†æ©ç›–è¿˜æ˜¯æ•…ä½œç„è™šï¼Ÿæˆ‘ä¸æ˜¯åœ¨ä¹ã€‚æˆ‘å–œæ¬¢è¿™é‡Œè¾¹çš„äººç‰©ï¼Œæ²¡æœ‰äººè®©æˆ‘å‡ºæˆã€‚æœ€è¿·çš„è¿˜æ˜¯å…‰å½±ï¼Œæ²¡æœºä¼šå»å½±é™¢ï¼Œä½†æ˜¯åœ¨å®¶å°±å·²ç»è®©æˆ‘æ²‰é†‰äº†ã€‚</li>
    </ul>
  </li>
  <li>Get my ğŸš²</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/2019/w17-bike.jpg" alt="w17-bike" /></p>

<h2 id="w16-0415---0421">W16 (04/15 - 04/21)</h2>

<ul>
  <li>Finish the first draft of my <a href="https://quip.com/RbITAH4Spbvt/Planning-investing">financial planning and investment</a></li>
  <li>Have a trip to Detroit with Jasmine
    <ul>
      <li>MOCA, DIA, Pistons vs Bucks game, Belle Isle</li>
    </ul>
  </li>
</ul>

<h2 id="w15-0408---0412">W15 (04/08 - 04/12)</h2>

<ul>
  <li>Listen to <a href="https://changelog.com/podcast/341?utm_medium=email&amp;utm_campaign=Weekly%20-%20Issue%20250&amp;utm_content=Weekly%20-%20Issue%20250+CID_3afe8cb9c4b1c3d53cfff50448829a21&amp;utm_source=changelog%20email&amp;utm_term=Wasmer%20is%20taking%20WebAssembly%20beyond%20the%20browser">Wasmer is taking WebAssembly beyond the browser</a>
    <ul>
      <li>Surprisingly find and listen to this new released podcast, which happens to match exactly with what we are working on.</li>
    </ul>
  </li>
  <li>Finish reading <a href="https://www.goodreads.com/book/show/23485557-the-value-of-simple?from_search=true">The Value of Simple</a>
    <ul>
      <li>A great to book to start oneâ€™s personal finance adventure, especially for Canadians. Itâ€™s to be noted that the author also provides a list of tools and book guides, which is super helpful.</li>
    </ul>
  </li>
  <li>Start my first <a href="https://quip.com/8agjAbpkTxTx/Monthly-Expense#TZHACANmrl0">Monthly Expense</a> review</li>
  <li>Research on <a href="https://quip.com/SsMFA531heag/Pay-back-mortgage-or-invest-in-bond">Pay back mortgage or invest in bond?</a> and discuss with friends</li>
  <li>House work to welcome spring</li>
</ul>

<h2 id="w14-0401---0405">W14 (04/01 - 04/05)</h2>

<ul>
  <li>Lost the basketball game in semi-final
    <ul>
      <li>ç»§å»å¹´åœ¨åŠå†³èµ›ä¸€åˆ†æƒœè´¥åï¼Œè¿™æ¬¡è¾“äº†ä¸¤åˆ† ğŸ˜¥</li>
    </ul>
  </li>
  <li>Watch <a href="https://movie.douban.com/subject/1294438/">Persona</a>
    <ul>
      <li>çœ‹è¿‡ä¹‹åéå¸¸å›°æƒ‘ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±æ˜¯æ…¢æ…¢è·Ÿä¸ä¸Šå¯¼æ¼”çš„èŠ‚å¥ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå¾ˆå¤šç”»é¢æ·±åˆ»åœ°å°åœ¨äº†æˆ‘çš„è„‘æµ·ï¼Œå›æ¥çš„è·¯ä¸Šä¸€ç›´ä¸æ–­åœ°å›æ”¾ã€‚åœ¨è±†ç“£ä¸Šçœ‹åˆ°äº†è¿™ç¯‡å½±è¯„æˆ‘å¾ˆèµåŒï¼ŒåŸºæœ¬ä¸Šè§£é‡Šäº†æˆ‘æ‰€æœ‰çš„ç–‘é—®ã€‚å³ä½¿å•çº¯ä½œä¸ºä¸€éæ•£æ–‡æ¥è¯»ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰æ”¶è·ï¼Œ<a href="https://movie.douban.com/review/1275074/">Persona (å‡é¢)ï¼šæ²‰é»˜çš„å‡é¢</a></li>
    </ul>
  </li>
  <li>Finish reading <a href="https://www.goodreads.com/book/show/23885906-wealthing-like-rabbits">Wealthing Like Rabbits</a>
    <ul>
      <li>Itâ€™s a good start for my personal financial learning. The examples in the book are really persuasive, which I appreciate the most. However, I donâ€™t really agree with the saving part. I understand the fact that we should figure out what we truly need or what the money could buy us indeed, but what I infer from the part is kinda what the author tries to avoid, which is to sacrifice your living quality for future. Especially, to ask for used baby clothes from a friend implicitly sounds manipulative to me.</li>
    </ul>
  </li>
  <li>Finish the second chapter of <a href="https://interpreterbook.com/"><em>Writing An Interpreter In Go</em></a> for parsing techniques</li>
  <li>Skim over the <a href="https://www.goodreads.com/book/show/42977609-programming-webassembly-with-rust"><em>Programming WebAssembly with Rust</em></a>.
    <ul>
      <li>Itâ€™s an ok book that I put my main focus on WebAssembly even though half of the book are examples for using Rust to write WA modules. It gives me some context knowledge of WA, like how itâ€™s developed over time and how it gets used inside and outside of the browser.</li>
    </ul>
  </li>
</ul>

<h2 id="w13-0325---0329">W13 (03/25 - 03/29)</h2>

<ul>
  <li>First glance at WebAssembly with my note <a href="https://quip.com/zFqEAHsgPhfs/From-Compiler-to-WebAssembly">From Compiler to WebAssembly</a>
    <ul>
      <li>Lin Clarkâ€™s <a href="https://hacks.mozilla.org/2017/02/a-cartoon-intro-to-webassembly/">A cartoon intro to WebAssembly</a> is such a good read</li>
      <li>Excited to see this happens to be an extension of my Go learning with <a href="https://interpreterbook.com/">Writing an interpreter in Golang</a></li>
    </ul>
  </li>
  <li>Start building my  <a href="https://quip.com/RpYkAB7LjzV6">Financial Knowledge Base</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[An Essential Difference Between OOP and FP]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2018/07/01/an-essential-difference-between-oop-and-fp/"/>
    <updated>2018-07-01T23:03:54-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2018/07/01/an-essential-difference-between-oop-and-fp</id>
    <content type="html"><![CDATA[<p>A few months ago, I told my friend that I was learning Haskell recently. After giving him
a quick introduction, he asked me an intuitive but hard question that I was not able to give
the answer, â€œWhat is the difference between OOP and FP?â€.</p>

<p>I thought hard, I asked around and I took it on my way learning Haskell, but apparently there
are no easy answers, considering they usually appear at the opposite position on the spectrum
of programming paradgim.</p>

<p>Anyway, today when I was reviewing my notes for recapping type system in Haskell, the question
got popped up again. But this time, I think Iâ€™ve got an answer:</p>

<p>Other than the obvious language characteristics, <strong>the essential difference between OOP and FP
is how they structure values and operations</strong>. OOP groups values and operations together in the
objects, while FP separates values and operations apart strictly.</p>

<p>Seriously, is that an answer? I konw, itâ€™s not perfect, but definitely helpful to myself. Iâ€™ll make
a detailed explanation.</p>

<h2 id="what-is-a-program">What is a program?</h2>

<p>We use programming languages to write programs, which can be considered as a series of calculations
executed in many stacks of control flows. Itâ€™s not hard to figure out that, in essence, a program is
about <strong>operating values</strong>.</p>

<p>As the definition for <em>turing complete</em> says, language is about <em>data-manipulation</em>.</p>

<blockquote>
  <p>In computability theory, a system of data-manipulation rules (such as a computerâ€™s instruction set,
a programming language, or a cellular automaton) is said to be Turing complete or computationally
universal if it can be used to simulate any Turing machine.</p>
</blockquote>

<h2 id="what-is-a-value">What is a value?</h2>

<p><strong><em>The first question is what are basic values?</em></strong></p>

<p>No matter what language you are using, there must be</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">1
</span><span class="line">'c'
</span><span class="line">True # somehow boolean value can also be considered as a integer</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong><em>But what if I want to represent more compliated values?</em></strong></p>

<p>We use data structures:</p>

<ul>
  <li>List, <code>[1,2,3]</code>, a set of independent values</li>
  <li>Tuple, <code>(1,2,3)</code>, several values compound over each other as one value</li>
  <li>Tree, values structured with a purpose to be manipulated easily</li>
  <li>Dictionary? It seems like a combination for value and algorithm</li>
</ul>

<p><strong><em>Apparently, thatâ€™s not enough for us to carve the real world. Whatâ€™s the ultimate way to represent data no matter how complicated it is?</em></strong></p>

<p>It depends on what mechanism a language supports. Here jumps in the discussion for difference between
OOP and FP language, which Iâ€™ll take Ruby and Haskell as examples.</p>

<p>In Ruby, we use class to model the real world problem and use objects to hold values, which we also call
it state in OO.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="rb"><span class="line"><span class="k">class</span> <span class="nc">Person</span>
</span><span class="line">  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Di&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As we can see, class defines what pattern of data (<code>name</code> and <code>age</code>) we want to hold.
After initializing, an object will wrap the plain data <code>"Di"</code> and <code>18</code> together as a
whole new value.</p>

<p>In Haskell, we use type to model the real world values and everytime we create a customized type,
there will also come with a data constructor, which holds the values together.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="kt">String</span> <span class="kt">Integer</span>
</span><span class="line">
</span><span class="line"><span class="nf">person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="s">&quot;Di&quot;</span> <span class="mi">18</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As a summary, no matter how complicated the value is, we can always represent it by
applying this kind of mechanisms the language provides over and over again.</p>

<h2 id="how-to-operate-value">How to operate value?</h2>

<p>By rules, laws, or formulas. In another saying, methods or functions.</p>

<p>In Ruby, we define methods in class definition to empower the object to apply onto its states.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="rb"><span class="line"><span class="k">class</span> <span class="nc">Person</span>
</span><span class="line">  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">gets_older</span><span class="p">;</span> <span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Bart&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When we call <code>person.gets_older</code>, weâ€™ll alter the <code>age</code> value by incrementing it by one. If we
have a peek into our memory, there will be data blobs like in below. Each object exists as
a bundle of values and operations.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"> <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>
</span><span class="line"> <span class="o">|</span><span class="n">_class_</span><span class="kt">:</span> <span class="kt">Person</span>  <span class="o">|</span>   <span class="o">|</span><span class="n">_class_</span><span class="kt">:</span> <span class="kt">Person</span>  <span class="o">|</span>   <span class="o">|</span><span class="n">_class_</span><span class="kt">:</span> <span class="kt">Person</span>  <span class="o">|</span>
</span><span class="line"> <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Bart&quot;</span>     <span class="o">|</span>   <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Lisa&quot;</span>     <span class="o">|</span>   <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Maggie&quot;</span>   <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">age</span><span class="kt">:</span>  <span class="mi">10</span>         <span class="o">|</span>   <span class="o">|</span><span class="n">age</span><span class="kt">:</span>  <span class="mi">8</span>          <span class="o">|</span>   <span class="o">|</span><span class="n">age</span><span class="kt">:</span>  <span class="mi">1</span>          <span class="o">|</span>
</span><span class="line"> <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>
</span><span class="line"> <span class="o">|#</span><span class="n">gets_older</span>      <span class="o">|</span>   <span class="o">|#</span><span class="n">gets_older</span>      <span class="o">|</span>   <span class="o">|#</span><span class="n">gets_older</span>      <span class="o">|</span>
</span><span class="line"> <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>However, in Haskell, we make use of functions to operate values, with limits put on their types.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="kt">String</span> <span class="kt">Integer</span>
</span><span class="line"><span class="nf">person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="s">&quot;Bart&quot;</span> <span class="mi">10</span>
</span><span class="line">
</span><span class="line"><span class="nf">getsOlder</span> <span class="ow">::</span> <span class="kt">Person</span> <span class="ow">-&gt;</span> <span class="kt">Person</span>
</span><span class="line"><span class="nf">getsOlder</span> <span class="p">(</span><span class="kt">Person</span> <span class="n">name</span> <span class="n">age</span><span class="p">)</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="n">name</span> <span class="p">(</span><span class="n">age</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When we call <code>getsOlder person</code>, weâ€™ll create a new copy of person data with <code>age</code> incremented
by one, conforming to immutability. As a comparison, if we look into our memory, weâ€™ll see whatâ€™s
in below.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"> <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>
</span><span class="line"> <span class="o">|</span><span class="n">_type_</span><span class="kt">:</span> <span class="kt">Person</span>   <span class="o">|</span>   <span class="o">|</span><span class="n">_type_</span><span class="kt">:</span> <span class="kt">Person</span>   <span class="o">|</span>   <span class="o">|</span><span class="n">_type_</span><span class="kt">:</span> <span class="kt">Person</span>   <span class="o">|</span>
</span><span class="line"> <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>   <span class="o">|</span>                 <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Bart&quot;</span>     <span class="o">|</span>   <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Lisa&quot;</span>     <span class="o">|</span>   <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="s">&quot;Maggie&quot;</span>   <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">age</span><span class="kt">:</span>  <span class="mi">10</span>         <span class="o">|</span>   <span class="o">|</span><span class="n">age</span><span class="kt">:</span> <span class="mi">8</span>           <span class="o">|</span>   <span class="o">|</span><span class="n">age</span><span class="kt">:</span> <span class="mi">1</span>           <span class="o">|</span>
</span><span class="line"> <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>   <span class="o">+-----------------+</span>
</span><span class="line">
</span><span class="line"><span class="o">+---------------------------------------------------------------+</span>
</span><span class="line">
</span><span class="line"> <span class="o">+---------------------+</span>
</span><span class="line"> <span class="o">|</span><span class="n">_type_</span><span class="kt">:</span> <span class="kt">Function</span>     <span class="o">|</span>
</span><span class="line"> <span class="o">|</span>                     <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">name</span><span class="kt">:</span> <span class="n">getsOlder</span>      <span class="o">|</span>
</span><span class="line"> <span class="o">|</span><span class="n">sig</span><span class="kt">:</span> <span class="kt">Person</span> <span class="ow">-&gt;</span> <span class="kt">Person</span><span class="o">|</span>
</span><span class="line"> <span class="o">+---------------------+</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="wrap-up">Wrap up</h2>

<p>As a conclusion, I think OOP and FP take a different approach to operating values. OOP packs up
values and permitted operations together via objects, wheras FP separates values and operations
apart strictly.</p>

<p><em>PS. How does polymorphism fit in the discussion?</em></p>

<p>We can keep following the imaginary memory snapshot above. In OOP, itâ€™ll work as long as
objects repond to the same method, whereas in Haskell, we can loose the function to allow
more general types passed in.</p>

<p>In Ruby, itâ€™s about duck typing.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="rb"><span class="line"><span class="k">class</span> <span class="nc">Person</span>
</span><span class="line">  <span class="k">def</span> <span class="nf">gets_older</span><span class="p">;</span> <span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="k">class</span> <span class="nc">Duck</span>
</span><span class="line">  <span class="k">def</span> <span class="nf">gets_older</span><span class="p">;</span> <span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">as_time_goes_by</span><span class="p">(</span><span class="n">a_living</span><span class="p">)</span>
</span><span class="line">  <span class="n">a_living</span><span class="o">.</span><span class="n">gets_older</span> <span class="c1"># no matter it&#39;s a person or a duck</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In Haskell, we use type to represent a set of values and typeclass to enforce rules on what kind
of operations can be applied onto the type (the set of values).</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="kt">String</span> <span class="kt">Integer</span> <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Show</span><span class="p">)</span>
</span><span class="line"><span class="kr">data</span> <span class="kt">Duck</span> <span class="ow">=</span> <span class="kt">Duck</span> <span class="kt">Integer</span> <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Show</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="kt">Living</span> <span class="n">a</span> <span class="kr">where</span>
</span><span class="line">  <span class="n">getsOlder</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</span><span class="line">
</span><span class="line"><span class="kr">instance</span> <span class="kt">Living</span> <span class="kt">Person</span> <span class="kr">where</span>
</span><span class="line">  <span class="n">getsOlder</span> <span class="p">(</span><span class="kt">Person</span> <span class="n">name</span> <span class="n">age</span><span class="p">)</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="n">name</span> <span class="p">(</span><span class="n">age</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="kr">instance</span> <span class="kt">Living</span> <span class="kt">Duck</span> <span class="kr">where</span>
</span><span class="line">  <span class="n">getsOlder</span> <span class="p">(</span><span class="kt">Duck</span> <span class="n">age</span><span class="p">)</span> <span class="ow">=</span> <span class="kt">Duck</span> <span class="p">(</span><span class="n">age</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="nf">asTimeGoesBy</span> <span class="ow">::</span> <span class="kt">Living</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
</span><span class="line"><span class="nf">asTimeGoesBy</span> <span class="n">living</span> <span class="ow">=</span> <span class="n">getsOlder</span> <span class="n">living</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Peep at Types in Haskell]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2018/04/21/a-peep-at-types-in-haskell/"/>
    <updated>2018-04-21T10:15:19-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2018/04/21/a-peep-at-types-in-haskell</id>
    <content type="html"><![CDATA[<p>Functional programming is a shining and trending topic on the other side of the spectrum of programming, which has been
proven to be a better choice in some specific area of problem solving. I could still remember the mind blowing of various
ideas and thoughts in FP when I first learnt Elm two years ago. It just shows me yet another possibility of thinking
after being immersed in the world I took for granted, all kinds of the imperative languages, C, Java, Ruby, Javascript.
Itâ€™s a whole new world.</p>

<p>Recently, I picked up the FP learning by taking part in a book reading club in the company I work, for
<a href="http://haskellbook.com/">â€œHaskell Programming from first principlesâ€</a>. My girlfriend was teasing me that Iâ€™ve never
showed up in a Haskell class at the university, why the heck you talk about it all the time now. I should admit that I might
still feel bored if I could jump back in time. Itâ€™s just I donâ€™t have the mind power or experience to think about the
problem in a big picture at that time. Anyway, Iâ€™m glad itâ€™s never too late. Itâ€™s been two months for the fun journey.
I want to share some thoughts on it.</p>

<p>I just finished reading about algebraic data types in Haskell. Basically, itâ€™s done talking about type systems in the
book. By getting to know types in Haskell, I questioned about why type exists all the time. I cannot help myself
thinking about how would I solve the same problem in OO world, like what is the difference about how data is
structured between OO and FP. Gradually, keeping punching my head, I feel like I start to see something through. I start
to realize that, <strong>programming is all about data and operations</strong>. Different paradigms, OO and FP, are two different
approaches. Under the big picture, languages choose to implement different characteristics, like
inheritance, encapsulation, polymorphism, prototype, immutability, static and dynamic types, etc, to reach a same goal,
to represent and manipulate data in an effective way.</p>

<p>Since itâ€™s all about data, what is data? I consider it as a general name for all possible values, like primitive ones, <code>1, 'a',
True</code>, which are usually bulit into the language, like a list <code>[]</code> and a map <code>{}</code>, working as a group of values following some basic
simple rules. To better fit the language into modeling various realistic problems, OO introduces class, which packs up the states
(data) and methods (operation) together (In some sense, class is a set of data and rules applied onto the data). In the meantime, FP
provides a different path, with type as a representation of a set of data and function (operation) as a way to transform data. For
example, in OO <code>obj</code> has a state <code>value</code>, and <code>obj.foo</code> might migrate the state. In FP, we just do <code>foo(value)</code>
directly. (The limitation or visibility of the operation comes from encapsulation in OO, but type matching in FP)</p>

<p>So what is type? Type, in short, is a set of values (data). For example, <code>Int8</code> is a built-in type in Haskell as a set of 256
numbers, starting from -128 to 127, <code>Char</code> is a set of all possible charaters, <code>String</code> is a list of <code>Char</code>. How
to represent a binary tree:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">  2
</span><span class="line">  /   \
</span><span class="line">1      3</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What exactly do we need to know about the tree? Three nodes with three values, and the connections among them.</p>

<p>In OO, we are going to create a structure regarding the node, with a state recording the value and two links for the
connection.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">Node</span>
</span><span class="line">  <span class="kp">attr_accessor</span> <span class="ss">:left</span><span class="p">,</span> <span class="n">right</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@value</span> <span class="o">=</span> <span class="n">value</span>
</span><span class="line">    <span class="n">left</span> <span class="o">=</span> <span class="kp">nil</span>
</span><span class="line">    <span class="n">right</span> <span class="o">=</span> <span class="kp">nil</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">root</span>        <span class="o">=</span> <span class="no">Node</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span class="line"><span class="n">root</span><span class="o">.</span><span class="n">left</span>   <span class="o">=</span> <span class="no">Node</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line"><span class="n">root</span><span class="o">.</span><span class="n">right</span>  <span class="o">=</span> <span class="no">Node</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To make it a tree, instead of a plie of nodes, we can create a structure like</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">BinaryTree</span>
</span><span class="line">  <span class="kp">attr_reader</span> <span class="ss">:root_node</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">root_value</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@root_node</span> <span class="o">=</span> <span class="no">Node</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">root_value</span><span class="p">)</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">node_value</span><span class="p">)</span>
</span><span class="line">    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So a final representation for the binary tree in Ruby, itâ€™ll be</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">bt</span> <span class="o">=</span> <span class="no">BinaryTree</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What about in Haskell? At first, we create a type to represent the tree like below, which basically means a binary tree
is either a leaf, or a node with a value and two nodes, which are both binary trees.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="kr">data</span> <span class="kt">BinaryTree</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">Leaf</span> <span class="o">|</span> <span class="kt">Node</span> <span class="p">(</span><span class="kt">BinaryTree</span> <span class="n">a</span><span class="p">)</span> <span class="n">a</span> <span class="p">(</span><span class="kt">BinaryTree</span> <span class="n">a</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To represent the tree,</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="nf">bt</span> <span class="ow">=</span> <span class="kt">Node</span> <span class="p">(</span><span class="kt">Node</span> <span class="kt">Leaf</span> <span class="mi">2</span> <span class="kt">Leaf</span><span class="p">)</span> <span class="mi">1</span> <span class="p">(</span><span class="kt">Node</span> <span class="kt">Leaf</span> <span class="mi">3</span> <span class="kt">Leaf</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Itâ€™s done! To be honest, I was totally blown away by the second I understand how things work here. Itâ€™s neat, elegant
and way over my thinking.</p>

<p>Cool, so how it works? Between two cases in two languages. Here is my understanding: in the perspective of a
compiler (or interpreter),</p>

<ul>
  <li>In Ruby, it sees a reference to a chunk of memory, which contains the necessary info about getting to know that, there
is an object, which has a state and maybe a reference to its parent, which contains operations allowed to do.</li>
  <li>In Haskell, it sees a sequence of tokens, literally all the data about it. According to the types definition, it
could parse out the tokens in the right pattern, thus understand it.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/binary-tree-oo-and-haskell.png" alt="binary-tree-oo-and-haskell" /></p>

<p>Bascially, this is a note of thinking while I was learning it. Iâ€™m still digesting and trying to find out a path to fit the FP ideas into my system of knowledge.</p>

<p>At last, I want to share some materials which is truly helpful to me</p>

<ul>
  <li><a href="http://www.defmacro.org/2006/06/19/fp.html">Functional Programming For The Rest of Us - Slava Akhmechet</a> Such a pleasant article as a beginner read, the history, the features, everything you need to know</li>
  <li><a href="https://youtu.be/yVuEPwNuCHw">Types, and why you should care - Ron Minsky</a> An intro video about the pros and cons
about types</li>
  <li><a href="https://youtu.be/V1po0BT7kac">Type Systems Will Make You a Better JavaScript Developer - Jared Forsyth</a> A video talking about why Facebook Flow works effectively for JS. I use it at work, but sometimes I stumble upon it and end up complaining about its stupidity. Next time, Iâ€™ll watch the video again.</li>
  <li><a href="https://flow.org/en/docs/lang/">Type Systems - Facebook Flow</a> I find it as a good supplyment after getting understand
the types in Haskell, maybe because it is a standalone type system?</li>
</ul>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mr. Curiosity]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2018/03/18/mr-curiosity/"/>
    <updated>2018-03-18T12:18:44-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2018/03/18/mr-curiosity</id>
    <content type="html"><![CDATA[<p>ä¸€ç›´å¾ˆå–œæ¬¢è‡ªå·±çš„ tech leadã€‚ä»ä¸åœ¨æ„å¤–åœ¨ç©¿ç€ï¼Œä¸€å¹´å››å­£å‡ ä¹åŒä¸€æ¡è£¤å­ï¼Œå¶å°”ä¸ºäº†ç»‘ä½è£¤è„šï¼Œç›´æ¥ç³»ä¸ªè½¯ç»³åœ¨ä¸Šè¾¹ã€‚å¤§èƒ¡å­ï¼Œå¤§è‚šå­ï¼Œå¤§å—“é—¨ã€‚çˆ½æœ—çš„ç¬‘å£°ï¼Œç»å¸¸å›è¡åœ¨æ•´ä¸ªåŠå…¬å®¤ä¸Šç©ºã€‚ä»–æœ‰åè¶³çš„è¡¨è¾¾æ¬²ï¼Œå¯¹å‡ ä¹æ‰€æœ‰äº‹æƒ…éƒ½å……æ»¡è§è§£ï¼Œå› è€Œä¹Ÿç»å¸¸è¯è¯­é”‹åˆ©ã€‚é¢å¯¹ä¸å–œæ¬¢çš„äººï¼Œä¸å–œæ¬¢çš„äº‹ï¼Œè¯ä¼šå˜å°‘ï¼Œè¡¨æƒ…ä¹Ÿä¼šå˜ä¸å±‘ï¼Œä½†æ˜¯å§‹ç»ˆåšå†³æå«è‡ªå·±çš„è§‚ç‚¹ã€‚æœ‰è¶£çš„æ˜¯ï¼Œç›¸å¤„ä¹…äº†ï¼Œä½ ä¼šå‘ç°ä»–å†…å¿ƒåˆ†æ˜ä½ç€ä¸ªæŸ”è½¯çš„å­©å­ã€‚ä»–å–œæ¬¢åƒç³–ï¼Œæ§ç€ä¸ªå°ç¢—å‘Šè¯‰åŒäº‹å…¬å¸æ–°è¿›çš„é…¸å¥¶è‘¡è„å¹²ä¸å¦‚ä»¥å‰ï¼›ä»–ä¸åæƒœèµç¾ï¼Œç›´æ¥å‘Šè¯‰ä½ å’ŒåŒäº‹ï¼Œå¹²çš„æ¼‚äº®ï¼›ä»–èŠ±é’±ä¹°å„è´è¶å½¢çŠ¶çš„é”®ç›˜ï¼Œä¹å‘µå‘µåœ°å‘æ¯ä¸ªäººå±•ç¤ºã€‚ä»Šå¤©æœ¬æ¥æ˜¯æƒ³ç¿»ä»–çš„ Githubï¼Œç»“æœåˆåˆ°äº†ä»–å¤è€çš„åšå®¢ï¼Œç¿»åˆ°äº†ä»–åœ¨ Flickr çš„ç›¸å†Œã€‚æˆ‘çŸ¥é“ï¼Œå¥½å¤šéƒ½æ˜¯ç”¨ä»–é‚£ä¸ªè€çš„å…¨é”®ç›˜è“è“æ‰‹æœºæ‹çš„ç…§ç‰‡ï¼Œæ¯«æ— ä¿®é¥°åœ°è®°å½•ç€ç”Ÿæ´»ç¾å¥½çš„ç¬é—´ã€‚æ¯æ¬¡æƒ³åˆ°ä»–ï¼Œæˆ‘æ€»ä¼šè§‰ç€å¼€å¿ƒä¸ç¾¡æ…•ã€‚æˆ‘ä¸çŸ¥é“æ€ä¹ˆæ„å»ºä¸€ä¸ªä¸–ç•Œï¼Œèƒ½æŠ›å¼€ä¸–äººçš„çœ¼å…‰ï¼Œè‡ªå¾—å…¶ä¹ã€‚</p>

<p>æˆ‘æ€»è§‰ç€è‡ªå·±çš„å¿ƒé‡Œä¸å¤Ÿå¼ºå¤§ï¼Œæ€¯äºåˆ«äººçš„ç›®å…‰ï¼Œå³ä½¿å¿«åˆ°ä¸‰åå²ï¼Œä¹Ÿä¾æ—§æ˜¯è¿™ä¸ªä¸–ç•Œçš„ä¸€ä¸ªè†å¬è€…ã€‚æˆ‘å®³æ€•è¯´é”™è¯ï¼Œä¸äººæ²Ÿé€šè¶Šæ¥è¶Šå°å¿ƒç¿¼ç¿¼ï¼Œå› æ­¤äº¤æµä¹Ÿå°±æˆäº†è´¹ç¥çš„äº‹ã€‚æˆ‘å®³æ€•åšé”™äº‹ï¼Œå›æƒ³æœ‰æ—¶ç«Ÿç„¶æ€•æœ‰ä¸å¥½çš„ç»“æœï¼Œå°±ä¸åšä¸€äº›äº‹ï¼Œä¹Ÿå› æ­¤å°±ä¼šæœ‰é”™è¿‡ã€‚è¿™äº›å¹´ä¸æ–­åœ°åŠªåŠ›ï¼Œä¸€æ–¹é¢æ˜¯è‡ªå·±æ¸´æœ›è¿›æ­¥ï¼Œä¸€æ–¹é¢å¿ƒä¸­ä¼šæœ‰ææƒ§ï¼Œå¦‚ä½• live up to your nameã€‚æˆ‘è®¨åŒè¿™éƒ¨åˆ†çš„è‡ªå·±ï¼Œå®ƒåªä¼šç»™æˆ‘å‹åŠ›ï¼Œè€Œä¸æ˜¯å¿«ä¹ã€‚è¦çœ‹æœ‰ç”¨çš„ä¹¦ï¼Œåšæœ‰ç”¨çš„äº‹ï¼Œè€ƒè™‘æ—¶é—´è€ƒè™‘æ”¶ç›Šã€‚æ…¢æ…¢çš„ï¼Œå¿«ä¹åªæ¥è‡ªæˆå°±ï¼Œè€Œä¸æ˜¯äº‹æƒ…æœ¬èº«ã€‚è€Œæˆ‘ä¸€ç‚¹ç‚¹è´ªå©ªåœ°å‰è¿›ï¼Œæ´»åœ¨è™šè£çš„å¿«ä¹é‡Œã€‚è®¤è¯†åˆ°è¿™ä¸ªé—®é¢˜å·²ç»å¥½ä¹…ï¼Œè‡ªå·±ä¹Ÿåœ¨æ…¢æ…¢æ”¹å˜ã€‚å¸Œæœ›è‡ªå·±å¤šè¿½å¯»å…´è¶£ï¼Œäº«å—ç®€å•çš„å¿«ä¹ã€‚</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/ryZeSZEvcck" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] You Don't Know JS: this &amp; Object Prototypes]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2017/07/03/review-you-dont-know-js-this-and-object-prototypes/"/>
    <updated>2017-07-03T14:01:05-04:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2017/07/03/review-you-dont-know-js-this-and-object-prototypes</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Book</strong></td>
      <td>You Donâ€™t Know JS: this &amp; Object Prototypes</td>
    </tr>
    <tr>
      <td><strong>Author</strong></td>
      <td><a href="https://github.com/getify">Kyle Simpson</a></td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this%20&amp;%20object%20prototypes/README.md#you-dont-know-js-this--object-prototypes">https://github.com/getify/You-Dont-Know-JS/blob/master/this &amp; object prototypes/README.md</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#objects-in-js">Objects in JS</a>    <ul>
      <li><a href="#type">1. Type</a></li>
      <li><a href="#contents">2. Contents</a>        <ul>
          <li><a href="#properties">Properties</a></li>
          <li><a href="#computed-property-names">Computed Property Names</a></li>
          <li><a href="#arrays">Arrays</a></li>
          <li><a href="#duplicating-objects">Duplicating Objects</a></li>
          <li><a href="#property-descriptors">Property Descriptors</a></li>
          <li><a href="#get--">[ [ Get ] ]</a></li>
          <li><a href="#existence">Existence</a></li>
        </ul>
      </li>
      <li><a href="#iteration">3. Iteration</a></li>
    </ul>
  </li>
  <li><a href="#prototypes">Prototypes</a>    <ul>
      <li><a href="#my-understanding">1. My understanding</a></li>
      <li><a href="#what-is-a-prototype">2. What is a prototype?</a></li>
      <li><a href="#how-to-get-an-objects-prototype">3. How to get an objectâ€™s prototype?</a></li>
      <li><a href="#what-is-the-prototype-">4. What is the <code>prototype</code> ?</a></li>
      <li><a href="#whats-the-difference-between-proto-and-prototype">5. Whatâ€™s the difference between <code>__proto__</code> and <code>prototype</code>?</a></li>
      <li><a href="#whats-process-of-method-lookup-via-prototype-chain">6. Whatâ€™s process of method lookup via prototype chain?</a></li>
    </ul>
  </li>
  <li><a href="#class">â€œClassâ€</a>    <ul>
      <li><a href="#misconception">1. Misconception</a></li>
      <li><a href="#constructors">2. â€œConstructorsâ€</a>        <ul>
          <li><a href="#does-constructor-mean-was-constructed-by-no">Does â€œconstructorâ€ mean â€œwas constructed byâ€? NO!</a></li>
          <li><a href="#what-is-exactly-a-constructor">What is exactly a â€œconstructorâ€?</a></li>
          <li><a href="#do-we-have-to-capitalize-the-constructor-function-no">Do we have to capitalize the constructor function? NO!</a></li>
          <li><a href="#is-constructorreliable-to-be-used-as-a-reference-no">Is <code>.constructor</code>reliable to be used as a reference? NO!</a></li>
        </ul>
      </li>
      <li><a href="#what-happened-when-we-callnew-">3. What happened when we call<code>new</code> ?</a></li>
      <li><a href="#introspection">4. Introspection</a>        <ul>
          <li><a href="#instanceof"><code>instanceof</code></a></li>
          <li><a href="#objectprototypeisprototypeof"><code>Object.prototype.isPrototypeOf()</code></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#behavior-delegation">Behavior Delegation</a>    <ul>
      <li><a href="#my-understanding-1">1. My understanding</a></li>
      <li><a href="#background">2. Background</a>        <ul>
          <li><a href="#compared-to-traditional-inheritance">Compared to traditional inheritance</a></li>
          <li><a href="#prototypal-inheritance--differential-inheritance">Prototypal Inheritance &amp;&amp; Differential Inheritance</a></li>
        </ul>
      </li>
      <li><a href="#create-delegations-by-objectcreate">3. Create delegations by <code>Object.create</code></a>        <ul>
          <li><a href="#how-to-make-plain-object-delegations">How to make plain object delegations?</a></li>
          <li><a href="#how-to-make-delegations-to-perform-prototypal-inheritance">How to make delegations to perform â€œprototypal inheritanceâ€?</a></li>
          <li><a href="#how-to-envision-your-own-objectcreate">How to envision your own <code>Object.create</code>?</a></li>
        </ul>
      </li>
      <li><a href="#towards-delegation-oriented-design">4. Towards Delegation-Oriented Design</a>        <ul>
          <li><a href="#avoid-shadowing-naming-things-the-same-if-at-all-possible">Avoid shadowing (naming things the same) if at all possible</a></li>
          <li><a href="#save-state-on-delegators">Save state on delegators</a></li>
          <li><a href="#comparison">Comparison</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="objects-in-js">Objects in JS</h1>

<p>Source: <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this %26 object prototypes/ch3.md">You Donâ€™t Know JS: this &amp; Object Prototypes - Chapter 3: Objects</a></p>

<h2 id="type">1. Type</h2>

<p>Primary types (language types)</p>

<ul>
  <li>number</li>
  <li>boolean</li>
  <li>string</li>
  <li>null</li>
  <li>undefined</li>
  <li>object</li>
</ul>

<p>Many people mistakenly claim â€œeverything in JavaScript is an objectâ€, but this is incorrect. Objects are one of the 6 (or 7, depending on your perspective) primitive types. Objects have sub-types, including<code>function</code>, and also can be behavior-specialized, like<code>[object Array]</code>as the internal label representing the array object sub-type.</p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/you-dont-know-js/types.png" alt="types" /></p>

<p>What are object sub-types?</p>

<p>In JS, object sub-types are actually just built-in functions. Each of these built-in functions can be used as a constructor (that is, a function call with the new operator), with the result being a newly constructed object of the sub-type.</p>

<p>Why do we need object sub-types?</p>

<p>The primitive value <code>"I am a string"</code>is not an object, itâ€™s a primitive literal and immutable value. To perform operations on it, such as checking its length, accessing its individual character contents, etc, a<code>String</code>object is required.the language automatically coerces a<code>"string"</code>primitive to a<code>String</code>object when necessary, which means you almost never need to explicitly create the Object form.</p>

<p>What is exactly the function?</p>

<p>Functions are callable objects which are special in that they have an optional name property and a code property (which is the body of the function that actually does stuff).</p>

<p>How to remember?</p>

<p>Excluding from the self-defined object, we can always use <code>typeof</code> first to check out the primary types and then use <code>instanceof</code> to find out its object sub-types.</p>

<h2 id="contents">2. Contents</h2>

<p>Objects are collections of key/value pairs. The values can be accessed as properties, via<code>.propName</code>or<code>["propName"]</code>syntax. Whenever a property is accessed, the engine actually invokes the internal default<code>[[Get]]</code>operation (and<code>[[Put]]</code>for setting values), which not only looks for the property directly on the object, but which will traverse the<code>[[Prototype]]</code>chain (see Chapter 5) if not found.</p>

<p>Properties have certain characteristics that can be controlled through property descriptors, such as<code>writable</code>and<code>configurable</code>. In addition, objects can have their mutability (and that of their properties) controlled to various levels of immutability using<code>Object.preventExtensions(..)</code>,<code>Object.seal(..)</code>, and<code>Object.freeze(..)</code>.</p>

<p>Properties donâ€™t have to contain values â€“ they can be â€œaccessor propertiesâ€ as well, with getters/setters. They can also be either <em>enumerable</em> or not, which controls if they show up in<code>for..in</code>loop iterations, for instance.</p>

<h3 id="properties">Properties</h3>

<p>In objects, property names are **always **strings. If you use any other value besides a <code>string</code>(primitive) as the property, it will first be converted to a string.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span> <span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="kc">true</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="nx">myObject</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">];</span>                <span class="c1">// &quot;foo&quot;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;3&quot;</span><span class="p">];</span>                    <span class="c1">// &quot;bar&quot;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;[object Object]&quot;</span><span class="p">];</span>                  <span class="c1">// &quot;baz&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="computed-property-names">Computed Property Names</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">prefix</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="s2">&quot;bar&quot;</span><span class="p">]</span><span class="o">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="s2">&quot;baz&quot;</span><span class="p">]</span><span class="o">:</span> <span class="s2">&quot;world&quot;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;foobar&quot;</span><span class="p">];</span> <span class="c1">// hello</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;foobaz&quot;</span><span class="p">];</span> <span class="c1">// world</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="arrays">Arrays</h3>

<p>Arrays are objects. <strong>Be careful</strong>: If you try to add a property to an array, but the property name looks like a number, it will end up instead as a numeric index (thus modifying the array contents):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myArray</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span> <span class="p">];</span>
</span><span class="line">
</span><span class="line"><span class="nx">myArray</span><span class="p">[</span><span class="s2">&quot;3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="nx">myArray</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>    <span class="c1">// 4</span>
</span><span class="line">
</span><span class="line"><span class="nx">myArray</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>        <span class="c1">// &quot;baz&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="duplicating-objects">Duplicating Objects</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">anotherFunction</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/*..*/</span> <span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">anotherObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">c</span><span class="o">:</span> <span class="kc">true</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">anotherArray</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class="line">    <span class="nx">b</span><span class="o">:</span> <span class="nx">anotherObject</span><span class="p">,</span>    <span class="c1">// reference, not a copy!</span>
</span><span class="line">    <span class="nx">c</span><span class="o">:</span> <span class="nx">anotherArray</span><span class="p">,</span>    <span class="c1">// another reference!</span>
</span><span class="line">    <span class="nx">d</span><span class="o">:</span> <span class="nx">anotherFunction</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">anotherArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">anotherObject</span><span class="p">,</span> <span class="nx">myObject</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Itâ€™s hard to tell which of shallow and deep copy is right without the use case.</p>

<p>One subset solution is that objects which are JSON-safe (that is, can be serialized to a JSON string and then re-parsed to an object with the same structure and values) can easily be <em>duplicated</em> with:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">newObj</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">someObj</span> <span class="p">)</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>A shallow copy is fairly understandable and has far less issues, so ES6 has now defined <code>Object.assign(..)</code> for this task. <code>Object.assign(..)</code> takes a target object as its first parameter, and one or more source objects as its subsequent parameters. It iterates over all the <em>enumerable</em> (see below), <em>owned keys (immediately present)</em> on the source object(s) and copies them (via = assignment only) to target.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">newObj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">myObject</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">newObj</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>                        <span class="c1">// 2</span>
</span><span class="line"><span class="nx">newObj</span><span class="p">.</span><span class="nx">b</span> <span class="o">===</span> <span class="nx">anotherObject</span><span class="p">;</span>        <span class="c1">// true</span>
</span><span class="line"><span class="nx">newObj</span><span class="p">.</span><span class="nx">c</span> <span class="o">===</span> <span class="nx">anotherArray</span><span class="p">;</span>        <span class="c1">// true</span>
</span><span class="line"><span class="nx">newObj</span><span class="p">.</span><span class="nx">d</span> <span class="o">===</span> <span class="nx">anotherFunction</span><span class="p">;</span>    <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="property-descriptors">Property Descriptors</h3>

<p>Prior to ES5, the JavaScript language gave no direct way for your code to inspect or draw any distinction between the characteristics of properties, such as whether the property was read-only or not. But as of ES5, all properties are described in terms of a <strong>property descriptor</strong>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span> <span class="nx">myObject</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="c1">// {</span>
</span><span class="line"><span class="c1">//    value: 2,</span>
</span><span class="line"><span class="c1">//    writable: true,</span>
</span><span class="line"><span class="c1">//    enumerable: true,</span>
</span><span class="line"><span class="c1">//    configurable: true</span>
</span><span class="line"><span class="c1">// }</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We can use<code>Object.defineProperty(..)</code>to add a new property, or modify an existing one (if itâ€™s<code>configurable</code>!), with the desired characteristics.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line">
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span> <span class="nx">myObject</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">value</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class="line">    <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">    <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">    <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span>
</span><span class="line"><span class="p">}</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 2</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I consider this as something about plumbing facts, which features some higher level operations. Like</p>

<p><strong>Seal</strong>: <code>Object.seal(..)</code> creates a â€œsealedâ€ object, which means it takes an existing object and essentially calls <code>Object.preventExtensions(..)</code> on it, but also marks all its existing properties as <code>configurable:false</code>.</p>

<p><strong>Freeze</strong>: <code>Object.freeze(..)</code> creates a frozen object, which means it takes an existing object and essentially calls <code>Object.seal(..)</code> on it, but it also marks all â€œdata accessorâ€ properties as <code>writable:false</code>, so that their values cannot be changed.</p>

<p>For details, check <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this %26 object prototypes/ch3.md#property-descriptors">this section</a></p>

<h3 id="get--">[ [ Get ] ]</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 2</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The<code>myObject.a</code>is a property access, but it doesnâ€™t <em>just</em> look in <code>myObject</code>for a property of the name <code>a</code>, as it might seem. According to the spec, the code above actually performs a<code>[[Get]]</code>operation (kinda like a function call:<code>[[Get]]()</code>) on the<code>myObject</code>. The default built-in<code>[[Get]]</code>operation for an object <em>first</em> inspects the object for a property of the requested name, and if it finds it, it will return the value accordingly.</p>

<p>One important result of this<code>[[Get]]</code>operation is that if it cannot through any means come up with a value for the requested property, it instead returns the value<code>undefined</code>(instead of a<code>ReferenceError</code>).</p>

<p>Define an **accessor descriptor **(getter and putter)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// define a getter for `a`</span>
</span><span class="line">    <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_a_</span><span class="p">;</span>
</span><span class="line">    <span class="p">},</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// define a setter for `a`</span>
</span><span class="line">    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">this</span><span class="p">.</span><span class="nx">_a_</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 4</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="existence">Existence</h3>

<p>We showed earlier that a property access like<code>myObject.a</code>may result in an<code>undefined</code>value if either the explicit<code>undefined</code>is stored there or the<code>a</code>property doesnâ€™t exist at all. So, if the value is the same in both cases, how else do we distinguish them?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="s2">&quot;a&quot;</span> <span class="k">in</span> <span class="nx">myObject</span><span class="p">);</span>                <span class="c1">// true</span>
</span><span class="line"><span class="p">(</span><span class="s2">&quot;b&quot;</span> <span class="k">in</span> <span class="nx">myObject</span><span class="p">);</span>                <span class="c1">// false</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span>    <span class="c1">// true</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="s2">&quot;b&quot;</span> <span class="p">);</span>    <span class="c1">// false</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The<code>in</code>operator will check to see if the property is <em>in</em> the object, or if it exists at any higher level of the <em><code>[[Prototype]]</code></em> chain object traversal (see Chapter 5). By contrast, <em><code>hasOwnProperty(..)</code></em> checks to see if <em>only</em> <code>myObject</code>has the property or not, and will <em>not</em> consult the<code>[[Prototype]]</code>chain.</p>

<p><code>hasOwnProperty(..)</code>is accessible for all normal objects via delegation to<code>Object.prototype</code>(see Chapter 5). But itâ€™s possible to create an object that does not link to<code>Object.prototype</code>(via<code>Object.create(null)</code>â€“ see Chapter 5). In this case, a method call like<code>myObject.hasOwnProperty(..)</code>would fail.</p>

<p>In that scenario, a more robust way of performing such a check is<code>Object.prototype.hasOwnProperty.call(myObject,"a")</code>, which borrows the base<code>hasOwnProperty(..)</code>method and uses_explicit<em><code>this</code>_binding</em>(see Chapter 2) to apply it against our<code>myObject</code>.</p>

<h2 id="iteration">3. Iteration</h2>

<p>The<code>for..in</code>loop iterates over the list of enumerable properties on an object (including its<code>[[Prototype]]</code>chain). But what if you instead want to iterate over the values?</p>

<p><code>for..in</code>loops applied to arrays can give somewhat unexpected results, in that the enumeration of an array will include not only all the numeric indices, but also any enumerable properties. Itâ€™s a good idea to use<code>for..in</code>loops <em>only</em> on objects, and traditional<code>for</code>loops with numeric index iteration for the values stored in arrays.</p>

<p>ES5 also added several iteration helpers for arrays, including <code>forEach(..)</code>, <code>every(..)</code>, and <code>some(..)</code>.</p>

<ul>
  <li><code>forEach(..)</code>will iterate over all values in the array, and ignores any callback return values.</li>
  <li><code>every(..)</code>keeps going until the end <em>or</em> the callback returns a<code>false</code>(or â€œfalsyâ€) value, whereas</li>
  <li><code>some(..)</code>keeps going until the end <em>or</em> the callback returns a <code>true</code>(or â€œtruthyâ€) value.</li>
</ul>

<p>As contrasted with iterating over an arrayâ€™s indices in a numerically ordered way (<code>for</code>loop or other iterators), the order of iteration over an objectâ€™s properties is **not guaranteed **and may vary between different JS engines. **Do not rely **on any observed ordering for anything that requires consistency among environments, as any observed agreement is unreliable.</p>

<p>You can also iterate over **the values **in data structures (arrays, objects, etc) using the ES6<code>for..of</code>syntax, which looks for either a built-in or custom<code>@@iterator</code>object consisting of a<code>next()</code>method to advance through the data values one at a time.</p>

<h1 id="prototypes">Prototypes</h1>

<p>Source: <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this %26 object prototypes/ch5.md">You Donâ€™t Know JS: this &amp; Object Prototypes - Chapter 5: Prototypes</a></p>

<h2 id="my-understanding">1. My understanding</h2>

<p>After reading this part, I realize that <code>Arary</code>, <code>Function</code>, <code>Object</code>are all functions. I should admit that this refreshes my impression on JS. I know functions are first-class citizen in JS but it seems that it is all built on functions. Every object is created by functions:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="c1">// simple primitives are auto boxing: new Number(1)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="line">
</span><span class="line"><span class="c1">// object created by constructor</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="s2">&quot;2017-07-01&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// object literal</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1">// is equivalent to: Object.create(Object.prototype);</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s2">&quot;hello&quot;</span> <span class="p">}</span> <span class="c1">// is equivalent to</span>
</span><span class="line">
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span>
</span><span class="line">    <span class="p">{</span>
</span><span class="line">        <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">            <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">            <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">            <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="what-is-a-prototype">2. What is a prototype?</h2>

<p>Objects in JavaScript have an internal property, denoted in the specification as<code>[[Prototype]]</code>, which is simply a reference to another object. Almost all objects are given a non-<code>null</code>value for this property, at the time of their creation.</p>

<h2 id="how-to-get-an-objects-prototype">3. How to get an objectâ€™s prototype?</h2>

<p>via <code>__proto__</code>or <code>Object.getPrototypeOf</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;wendi&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span>
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So where is <code>__proto__</code>defined? <code>Object.prototype.__proto__</code></p>

<p>We could roughly envision <code>__proto__</code> implemented like this</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="s2">&quot;__proto__&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
</span><span class="line">    <span class="p">},</span>
</span><span class="line">    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="c1">// setPrototypeOf(..) as of ES6</span>
</span><span class="line">        <span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">o</span> <span class="p">);</span>
</span><span class="line">            <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>**Note: **The JavaScript community unofficially coined a term for the double-underscore, specifically the leading one in properties like<code>__proto__</code>: â€œdunderâ€. So, the â€œcool kidsâ€ in JavaScript would generally pronounce<code>__proto__</code>as â€œdunder protoâ€.</p>

<h2 id="what-is-the-prototype-">4. What is the <code>prototype</code> ?</h2>

<p><code>prototype</code> is an object automatically created as a special property of a <strong>function</strong>, which is used to establish the delegation (inheritance) chain, aka prototype chain.</p>

<p>When we create a function <code>a</code>, <code>prototype</code> is automatically created as a special property on <code>a</code> and saves the function code on as the <code>constructor</code> on <code>prototype</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Object {constructor: function}</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Foo</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Iâ€™d love to consider this property as the place to store the properties (including methods) of a function object. Thatâ€™s also the reason why utility functions in JS are defined like <code>Array.prototype.forEach()</code> , <code>Function.prototype.bind()</code>, <code>Object.prototype.toString().</code></p>

<p>Why to emphasize the property of a <strong>function</strong>?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="p">{}.</span><span class="nx">prototype</span> <span class="c1">// undefined;</span>
</span><span class="line"><span class="p">(</span><span class="kd">function</span><span class="p">(){}).</span><span class="nx">prototype</span> <span class="c1">// Object {constructor: function}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// The example above shows object does not have the prototype property.</span>
</span><span class="line"><span class="c1">// But we have Object.prototype, which implies an interesting fact that</span>
</span><span class="line"><span class="k">typeof</span> <span class="nb">Object</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="whats-the-difference-between-proto-and-prototype">5. Whatâ€™s the difference between <code>__proto__</code> and <code>prototype</code>?</h2>

<p><code>__proto__</code>a reference works on every <strong>object</strong> to refer to its <code>[[Prototype]]</code>property.</p>

<p><code>prototype</code> is an object automatically created as a special property of a <strong>function</strong>, which is used to store the properties (including methods) of a function object.</p>

<p>With these two, we could mentally map out the prototype chain. Like this picture illustrates:</p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/you-dont-know-js/__proto__-vs-prototype.png" alt="__proto__-vs-prototype.png" /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{}</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span><span class="line"><span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Refer to: <a href="https://stackoverflow.com/questions/9959727/proto-vs-prototype-in-javascript">__proto__ VS. prototype in JavaScript</a></p>

<h2 id="whats-process-of-method-lookup-via-prototype-chain">6. Whatâ€™s process of method lookup via prototype chain?</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{}</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">baz</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;baz&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">baz</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="c1">// foo</span>
</span><span class="line"><span class="c1">// bar</span>
</span><span class="line"><span class="c1">// baz</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The top-end of every _normal _<code>[[Prototype]]</code>chain is the built-in <code>Object.prototype</code>. This object includes a variety of common utilities used all over JS.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span>
</span><span class="line">
</span><span class="line"><span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="nb">Object</span><span class="p">()</span>
</span><span class="line"><span class="nx">hasOwnProperty</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">hasOwnProperty</span><span class="p">()</span>
</span><span class="line"><span class="nx">isPrototypeOf</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">isPrototypeOf</span><span class="p">()</span>
</span><span class="line"><span class="nx">propertyIsEnumerable</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">propertyIsEnumerable</span><span class="p">()</span>
</span><span class="line"><span class="nx">toLocaleString</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">toLocaleString</span><span class="p">()</span>
</span><span class="line"><span class="nx">toString</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">toString</span><span class="p">()</span>
</span><span class="line"><span class="nx">valueOf</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">valueOf</span><span class="p">()</span>
</span><span class="line"><span class="nx">__defineGetter__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__defineGetter__</span><span class="p">()</span>
</span><span class="line"><span class="nx">__defineSetter__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__defineSetter__</span><span class="p">()</span>
</span><span class="line"><span class="nx">__lookupGetter__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__lookupGetter__</span><span class="p">()</span>
</span><span class="line"><span class="nx">__lookupSetter__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__lookupSetter__</span><span class="p">()</span>
</span><span class="line"><span class="nx">get</span> <span class="nx">__proto__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__proto__</span><span class="p">()</span>
</span><span class="line"><span class="nx">set</span> <span class="nx">__proto__</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">__proto__</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="class">â€œClassâ€</h1>

<p>Source: <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch4.md">You Donâ€™t Know JS: this &amp; Object Prototypes - Chapter 4: Mixing (Up) â€œClassâ€ Objects</a></p>

<h2 id="misconception">1. Misconception</h2>

<p>Thereâ€™s a peculiar kind of behavior in JavaScript that has been shamelessly abused for years to <em>hack</em> something that <em>looks</em> like â€œclassesâ€. JS developers have strived to simulate as much as they can of class-orientation.</p>

<p>JS has had <em>some</em> class-like syntactic elements (like<code>new</code>and<code>instanceof</code>) for quite awhile, and more recently in ES6, some additions, like the<code>class</code>keyword (see Appendix A). But does that mean JavaScript actually <em>has</em> classes? Plain and simple: <strong>No.</strong></p>

<p>**Classes mean copies. **JavaScript **does not automatically **create copies (as classes imply) between objects.</p>

<p>Read <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this %26 object prototypes/ch4.md">You Donâ€™t Know JS: this &amp; Object Prototypes - Chapter 4: Mixing (Up) â€œClassâ€ Objects</a> for details:</p>

<ul>
  <li>Why does JavaScript not feature class inheritance?</li>
  <li>Why does mixin pattern (both explicit and implicit) as the common sort of emulating class copy behavior, not work in JavaScript?</li>
</ul>

<h2 id="constructors">2. â€œConstructorsâ€</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// ...</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">;</span> <span class="c1">// true</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">;</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The<code>Foo.prototype</code>object by default (at declaration time on line 1 of the snippet!) gets a public, non-enumerable property called<code>.constructor</code>, and this property is a reference back to the function (<code>Foo</code>in this case) that the object is associated with.</p>

<h3 id="does-constructor-mean-was-constructed-by-no">Does â€œconstructorâ€ mean â€œwas constructed byâ€? NO!</h3>

<p>The fact is,<code>.constructor</code>on an object arbitrarily points, by default, at a function who, reciprocally, has a reference back to the object â€“ a reference which it calls<code>.prototype</code>. The words â€œconstructorâ€ and â€œprototypeâ€ only have a loose default meaning that might or might not hold true later. The best thing to do is remind yourself, â€œconstructor does not mean constructed byâ€.</p>

<h3 id="what-is-exactly-a-constructor">What is exactly a â€œconstructorâ€?</h3>

<p>In other words, in JavaScript, itâ€™s most appropriate to say that a â€œconstructorâ€ is <strong>any function called with the</strong><code>new</code><strong>keyword</strong> in front of it. Functions arenâ€™t constructors, but function calls are â€œconstructor callsâ€ if and only if<code>new</code>is used.</p>

<h3 id="do-we-have-to-capitalize-the-constructor-function-no">Do we have to capitalize the constructor function? NO!</h3>

<p>By convention in the JavaScript world, â€œclassâ€es are named with a capital letter, so the fact that itâ€™s <code>Foo</code> instead of <code>foo</code> is a strong clue that we intend it to be a â€œclassâ€. But the capital letter doesnâ€™t mean <strong>anything</strong> at all to the JS engine.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
</span><span class="line">
</span><span class="line"><span class="k">new</span> <span class="nx">foo</span><span class="p">()</span> <span class="c1">// foo {}</span>
</span><span class="line">
</span><span class="line"><span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Object {constructor: function}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In reality,<code>Foo</code>is no more a â€œconstructorâ€ than any other function in your program. Functions themselves are <strong>not</strong> constructors. However, when you put the<code>new</code>keyword in front of a normal function call, that makes that function call a â€œconstructor callâ€. In fact,<code>new</code>sort of hijacks any normal function and calls it in a fashion that constructs an object, <strong>in addition to whatever else it was going to do</strong>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">NothingSpecial</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s2">&quot;Don&#39;t mind me!&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NothingSpecial</span><span class="p">();</span>
</span><span class="line"><span class="c1">// &quot;Don&#39;t mind me!&quot;</span>
</span><span class="line">
</span><span class="line"><span class="nx">a</span><span class="p">;</span> <span class="c1">// {}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>NothingSpecial</code>is just a plain old normal function, but when called with<code>new</code>, it constructs an object, almost as a side-effect, which we happen to assign to <em><code>a</code></em>. The <strong>call</strong> was a constructor call, but <code>NothingSpecial</code> is not, in and of itself, a constructor.</p>

<h3 id="is-constructorreliable-to-be-used-as-a-reference-no">Is <code>.constructor</code>reliable to be used as a reference? NO!</h3>

<p>Some arbitrary object-property reference like<code>a1.constructor</code>cannot actually be <em>trusted</em> to be the assumed default function reference. Moreover, as weâ€™ll see shortly, just by simple omission,<code>a1.constructor</code>can even end up pointing somewhere quite surprising and insensible.<code>a1.constructor</code>is extremely unreliable, and an unsafe reference to rely upon in your code.<strong>Generally, such references should be avoided where possible.</strong></p>

<p><code>.constructor</code>is not a magic immutable property. It <em>is</em> non-enumerable (see snippet above), but its value is writable (can be changed), and moreover, you can add or overwrite (intentionally or accidentally) a property of the name<code>constructor</code>on any object in any<code>[[Prototype]]</code>chain, with any value you see fit.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{}</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span>  <span class="o">===</span> <span class="nx">Foo</span> <span class="c1">// true</span>
</span><span class="line">
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="p">}</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Foo</span> <span class="c1">// false</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If you create a new object, and replace a functionâ€™s default<code>.prototype</code>object reference, the new object will not by default magically get a<code>.constructor</code>on it.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* .. */</span> <span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span> <span class="cm">/* .. */</span> <span class="p">};</span> <span class="c1">// create a new prototype object</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="nx">a1</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">;</span> <span class="c1">// false!</span>
</span><span class="line"><span class="nx">a1</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">;</span> <span class="c1">// true!</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Whatâ€™s happening?<code>a1</code>has no<code>.constructor</code>property, so it delegates up the<code>[[Prototype]]</code>chain to<code>Foo.prototype</code>. But that object doesnâ€™t have a<code>.constructor</code>either (like the default<code>Foo.prototype</code>object would have had!), so it keeps delegating, this time up to<code>Object.prototype</code>, the top of the delegation chain.<em>That</em> object indeed has a<code>.constructor</code>on it, which points to the built-in<code>Object(..)</code>function.</p>

<p>Of course, you can add<code>.constructor</code>back to the<code>Foo.prototype</code>object, but this takes manual work, especially if you want to match native behavior and have it be non-enumerable.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* .. */</span> <span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span> <span class="cm">/* .. */</span> <span class="p">};</span> <span class="c1">// create a new prototype object</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Need to properly &quot;fix&quot; the missing `.constructor`</span>
</span><span class="line"><span class="c1">// property on the new object serving as `Foo.prototype`.</span>
</span><span class="line"><span class="c1">// See Chapter 3 for `defineProperty(..)`.</span>
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="s2">&quot;constructor&quot;</span> <span class="p">,</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class="line">    <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">    <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">    <span class="nx">value</span><span class="o">:</span> <span class="nx">Foo</span>    <span class="c1">// point `.constructor` at `Foo`</span>
</span><span class="line"><span class="p">}</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Thatâ€™s a lot of manual work to fix<code>.constructor</code>. Moreover, all weâ€™re really doing is perpetuating the misconception that â€œconstructorâ€ means â€œwas constructed byâ€. Thatâ€™s an <em>expensive</em> illusion.</p>

<h2 id="what-happened-when-we-callnew-">3. What happened when we call<code>new</code> ?</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">New</span><span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="nx">func</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="nx">res</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">=</span> <span class="nx">func</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
</span><span class="line">    <span class="k">if</span> <span class="p">((</span><span class="k">typeof</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">ret</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">res</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">New</span><span class="p">(</span><span class="nx">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span><span class="line"><span class="c1">// equals to</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">A</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ol>
  <li>It creates a new object. The type of this object, is simply <em>object</em></li>
  <li>It sets this new objectâ€™s internal, inaccessible, <em>[[prototype]]</em>(i.e. <strong>__proto__</strong>) property to be the constructor functionâ€™s external, accessible, <em>prototype</em> object (every function object automatically has a <em>prototype</em> property).</li>
  <li>It makes the <code>this</code>variable point to the newly created object.</li>
  <li>It executes the constructor function, using the newly created object whenever <code>this</code>is mentioned.</li>
  <li>It returns the newly created object, unless the constructor function returns a non-<code>null</code>object reference. In this case, that object reference is returned instead.</li>
</ol>

<p>Reference</p>

<ul>
  <li><a href="https://stackoverflow.com/questions/1646698/what-is-the-new-keyword-in-javascript">What is the â€˜newâ€™ keyword in JavaScript?</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new operator - MDN</a></li>
</ul>

<h2 id="introspection">4. Introspection</h2>

<h3 id="instanceof"><code>instanceof</code></h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nx">a</span> <span class="k">instanceof</span> <span class="nx">Foo</span><span class="p">;</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The<code>instanceof</code>operator takes a plain object as its left-hand operand and a<strong>function</strong>as its right-hand operand. The question<code>instanceof</code>answers is:<strong>in the entire</strong><code>[[Prototype]]</code><strong>chain of</strong><code>a</code><strong>, does the object arbitrarily pointed to by</strong><code>Foo.prototype</code><strong>ever appear?</strong></p>

<p>What if you have two arbitrary objects, say<code>a</code>and<code>b</code>, and want to find out if <em>the objects</em> are related to each other through a<code>[[Prototype]]</code>chain?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="c1">// helper utility to see if `o1` is</span>
</span><span class="line"><span class="c1">// related to (delegates to) `o2`</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">isRelatedTo</span><span class="p">(</span><span class="nx">o1</span><span class="p">,</span> <span class="nx">o2</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">function</span> <span class="nx">F</span><span class="p">(){}</span>
</span><span class="line">    <span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">o2</span><span class="p">;</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">o1</span> <span class="k">instanceof</span> <span class="nx">F</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">a</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">isRelatedTo</span><span class="p">(</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span> <span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="objectprototypeisprototypeof"><code>Object.prototype.isPrototypeOf()</code></h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span> <span class="nx">a</span> <span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The question<code>isPrototypeOf(..)</code>answers is:<strong>in the entire</strong><code>[[Prototype]]</code><strong>chain of</strong><code>a</code><strong>, does</strong><code>Foo.prototype</code><strong>ever appear?</strong></p>

<p>What if you have two arbitrary objects, say<code>a</code>and<code>b</code>, and want to find out if <em>the objects</em> are related to each other through a<code>[[Prototype]]</code>chain?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="c1">// Simply: does `a` appear anywhere in</span>
</span><span class="line"><span class="c1">// `b`s [[Prototype]] chain?</span>
</span><span class="line"><span class="nx">a</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span> <span class="nx">b</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="behavior-delegation">Behavior Delegation</h1>

<p>Source: <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this %26 object prototypes/ch6.md">You Donâ€™t Know JS: this &amp; Object Prototypes - Chapter 6: Behavior Delegation</a></p>

<h2 id="my-understanding-1">1. My understanding</h2>

<p>Considering we donâ€™t actually have <code>class</code> in JavaScript, but we want the benefit of behaviour sharing around code entities. JavaScript employs behaviour delegation as the <code>[[Prototype]]</code>mechanism. It kinda differs from the traditional class-instance  thinking, but itâ€™s still in the spectrum of OO, as a form of plain objects linking (delegation) instead of inheritance.</p>

<p>Classical inheritance is a code arrangement technique. For the cost of arranging objects in a hierarchy, you get message delegation for free. Delegation arranges objects in a horizontal space (side-by-side as peers) instead of a vertical hierarchy. So, can I say one outweighs another between behaviour delegation and traditional class theory? No, they are different assumptions that we donâ€™t have true <code>class</code> in JavaScript.</p>

<p>Behavior delegation looks like a side-effect outcome on the way JavaScript strives to simulate class-oriented code to meet the expectations of most OO developers. For instance, <code>new</code> creates an automatic message delegation just like inheritance, name of <code>constructor</code> , introducing <code>class</code>in ES6. Itâ€™s probable that people added <code>prototype</code> aiming to simulate class behaviours.</p>

<p>Anyway, behaviour delegation works and I consider it as the right mental model to illustrate the chaos in JavaScript, which is much better than the contrived class thinking.</p>

<h2 id="background">2. Background</h2>

<p>JavaScript is <strong>almost unique</strong> among languages as perhaps the only language with the right to use the label â€œobject orientedâ€, because itâ€™s one of a very short list of languages where <strong>an object can be created directly, without a class at all.</strong></p>

<p>In JavaScript, there are no abstract patterns/blueprints for objects called â€œclassesâ€ as there are in class-oriented languages. <strong>JavaScript just has objects</strong>. In JavaScript, we donâ€™t make <em>copies</em> from one object (â€œclassâ€) to another (â€œinstanceâ€). <strong>We make links between objects.</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// ...</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span> <span class="nx">a</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span> <span class="c1">// true</span>
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span> <span class="nx">b</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When<code>a</code>is created by calling<code>new Foo()</code>, one of the things (see Chapter 2 for all four steps) that happens is that<code>a</code>gets an internal<code>[[Prototype]]</code>link to the object that<code>Foo.prototype</code>is pointing at. <strong>We end up with two objects, linked to each other.</strong></p>

<p>The actual mechanism, the essence of whatâ€™s important to the functionality we can leverage in JavaScript, is <strong>all about objects being linked to other objects.</strong></p>

<h3 id="compared-to-traditional-inheritance">Compared to traditional inheritance</h3>

<p>In class-oriented languages, multiple copies (aka, â€œinstancesâ€) of a class can be made, like stamping something out from a mold. But in JavaScript, there are no such copy-actions performed. You donâ€™t create multiple instances of a class. You can create multiple objects that <code>[[Prototype]]</code>link to a common object. But by default, no copying occurs, and thus these objects donâ€™t end up totally separate and disconnected from each other, but rather, quite <strong>linked</strong>.</p>

<p>â€œinheritanceâ€ (and â€œprototypal inheritanceâ€) and all the other OO terms just do not make sense when considering how JavaScript <em>actually</em> works (not just applied to our forced mental models).</p>

<p>Instead, â€œdelegationâ€ is a more appropriate term, because <strong>these relationships are not **<em>copies</em></strong> but delegation <strong><em>links</em></strong>.</p>

<h3 id="prototypal-inheritance--differential-inheritance">Prototypal Inheritance &amp;&amp; Differential Inheritance</h3>

<p>This mechanism is often called â€œ<strong>prototypal inheritance</strong>â€ (weâ€™ll explore the code in detail shortly), which is commonly said to be the dynamic-language version of â€œclassical inheritanceâ€. The word â€œinheritanceâ€ has a very strong meaning (see Chapter 4), with plenty of mental precedent. Merely adding â€œprototypalâ€ in front to distinguish the <em>actually nearly opposite</em> behavior in JavaScript has left in its wake nearly two decades of miry confusion.â€Inheritanceâ€ implies a <em>copy</em> operation, and JavaScript doesnâ€™t copy object properties (natively, by default). Instead, JS creates a link between two objects, where one object can essentially <em>delegate</em> property/function access to another object. â€œ<strong>Delegation</strong>â€ is a much more accurate term for JavaScriptâ€™s object-linking mechanism.</p>

<p>Another term which is sometimes thrown around in JavaScript is â€œ<strong>differential inheritance</strong>â€. The idea here is that we describe an objectâ€™s behavior in terms of what is <em>different</em> from a more general descriptor. For example, you explain that a car is a kind of vehicle, but one that has exactly 4 wheels, rather than re-describing all the specifics of what makes up a general vehicle (engine, etc).</p>

<p>But just like with â€œprototypal inheritanceâ€, â€œdifferential inheritanceâ€ pretends that your mental model is more important than what is physically happening in the language. It overlooks the fact that object <code>B</code>is not actually differentially constructed, but is instead built with specific characteristics defined, alongside â€œholesâ€ where nothing is defined. It is in these â€œholesâ€ (gaps in, or lack of, definition) that delegation <em>can</em> take over and, on the fly, â€œfill them inâ€ with delegated behavior.</p>

<h2 id="create-delegations-by-objectcreate">3. Create delegations by <code>Object.create</code></h2>

<p><code>Object.create(..)</code> creates a â€œnewâ€ object out of thin air, and links that new objectâ€™s internal <code>[[Prototype]]</code>to the object you specify.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;wendi&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">name</span> <span class="c1">// &quot;wendi&quot;</span>
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">a</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="how-to-make-plain-object-delegations">How to make plain object delegations?</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">something</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s2">&quot;Tell me something good...&quot;</span> <span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">foo</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">bar</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">foo</span> <span class="c1">// true</span>
</span><span class="line"><span class="nx">bar</span><span class="p">.</span><span class="nx">something</span><span class="p">();</span> <span class="c1">// Tell me something good...</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="how-to-make-delegations-to-perform-prototypal-inheritance">How to make delegations to perform â€œprototypal inheritanceâ€?</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">Bar</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bar</span><span class="p">();</span>
</span><span class="line"><span class="nx">b</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span> <span class="c1">// foo</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Inspection: <code>Bar.prototype</code> has changed</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">Bar</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Object {constructor: function}</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Foo {}</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Foo {bar: function}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Inspection: <code>Bar.prototype</code> is not a reference (separated) to <code>Foo.prototype</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">Bar</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">);</span> <span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Object {foo: function, constructor: function}</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// Function {bar: function}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Why not?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nx">Bar</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</span><span class="line"><span class="c1">// Cause it ends up Bar is no longer a function object.</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">)</span>
</span><span class="line"><span class="c1">// This links Bar.prototype to Foo, which is the function object. Foo.foo() is not a function.</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
</span><span class="line"><span class="c1">// It just makes Bar.prototype be another reference to Foo.prototype</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
</span><span class="line"><span class="c1">// It creates a new object, but Foo might have unexpected behaviours in constructor calling</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>ES6-standardized techniques</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="c1">// pre-ES6</span>
</span><span class="line"><span class="c1">// throws away default existing `Bar.prototype`</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// ES6+</span>
</span><span class="line"><span class="c1">// modifies existing `Bar.prototype`</span>
</span><span class="line"><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">(</span> <span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="how-to-envision-your-own-objectcreate">How to envision your own <code>Object.create</code>?</h3>

<p>This polyfill shows a very basic idea without handling the second parameter <code>propertiesObject</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">createAndLinkObject</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">function</span> <span class="nx">F</span><span class="p">(){}</span>
</span><span class="line">    <span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">o</span><span class="p">;</span>
</span><span class="line">    <span class="k">return</span> <span class="k">new</span> <span class="nx">F</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Polyfill on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create - MDN</a></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span> <span class="o">!=</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">Temp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
</span><span class="line">    <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">propertiesObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">      <span class="k">if</span><span class="p">(</span><span class="nx">prototype</span> <span class="o">!==</span> <span class="nb">Object</span><span class="p">(</span><span class="nx">prototype</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">        <span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span>
</span><span class="line">          <span class="s1">&#39;Argument must be an object, or null&#39;</span>
</span><span class="line">        <span class="p">);</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">      <span class="nx">Temp</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">prototype</span> <span class="o">||</span> <span class="p">{};</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Temp</span><span class="p">();</span>
</span><span class="line">      <span class="nx">Temp</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line">      <span class="k">if</span> <span class="p">(</span><span class="nx">propertiesObject</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">propertiesObject</span><span class="p">);</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">
</span><span class="line">      <span class="c1">// to imitate the case of Object.create(null)</span>
</span><span class="line">      <span class="k">if</span><span class="p">(</span><span class="nx">prototype</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">         <span class="nx">result</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">})();</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="towards-delegation-oriented-design">4. Towards Delegation-Oriented Design</h2>

<p>Pseudo-code for class theory</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kr">class</span> <span class="nx">Task</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">id</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// constructor `Task()`</span>
</span><span class="line">    <span class="nx">Task</span><span class="p">(</span><span class="nx">ID</span><span class="p">)</span> <span class="p">{</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">ID</span><span class="p">;</span> <span class="p">}</span>
</span><span class="line">    <span class="nx">outputTask</span><span class="p">()</span> <span class="p">{</span> <span class="nx">output</span><span class="p">(</span> <span class="nx">id</span> <span class="p">);</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">XYZ</span> <span class="nx">inherits</span> <span class="nx">Task</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">label</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// constructor `XYZ()`</span>
</span><span class="line">    <span class="nx">XYZ</span><span class="p">(</span><span class="nx">ID</span><span class="p">,</span><span class="nx">Label</span><span class="p">)</span> <span class="p">{</span> <span class="kr">super</span><span class="p">(</span> <span class="nx">ID</span> <span class="p">);</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">Label</span><span class="p">;</span> <span class="p">}</span>
</span><span class="line">    <span class="nx">outputTask</span><span class="p">()</span> <span class="p">{</span> <span class="kr">super</span><span class="p">();</span> <span class="nx">output</span><span class="p">(</span> <span class="nx">label</span> <span class="p">);</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">ABC</span> <span class="nx">inherits</span> <span class="nx">Task</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// ...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Pseudo-code for delegation theory</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">Task</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">setID</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ID</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">ID</span><span class="p">;</span> <span class="p">},</span>
</span><span class="line">    <span class="nx">outputID</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="p">);</span> <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="c1">// make `XYZ` delegate to `Task`</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">XYZ</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Task</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">XYZ</span><span class="p">.</span><span class="nx">prepareTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ID</span><span class="p">,</span><span class="nx">Label</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">setID</span><span class="p">(</span> <span class="nx">ID</span> <span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">Label</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="nx">XYZ</span><span class="p">.</span><span class="nx">outputTaskDetails</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">outputID</span><span class="p">();</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">label</span> <span class="p">);</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="c1">// ABC = Object.create( Task );</span>
</span><span class="line"><span class="c1">// ABC ... = ...</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="avoid-shadowing-naming-things-the-same-if-at-all-possible">Avoid shadowing (naming things the same) if at all possible</h3>

<p>With the class design pattern, we intentionally named<code>outputTask</code>the same on both parent (<code>Task</code>) and child (<code>XYZ</code>), so that we could take advantage of overriding (polymorphism). In behavior delegation, we do the opposite: <strong>we avoid if at all possible naming things the same</strong> at different levels of the<code>[[Prototype]]</code>chain (called <strong>shadowing</strong>), because having those name collisions creates awkward/brittle syntax to disambiguate references, and we want to avoid that if we can.</p>

<p>This design pattern calls for less of general method names which are prone to overriding and instead more of descriptive method names, specific to the type of behavior each object is doing.<strong>This can actually create easier to understand/maintain code</strong>, because the names of methods (not only at definition location but strewn throughout other code) are more obvious (self documenting).</p>

<p>Setting properties on an object was more nuanced than just adding a new property to the object or changing an existing propertyâ€™s value. Usually, shadowing is more complicated and nuanced than itâ€™s worth, <strong>so you should try to avoid it if possible</strong>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">anotherObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">anotherObject</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">anotherObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 2</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 2</span>
</span><span class="line">
</span><span class="line"><span class="nx">anotherObject</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span> <span class="c1">// true</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span> <span class="c1">// false</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="o">++</span><span class="p">;</span> <span class="c1">// oops, implicit shadowing!</span>
</span><span class="line">
</span><span class="line"><span class="nx">anotherObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 2</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// 3</span>
</span><span class="line">
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Though it may appear that<code>myObject.a++</code>should (via delegation) look-up and just increment the<code>anotherObject.a</code>property itself <em>in place</em>, instead the<code>++</code>operation corresponds to<code>myObject.a = myObject.a + 1</code>.</p>

<p>Thatâ€™s the reason why we use delegation on prototype chain, we should avoid using the same name as traditional class inheritance would do.</p>

<h3 id="save-state-on-delegators">Save state on delegators</h3>

<p>In general, with<code>[[Prototype]]</code>delegation involved, <strong>you want state to be on the delegators</strong>(<code>XYZ</code>,<code>ABC</code>), not on the delegate (<code>Task</code>). We benefit it from the implicit call-site <code>this</code>binding rules.</p>

<h3 id="comparison">Comparison</h3>

<p>OO style</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">Foo</span><span class="p">(</span><span class="nx">who</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">me</span> <span class="o">=</span> <span class="nx">who</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">identify</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="s2">&quot;I am &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">me</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Bar</span><span class="p">(</span><span class="nx">who</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">Foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">who</span> <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">speak</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span> <span class="s2">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">identify</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bar</span><span class="p">(</span> <span class="s2">&quot;b1&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bar</span><span class="p">(</span> <span class="s2">&quot;b2&quot;</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">b1</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>
</span><span class="line"><span class="nx">b2</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>OO style features <code>constructor</code> which introduces a lot of extra details that you donâ€™t <em>technically</em> need to know at all times.</p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/you-dont-know-js/OO.png" alt="OO.png" /></p>

<p>OLOO style</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">who</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">this</span><span class="p">.</span><span class="nx">me</span> <span class="o">=</span> <span class="nx">who</span><span class="p">;</span>
</span><span class="line">    <span class="p">},</span>
</span><span class="line">    <span class="nx">identify</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;I am &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">me</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">Bar</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Foo</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">Bar</span><span class="p">.</span><span class="nx">speak</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span> <span class="s2">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">identify</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Bar</span> <span class="p">);</span>
</span><span class="line"><span class="nx">b1</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="s2">&quot;b1&quot;</span> <span class="p">);</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">b2</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="nx">Bar</span> <span class="p">);</span>
</span><span class="line"><span class="nx">b2</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="s2">&quot;b2&quot;</span> <span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">b1</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>
</span><span class="line"><span class="nx">b2</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>OLOO-style code has <em>vastly less stuff</em> to worry about, because it embraces the <strong>fact **that the only thing we ever really cared about was the **objects linked to other objects</strong>.</p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/you-dont-know-js/OLOO.png" alt="OLOO.png" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] å­¦ä¹ ä¹è§‚]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/08/30/review-xue-xi-le-guan/"/>
    <updated>2016-08-30T22:03:04+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/08/30/review-xue-xi-le-guan</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Book</strong></td>
      <td>å­¦ä¹ ä¹è§‚</td>
    </tr>
    <tr>
      <td><strong>Author</strong></td>
      <td><a href="https://en.wikipedia.org/wiki/Martin_Seligman">Martin Seligman</a></td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="https://book.douban.com/subject/4934590/">book.douban.com/subject/4934590/</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#section">å‰è¨€</a></li>
  <li><a href="#section-1">ç¬¬1ç«  - æ‚²è§‚è€…ä¸ä¹è§‚è€…çš„ç”»åƒ</a></li>
  <li><a href="#section-2">ç¬¬2ç«  - æ‚²è§‚è€…çš„æ— åŠ©æºè‡ªä½•å¤„</a></li>
  <li><a href="#section-3">ç¬¬3ç«  - æ‚²è§‚è€…ä¸¥é‡çš„æŒ«æŠ˜</a></li>
  <li><a href="#section-4">ç¬¬4ç«  - ä»æ‚²è§‚æ»‘å‘æŠ‘éƒ</a></li>
  <li><a href="#section-5">ç¬¬5ç«  - æƒ³æ³•å†³å®šæ‚²å–œäººç”Ÿ</a></li>
  <li><a href="#section-6">ç¬¬6~11ç«  - ä¹è§‚çš„å¥½å¤„</a></li>
  <li><a href="#section-7">ç¬¬6ç«  - ä¹è§‚å¥ å®šæˆåŠŸçš„äº‹ä¸š</a></li>
  <li><a href="#section-8">ç¬¬7~8ç«  - è§£é‡Šé£æ ¼å¯¹å­©å­çš„å½±å“</a></li>
  <li><a href="#section-9">ç¬¬12ç«  - æ€æ ·ä¹ å¾—ä¹è§‚</a></li>
  <li><a href="#section-10">ç¬¬15ç«  - ä¹è§‚å¯ä»¥æœ‰å¼¹æ€§</a></li>
  <li><a href="#section-11">æ€»ç»“</a></li>
</ul>

<h3 id="section">å‰è¨€</h3>

<p>å‰ä¸¤å¤©ï¼Œçœ‹äº†å ä¸œåˆ†äº«çš„è¿™ä¸ªå…³äº Optimism çš„æ¼”è®² <a href="https://github.com/raganwald/presentations/blob/master/optimism.md">raganwald/presentations</a>ã€‚æœ‰ç‚¹æ„Ÿè§¦ï¼Œä¸€ç›´è‡ªè®¤ä¸ºæ˜¯æ‚²è§‚ä¸»ä¹‰è€…ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªæ¼”è®²çš„ä»‹ç»ä¸‹ï¼Œæ‰¾åˆ°äº† Martin Seligman åšå£«çš„è¿™æœ¬ä¹¦ Learned Optimismï¼Œä¸­æ–‡åä¸ºã€Šæ´»å‡ºæœ€ä¹è§‚çš„è‡ªå·±/å­¦ä¹ ä¹è§‚ã€‹ã€‚</p>

<p>å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥å°è¯•ä¸‹è¿™ä¸ªåœ¨çº¿æµ‹è¯• <a href="https://www.authentichappiness.sas.upenn.edu/questionnaires/optimism-test">optimism-test</a>ã€‚å¦‚æœå·²ç»è¶³å¤Ÿä¹è§‚ï¼Œé‚£å¤§å¯ä¸å¿…é˜…è¯»è¿™æœ¬ä¹¦ã€‚</p>

<p><strong>æ€ç»´å¯¼å›¾</strong></p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/learned_optimism.png" alt="learned_optimism" /></p>

<h3 id="section-1">ç¬¬1ç«  - æ‚²è§‚è€…ä¸ä¹è§‚è€…çš„ç”»åƒ</h3>

<blockquote>
  <p>æ‚²è§‚çš„äººçš„ç‰¹å¾æ˜¯ï¼Œä»–ç›¸ä¿¡åäº‹éƒ½æ˜¯å› ä¸ºè‡ªå·±çš„é”™ï¼Œè¿™ä»¶äº‹ä¼šæ¯æ‰ä»–çš„ä¸€åˆ‡ï¼Œä¼šæŒç»­å¾ˆä¹…ã€‚è€Œä¹è§‚çš„äººåœ¨é‡åˆ°åŒæ ·çš„å„è¿æ—¶ï¼Œä¼šè®¤ä¸ºç°åœ¨çš„å¤±è´¥æ˜¯æš‚æ—¶æ€§çš„ï¼Œæ¯ä¸ªå¤±è´¥éƒ½æœ‰å®ƒçš„åŸå› ï¼Œä¸æ˜¯è‡ªå·±çš„é”™ï¼Œå¯èƒ½æ˜¯ç¯å¢ƒã€è¿æ°”æˆ–å…¶ä»–äººä¸ºåŸå› çš„åæœã€‚è¿™ç§äººä¸ä¼šè¢«å¤±è´¥å‡»å€’ã€‚åœ¨é¢å¯¹æ¶åŠ£ç¯å¢ƒæ—¶ï¼Œä»–ä»¬ä¼šæŠŠå®ƒçœ‹æˆæ˜¯ä¸€ç§æŒ‘æˆ˜ï¼Œæ›´åŠªåŠ›åœ°å»å…‹æœå®ƒã€‚</p>
</blockquote>

<p>å¿ƒç†å­¦åœ¨è¿‡å»20å¹´æœ€æ˜¾è‘—çš„å‘ç°å°±æ˜¯ï¼šäººå¯ä»¥é€‰æ‹©ä»–æƒ³è¦çš„æ€ç»´æ¨¡å¼ã€‚</p>

<p>æˆ‘ä»¬ä»ä¸ªäººæ§åˆ¶ç†è®ºå¼€å§‹ï¼Œä¸»è¦æ¶‰åŠä¸¤ä¸ªå½¼æ­¤äº¤é”™çš„æ¦‚å¿µï¼š</p>

<ul>
  <li>ä¹ æƒ¯æ€§æ— åŠ© Learned helplessness æ˜¯ä¸€ä¸ªæ”¾å¼ƒçš„ååº”ï¼Œæ˜¯æºè‡ªã€æ— è®ºä½ æ€ä¹ˆåŠªåŠ›éƒ½äºäº‹æ— è¡¥ã€çš„æƒ³æ³•çš„è¡Œä¸ºã€‚</li>
  <li>è§£é‡Šé£æ ¼ Explanatory style æ˜¯ä¹ æƒ¯æ€§æ— åŠ©çš„æ ¸å¿ƒï¼Œæ˜¯ä½ å¯¹ä¸ºä»€ä¹ˆè¿™ä»¶äº‹ä¼šå‘ç”Ÿçš„ä¹ æƒ¯æ€§çš„è§£é‡Šæ–¹å¼ã€‚ï¼ˆæ¯ä¸ªäººåœ¨ç¢°åˆ°ä¸å¦‚æ„çš„äº‹æƒ…æ—¶ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯å»è§£é‡Šè¿™ä¸ªä¸å¦‚æ„ã€‚è¿™äº›è§£é‡Šå†³å®šäº†æˆ‘ä»¬ä¸‹ä¸€æ­¥æ€ä¹ˆåšã€‚æˆ‘ä»¬çš„è§£é‡Šé£æ ¼å’Œæƒ³æ³•ä¸ä»…å½±å“ç€æˆ‘ä»¬çš„è¡ŒåŠ¨ï¼Œä¹Ÿå½±å“ç€æˆ‘ä»¬çš„æ„Ÿè§‰å’Œæƒ…ç»ªã€‚ï¼‰</li>
</ul>

<h3 id="section-2">ç¬¬2ç«  - æ‚²è§‚è€…çš„æ— åŠ©æºè‡ªä½•å¤„</h3>

<p>å…³äºå¿ƒç†å­¦ç®€å²ï¼š</p>

<ul>
  <li>å¿ƒç†åˆ†æå­¦æ´¾ã€ä½›æ´›ä¾å¾·æ´¾ï¼Œå¼ºè°ƒç²¾ç¥æ´»åŠ¨çš„éšæ„è¯†æ–¹é¢ï¼Œå¹¶å¤§èƒ†çš„ä»¥æ€§ä¸ºåˆ‡å…¥ç‚¹ï¼Œå°†äººçš„ç²¾ç¥é—®é¢˜å½’å› ä¸ºç«¥å¹´çš„å¿ƒç†åˆ›ä¼¤ï¼ˆä½›æ´›ä¾å¾·è®¤ä¸ºæ¢¦åˆ°ç‰™é½¿æ‰ä¸‹æ¥ä»£è¡¨ç€é˜‰å‰²ä»¥åŠæ‰‹æ·«çš„ç½ªæ¶æ„Ÿï¼Œåšæ¢¦çš„äººå®³æ€•ä»–çš„çˆ¶äº²ç”¨é˜‰å‰²çš„æ–¹å¼æƒ©ç½šä»–æ‰‹æ·«çš„ç½ªæ¶ã€‚ï¼‰</li>
  <li>è¡Œä¸ºä¸»ä¹‰å­¦æ´¾ï¼ŒåšæŒä¸€ä¸ªäººçš„æ‰€æœ‰è¡Œä¸ºåªå—ä»–å¾—åˆ°çš„å¥–åŠ±å’Œæƒ©ç½šæ‰€å†³å®šï¼šä¸€ä¸ªè¢«å¥–åŠ±çš„è¡Œä¸ºå¯èƒ½ä¼šé‡å¤ï¼Œè€Œä¸€ä¸ªè¢«æƒ©ç½šçš„è¡Œä¸ºåˆ™å¯èƒ½ä¼šè¢«å‹æŠ‘ï¼Œå¦‚æ­¤æ˜¯å·²ã€‚</li>
  <li>è®¤çŸ¥å¿ƒç†å­¦ï¼Œå®ƒä¿ç•™äº†å¯¹æ”¹å˜çš„ä¹è§‚ä¿¡å¿µï¼Œè®¤ä¸ºã€è‡ªæˆ‘ã€å¯ä»¥æ”¹è¿›è‡ªå·±ã€‚</li>
</ul>

<h3 id="section-3">ç¬¬3ç«  - æ‚²è§‚è€…ä¸¥é‡çš„æŒ«æŠ˜</h3>

<p>è§£é‡Šé£æ ¼æœ‰ä¸‰ç§ç»´åº¦â€”â€”æ°¸ä¹…æ€§ã€æ™®éæ€§å’Œäººæ ¼åŒ–ã€‚æ™®éæ€§å’Œæ°¸ä¹…æ€§æ§åˆ¶ç€ä½ çš„è¡Œä¸ºï¼Œä½ çš„æ— åŠ©æ„Ÿçš„æŒä¹…æ€§ï¼Œä»¥åŠæ— åŠ©æ„Ÿæ¶‰åŠçš„å±‚é¢ï¼›äººæ ¼åŒ–æ§åˆ¶ç€ä½ å¦‚ä½•çœ‹å¾…è‡ªå·±ï¼Œå¯¹è‡ªå·±çš„æ„Ÿå—ã€‚å½“ä¸å¥½çš„äº‹æƒ…å‘ç”Ÿæ—¶ï¼Œæ‚²è§‚çš„äººæ€ªç½ªè‡ªå·±ï¼Œä¹è§‚çš„äººæ€ªç½ªæ—äººæˆ–ç¯å¢ƒï¼›å½“å¥½äº‹æƒ…å‘ç”Ÿæ—¶ï¼Œæ‚²è§‚çš„äººå½’åŠŸäºæ—äººæˆ–ç¯å¢ƒï¼Œè€Œä¹è§‚çš„äººå½’åŠŸäºè‡ªå·±ã€‚</p>

<p>æ ¹æ®ä¹¦ä¸­ç¬¬3ç« çš„è°ƒæŸ¥é—®å·ï¼Œè‡ªå·±åšäº†å¦‚ä¸‹ç¬”è®°ï¼š</p>

<p><img src="https://raw.githubusercontent.com/ifyouseewendy/ifyouseewendy.github.io/source/image-repo/learned_optimism_questionaire_0826.jpeg" alt="learned_optimism_questionaire_0826" /></p>

<p>å°†æœ€åçš„æ€»ç»“å†…å®¹èªŠå†™åœ¨è¿™ï¼š</p>

<ul>
  <li>æ€»ä½“ä¸Šï¼Œæˆ‘å¾—åˆ°äº†ã€ä¸­ç­‰æ‚²è§‚ã€çš„åˆ†æ•°ã€‚</li>
  <li>æˆ‘åªåœ¨ PvB ä¸Šè¡¨ç°å‡ºäº†ä¹è§‚ï¼Œå³æˆ‘ä¸ä¼šè®¤ä¸ºäº‹æƒ…ä¼šæ™®éçš„ä¸å¥½ã€‚</li>
  <li>ä½†æ˜¯æˆ‘åœ¨å…¶ä»–ã€è§£é‡Šé£æ ¼ã€ï¼Œå³æ°¸ä¹…æ€§å’Œäººæ ¼åŒ–ä¸Šï¼Œæˆ‘çš„è¡¨ç°éå¸¸ç³Ÿç³•ã€‚è¿™è¯´æ˜äº†
    <ul>
      <li>æˆ‘æƒ¯äºæŠŠåçš„äº‹æƒ…å½“åšæ°¸ä¹…ã€ä¸€æˆä¸å˜çš„çŠ¶æ€ï¼Œè€Œå¥½çš„äº‹æƒ…åªä½œä¸€æ—¶ä¹‹å¹¸</li>
      <li>æˆ‘çš„è‡ªå°Šéå¸¸ä½ï¼Œå…³äºå°†é”™è¯¯å½’å’è‡ªå·±ï¼Œè€Œå°†æˆåŠŸå½’å› ç¯å¢ƒä¸ä»–äºº</li>
    </ul>
  </li>
  <li>æˆ‘ç†è§£è‡ªå·±çš„å¾—åˆ†ï¼Œä¸ç¦å¯¹è‡ªå·±ä¸€ç›´ä»¥æ¥å¸Œæœ›ç§‰æ‰¿çš„ã€è°¦è™šã€å’Œã€å®¢è§‚ã€è¡¨ç¤ºå¼ºçƒˆæ€€ç–‘ï¼</li>
</ul>

<h3 id="section-4">ç¬¬4ç«  - ä»æ‚²è§‚æ»‘å‘æŠ‘éƒ</h3>

<p>æŠ‘éƒçš„äººé€šå¸¸ä¼šåœ¨æ€æƒ³ã€æƒ…ç»ªã€è¡Œä¸ºå’Œèº«ä½“å››ä¸ªæ–¹é¢å‘ç”Ÿæ¶ˆæçš„å˜åŒ–ã€‚</p>

<blockquote>
  <p>æŠ‘éƒç—‡æ‚£è€…é€šå¸¸åœ¨åˆšé†’æ¥æ—¶æƒ…ç»ªå¤„äºæœ€ä½æ½®ï¼Œä½ èººåœ¨åºŠä¸Šæƒ³ç€è¿‡å»ç§ç§çš„å¤±è´¥ï¼Œæƒ³ç€ä»Šå¤©å¯èƒ½è¦é¢ä¸´çš„å¤±è´¥ï¼Œå‡å¦‚ä½ èººåœ¨åºŠä¸Šä¸èµ·èº«ï¼Œè¿™äº›å¤±è´¥çš„æƒ³æ³•å°±åƒä¸€åºŠæ£‰è¢«ä¸€æ ·æŠŠä½ åŒ…è£¹ç€ï¼Œå¦‚æœä½ çˆ¬èµ·åºŠï¼Œå¼€å§‹ä¸€å¤©çš„æ´»åŠ¨ï¼Œé€šå¸¸æƒ…ç»ªä¼šå˜å¥½äº›ã€‚åˆ°äº†ä¸‹åˆ3ç‚¹åˆ°6ç‚¹ï¼Œæƒ…ç»ªåˆä¼šä½è½ä¸‹å»ã€‚æ™šä¸Šé€šå¸¸æ˜¯ä¸€å¤©ä¸­æœ€ä¸æŠ‘éƒçš„æ—¶é—´ï¼Œæ¸…æ™¨3ç‚¹åˆ°5ç‚¹ï¼Œå¦‚æœä½ æ²¡ç¡ç€ï¼Œåˆ™æ˜¯æƒ…ç»ªæœ€å·®çš„æ—¶å€™ï¼Œæƒ…ç»ªåœ¨ä¸€å¤©ä¸­æ˜¯æœ‰æ‰€å˜åŒ–çš„ã€‚</p>
</blockquote>

<p>çœ‹åˆ°è¿™æ®µè¯ï¼ŒæƒŠå¾—æˆ‘ä¸€èº«å†·æ±—ï¼Œå¥½åƒå›åˆ°æ›¾ç»å¤§å­¦å®¿èˆé‚£ä¸ªå†°å†·çš„å°å±‹ã€‚å›æƒ³é‚£æ®µæ—¥å­ï¼Œåªæ˜¯è§‰ç€è‡ªå·±ä»æ‚¬å´–è¾¹èµ°è¿‡ï¼Œä»Šå¤©æ‰¾åˆ°äº†èƒŒåçœŸæ­£çš„å«ä¹‰ã€‚</p>

<h3 id="section-5">ç¬¬5ç«  - æƒ³æ³•å†³å®šæ‚²å–œäººç”Ÿ</h3>

<p>è®¤çŸ¥ç–—æ³•æœ‰äº”ç§ç­–ç•¥</p>

<ul>
  <li>å­¦ä¼šå»è®¤è¯†åœ¨æƒ…ç»ªæœ€ä½æ²‰æ—¶è‡ªåŠ¨å†’å‡ºæ¥çš„æƒ³æ³•</li>
  <li>å­¦ä¼šä¸è¿™ä¸ªè‡ªåŠ¨å†’å‡ºæ¥çš„æƒ³æ³•æŠ—äº‰</li>
  <li>å­¦ä¼šç”¨ä¸åŒçš„è§£é‡Šâ€”â€”é‡æ–°å½’å› ï¼ˆreattributionï¼‰å»å¯¹æŠ—åŸæœ‰çš„æƒ³æ³•</li>
  <li>å­¦ä¼šå¦‚ä½•æŠŠè‡ªå·±ä»æŠ‘éƒçš„æ€ç»ªä¸­å¼•å¼€</li>
  <li>å­¦ä¼šå»è®¤è¯†å¹¶ä¸”è´¨ç–‘é‚£äº›æ§åˆ¶ä½ å¹¶å¼•èµ·ä½ æŠ‘éƒçš„å‡è®¾</li>
</ul>

<blockquote>
  <p>ç”·äººç¢°åˆ°äº‹æƒ…ä¼šå»åšï¼Œè€Œä¸ä¼šåå¤å»æƒ³ï¼›è€Œå¥³äººå–œæ¬¢é’»ç‰›è§’å°–ï¼ŒæŠŠäº‹æƒ…ç¿»æ¥è¦†å»çš„æƒ³â€”â€”ååˆï¼ˆruminationï¼‰ï¼Œå»åˆ†æå®ƒä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ã€‚å¥³æ€§çœ‹å¾…äº‹æƒ…çš„æ–¹å¼é€ æˆå¥³æ€§å¾—æŠ‘éƒç—‡çš„æ¯”ä¾‹æ˜¯ç”·æ€§çš„ä¸¤å€ã€‚</p>
</blockquote>

<h3 id="section-6">ç¬¬6~11ç«  - ä¹è§‚çš„å¥½å¤„</h3>

<p>ä½œè€…ä»ä¸ªäººäº‹ä¸šã€èº«ä½“ã€å­©å­ã€ä½“è‚²èµ›äº‹ã€ä¼ä¸šç»„ç»‡ã€ç«é€‰å‡ ä¸ªè§’åº¦é˜é‡Šäº†ï¼Œä¹è§‚çš„äººç›¸å¯¹è¡¨ç°æ›´å¥½ã€‚</p>

<blockquote>
  <p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œè°ä¼šç¢°åˆ°è¾ƒå¤šä¸å¹¸çš„äº‹ä»¶å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ‚²è§‚çš„äººã€‚å› ä¸ºä»–ä»¬æ¯”è¾ƒè¢«åŠ¨ï¼Œè¾ƒå°‘ä¸»åŠ¨é‡‡å–è¡ŒåŠ¨æ¥é¿å…ä¸å¥½çš„äº‹ï¼Œè€Œä¸”åœ¨äº‹æƒ…å‘ç”Ÿä¹‹åä¹Ÿè¾ƒå°‘é‡‡å–è¡ŒåŠ¨æ¥ç»ˆæ­¢è¿™äº›äº‹ã€‚</p>
</blockquote>

<p>ä½†æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å¹³è¡¡ç‚¹ï¼Œå³ã€ä¸ç›²ç›®ä¹è§‚ã€ã€‚</p>

<ul>
  <li>ä¹ æƒ¯æ€§ä¹è§‚ä¸æ˜¯æ•™ä½ è‡ªç§ã€è‡ªå¤§ï¼Œè®©åˆ«äººä¸èƒ½å¿å—ï¼Œå®ƒè¦æ•™ä½ åœ¨é‡åˆ°å¤±è´¥æŒ«æŠ˜æ—¶å¦‚ä½•ä¸è‡ªå·±å¯¹è¯ã€‚ä½ è¦å­¦ä¼šå¦‚ä½•åœ¨æ”¶åˆ°æ‰“å‡»æ—¶ï¼Œä»æ›´å…·é¼“åŠ±æ€§çš„è§’åº¦æ¥è€ƒè™‘æŒ«æŠ˜æˆ–å›°å¢ƒã€‚</li>
  <li>ä½¿ç”¨ä¹è§‚æŠ€æœ¯çš„åŸºæœ¬åŸåˆ™æ˜¯å…ˆé—®ï¼Œåœ¨æŸä¸€ä¸ªç‰¹å®šæƒ…å†µä¸‹å¤±è´¥çš„ä»£ä»·æ˜¯ä»€ä¹ˆã€‚å¦‚æœå¤±è´¥çš„ä»£ä»·å¾ˆé«˜ï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ä¹è§‚ã€‚</li>
</ul>

<h3 id="section-7">ç¬¬6ç«  - ä¹è§‚å¥ å®šæˆåŠŸçš„äº‹ä¸š</h3>

<p>ä¹‹å‰çš„é˜…è¯»ï¼Œè®©æˆ‘æå‡ºæ€€ç–‘ï¼šè‡ªå·±æš‚æ—¶åæ‚²è§‚çš„äººæ ¼ï¼Œä¸€å®šæ˜¯åçš„å—ï¼Ÿå¦‚æœæˆ‘æ˜¯ä¸ªä¹è§‚çš„äººï¼Œä¼šæ¯”ç°åœ¨æ´»å¾—æ›´å¥½å—ï¼Ÿä¸€ç›´ä»¥æ¥æˆ‘è¦æ±‚è‡ªå·±ã€è°¦è™šã€å’Œã€å®¢è§‚ã€ï¼Œä½†æ˜¯è¿™åŒæ ·éƒ¨åˆ†å¯¼è‡´äº†æˆ‘åœ¨æµ‹è¯•ä¸­ä½“ç°çš„æ‚²è§‚åˆ†æ•°ã€‚</p>

<p>è¿™ä¸€ç« çš„é˜…è¯»å¯ä»¥å›ç­”æˆ‘ä¹‹å‰çš„ç–‘é—®ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªè§‚ç‚¹ï¼š</p>

<ul>
  <li>ä¼ ç»Ÿçš„æˆåŠŸè§‚ç‚¹å¹¶ä¸å®Œå–„ã€‚è¦æˆåŠŸï¼Œé™¤äº†å…·å¤‡èƒ½åŠ›å’ŒåŠ¨æœºä¹‹å¤–ï¼Œè¿˜éœ€è¦åšæŒï¼Œé‡åˆ°æŒ«æŠ˜ä¹Ÿä¸æ”¾å¼ƒçš„åšæŒï¼Œè€Œä¹è§‚çš„è§£é‡Šé£æ ¼åˆ™æ˜¯åšæŒçš„çµé­‚ã€‚</li>
  <li>æˆåŠŸçš„ç”Ÿæ´»éœ€è¦å¤§éƒ¨åˆ†æ—¶é—´çš„ä¹è§‚å’Œå¶å°”çš„æ‚²è§‚ã€‚æˆ‘ç†è§£è¿™ä¸ªå¹³è¡¡ç‚¹ä½äºã€ä¸ç›²ç›®ä¹è§‚ã€ã€‚</li>
  <li>æ‚²è§‚ä¸æ˜¯ä¸€æ— æ˜¯å¤„ï¼Œå°±åƒå¤´è„‘ç‰¹å·¥é˜Ÿé‡Œè¯•å›¾é˜é‡Šå¿§å¿§ï¼ˆsadnessï¼‰å­˜åœ¨çš„æ„ä¹‰ä¸€æ ·ï¼Œæ‚²è§‚è®©æˆ‘ä»¬æ›´å†·é™ã€å¯¹äº‹æƒ…æœ‰æ›´æ¸…æ¥šçš„åˆ¤æ–­ã€‚æ‰€ä»¥è½»åº¦æ‚²è§‚æ˜¯å¯ä»¥æ¥å—çš„çŠ¶æ€ã€‚</li>
</ul>

<p>è¿™ä¸€ç« åŒæ ·å›ç­”äº†å¿ƒä¸­å¦ä¸€ä¸ªé—®é¢˜ï¼Œå›½å®¶åŠ¨ç”¨ç™¾ä¸‡èµ„é‡‘æ”¯æŒå¿ƒç†ç ”ç©¶ï¼Œé™¤äº†ä¸ºè§£å†³å„ä½“çš„å¿ƒç†é—®é¢˜å¤–ï¼Œæœ‰ä»€ä¹ˆæ›´å®é™…ï¼ˆç‰©è´¨å±‚é¢ï¼‰çš„æ„ä¹‰ï¼Ÿ</p>

<p>ç”±äºé”€å”®æ˜¯ä¸ªæ—¶å¸¸é­å—æŒ«æŠ˜çš„èŒä¸šï¼Œå…¬å¸èŠ±è´¹å¤§é‡çš„äººåŠ›ç‰©åŠ›å¯¹æ–°äººè¿›è¡ŒåŸ¹è®­ï¼Œä½†æ˜¯é«˜ç¦»èŒç‡å¯¼è‡´å…¬å¸éœ€è¦æ‰¿æ‹…ä¸è²çš„æŸå¤±ã€‚å¤§éƒ½ä¼šä¿é™©ï¼Œå°±æ˜¯è¿™æ ·ä¸€å®¶ä¼ä¸šã€‚Seligman åšå£«å¸®åŠ©å¤§éƒ½ä¼šç­›é€‰å…¥èŒäººå‘˜æ—¶ï¼Œå°†ä¹è§‚æ‚²è§‚çš„äººæ ¼ä½œä¸ºä¸€é¡¹æ–°çš„è€ƒé‡ï¼Œé™ä½äº†ç¦»èŒç‡ï¼Œä¸ºå…¬å¸åœ¨è´¢åŠ¡å±‚é¢èŠ‚çœäº†ä¸è²çš„èµ„é‡‘ã€‚</p>

<h3 id="section-8">ç¬¬7~8ç«  - è§£é‡Šé£æ ¼å¯¹å­©å­çš„å½±å“</h3>

<ul>
  <li>å­©å­8å²æ—¶ï¼Œä¹è§‚æˆ–æ‚²è§‚çš„è§£é‡Šé£æ ¼åŸºæœ¬å®šå‹äº†ã€‚</li>
  <li>å­©å­çš„è§£é‡Šé£æ ¼ä¼šå—åˆ°ä¸‰ç§å› ç´ çš„å½±å“ï¼š
    <ul>
      <li>å­©å­ä»çˆ¶æ¯èº«ä¸Šå­¦åˆ°çš„å„ç§äº‹ä»¶çš„å› æœåˆ†æï¼Œå°¤å…¶æ˜¯å¦ˆå¦ˆçš„</li>
      <li>å­©å­å¬åˆ°çš„æ‰¹è¯„æ–¹å¼ï¼Œå³å¦‚æœè¿™äº›æ‰¹è¯„æ˜¯æ°¸ä¹…çš„ã€æ™®éçš„ã€å†…åœ¨çš„ï¼Œé‚£ä¹ˆä»–å¯¹è‡ªå·±çš„çœ‹æ³•å°±ä¼šè½¬å‘æ‚²è§‚</li>
      <li>å­©å­æ—©æœŸç”Ÿæ´»ç»éªŒä¸­çš„ç”Ÿç¦»æ­»åˆ«å’Œå·¨å¤§å˜æ•…ã€‚å¦‚æœè¿™ä¸ªäº‹æ•…æ˜¯æ°¸ä¹…å’Œæ™®éçš„ï¼Œé‚£ä¹ˆç»æœ›çš„ç§å­ä¼šæ·±åŸ‹å­©å­å¿ƒä¸­ï¼›å¦‚æœè¿™äº›äº‹ä»¶å¥½è½¬äº†ï¼Œä»–ä¼šæ¯”è¾ƒä¹è§‚ã€‚çˆ¶æ¯ç¦»å¼‚æˆ–ç»å¸¸äº‰åµæ˜¯æœ€å®¹æ˜“å¼•å‘å­©å­æŠ‘éƒçš„æ—¶é—´ã€‚</li>
    </ul>
  </li>
  <li>å¤±å»ä¹è§‚ï¼Œä¼ ç»Ÿæ„ä¹‰ä¸Šçš„èªæ˜æ‰æ™ºå¯¹æˆåŠŸæ²¡æœ‰æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</li>
</ul>

<h3 id="section-9">ç¬¬12ç«  - æ€æ ·ä¹ å¾—ä¹è§‚</h3>

<p>æ”¹å˜æ‚²è§‚çš„è§£é‡Šé£æ ¼æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>

<ul>
  <li>è½¬ç§»æ³¨æ„ã€‚å½“ä¸å¥½çš„äº‹æƒ…å‘ç”Ÿæ—¶ï¼Œå®‰æ’ä¸€ä¸ªæ—¶é—´å»æƒ³å®ƒï¼›å½“æ¶ˆæçš„æƒ³æ³•ä¸€å‡ºç°ï¼Œå°±ç«‹åˆ»æŠŠå®ƒå†™ä¸‹æ¥ã€‚</li>
  <li>åé©³ã€‚ä»é•¿è¿œæ¥çœ‹ï¼Œåé©³æ›´æœ‰æ•ˆ
    <ul>
      <li>ä¿æŒè·ç¦»ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šå’Œåˆ«äººæ— ç†çš„æŒ‡è´£ä¿æŒä¸€ä¸ªè·ç¦»ã€‚ä½†æ˜¯è¦æˆ‘ä»¬ä¸è‡ªå·±çš„æŒ‡è´£ä¿æŒè·ç¦»å°±å¾ˆå›°éš¾ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šè®¤ä¸ºï¼Œå¦‚æœè¿™ä¸ªæŒ‡è´£æ¥è‡ªå†…å¿ƒï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ˜¯çœŸçš„ã€‚å¤§é”™ç‰¹é”™ï¼æˆ‘ä»¬åœ¨é­å—æŒ«æŠ˜æ—¶å¯¹è‡ªå·±è¯´çš„è¯å¯èƒ½å’Œä¸æ€€å¥½æ„çš„äººè¯´çš„ä¸€æ ·æ¯«æ— æ ¹æ®ã€‚</li>
      <li>åé©³çš„å››ä¸ªè¿‡ç¨‹
        <ul>
          <li>å¯»æ‰¾è¯æ®</li>
          <li>å…¶ä»–å¯èƒ½æ€§</li>
          <li>æš—ç¤ºã€‚å³ä½¿æˆ‘çš„æ¶ˆææƒ³æ³•æ˜¯å¯¹çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæƒ³æ³•çš„æš—ç¤ºæ˜¯ä»€ä¹ˆï¼Ÿ</li>
          <li>ç”¨å¤„ã€‚æœ‰æ—¶å€™ï¼Œè¿™äº›æƒ³æ³•çš„åæœæ¯”æƒ³æ³•çš„çœŸå®æ€§æ›´é‡è¦ã€‚å›é—®è‡ªå·±ï¼Œè¿™äº›æƒ³æ³•æ˜¯å¦æœ‰ç ´åæ€§ï¼Ÿ</li>
        </ul>
      </li>
      <li>è®°å½•æ•´ä¸ªè¿‡ç¨‹ï¼Œæ‰¾æœ‹å‹è¯´å‡ºè‡ªå·±çš„åé©³ï¼Œä¸æ–­ç»ƒä¹ ã€‚</li>
    </ul>
  </li>
</ul>

<h3 id="section-10">ç¬¬15ç«  - ä¹è§‚å¯ä»¥æœ‰å¼¹æ€§</h3>

<p>ä¾ä½œè€…è§‚ç‚¹ï¼ŒæŠ‘éƒç—‡åœ¨ç¾å›½æ³›æ»¥çš„æœºåˆ¶æ˜¯ä¹ æƒ¯æ€§æ— åŠ©ï¼Œä¸»è¦åŸå› åˆ™æ˜¯ï¼š</p>

<ul>
  <li>ä¸ªäººä¸»ä¹‰çš„å…´èµ·ï¼Œå³ã€ç‰¹å¤§å·ã€çš„è‡ªæˆ‘ã€‚è¿™æ˜¯ä¸€ä¸ªå¼ºè°ƒä¸ªäººæ§åˆ¶çš„æ—¶ä»£ï¼Œè‡ªæˆ‘è†¨èƒ€å·²ç»åˆ°äº†å±é™©çš„åœ°æ­¥ï¼Œä¸ªä½“çš„æ— åŠ©éœ€è¦è¢«æ²»ç–—ã€‚æˆ‘ä»¬çš„æ¬²æœ›ã€å¥¢æ±‚è¶Šæ¥è¶Šå¤šï¼Œå¤±æœ›ã€æ— åŠ©ä¾¿éšä¹‹è€Œæ¥ã€‚</li>
  <li>å…¬å…±æ„è¯†çš„æ¶ˆå¤±ã€‚äººç±»éœ€è¦ç”Ÿæ´»åœ¨æ„ä¹‰å’Œå¸Œæœ›ä¸­ã€‚å…³äºç”Ÿå‘½çš„æ— æ„ä¹‰æ„Ÿï¼Œæœ‰æ„ä¹‰çš„ä¸€ä¸ªå¿…è¦æ¡ä»¶å°±æ˜¯å®ƒå¿…é¡»ä¾é™„åˆ°ä¸€ä¸ªæ¯”è‡ªæˆ‘æ›´å¤§çš„ä¸œè¥¿ä¸Šå»ã€‚ä½ å¯ä»¥ä¾é™„çš„ä¸œè¥¿è¶Šå¤§ï¼Œä½ æ‰€æ‹¥æœ‰çš„æ„ä¹‰è¶Šå¤šã€‚è€Œä¸æ–­å‘ç”Ÿçš„æ”¿æ²»äº‹ä»¶å‰Šå¼±äº†äººä»¬å¯¹å›½å®¶çš„æœŸæœ›ï¼Œç¤¾ä¼šè¶‹åŠ¿ä¹Ÿå‡å¼±äº†äººä»¬å¯¹ç¥è¢›å’Œå®¶åº­çš„ä¾èµ–ã€‚å…¬å…±æ„è¯†å³æŒ‡å¯¹å›½å®¶ã€ç¥è¢›å’Œå®¶åº­çš„çœ‹æ³•ã€‚</li>
  <li>ç®€è¦æ¥è¯´ï¼Œå³å¯¹è‡ªå·±çš„è¿‡åº¦å…³æ€€å’Œå¯¹å›¢ä½“çš„ä¸å¤Ÿå…³å¿ƒã€‚</li>
</ul>

<p>å‡ºè·¯ä½•åœ¨ï¼š</p>

<ul>
  <li>æ‰¾å‡ºç‰¹å¤§å·è‡ªæˆ‘çš„ä¼˜åŠ¿ï¼Œè¿ç”¨ä¹ æƒ¯æ€§ä¹è§‚ã€‚</li>
  <li>æ”¹å˜ä¸ªäººä¸å›¢ä½“ä¹‹é—´çš„å…³ç³»ï¼Œå¯»æ‰¾æ–°çš„å¹³è¡¡ç‚¹ã€‚</li>
</ul>

<p>å¦‚ä½•å®è·µï¼Œä½œè€…æåˆ°äº†ä¸€ä¸ªè¯ã€é“å¾·æ…¢è·‘ã€ï¼ŒåŸºäºè¿™æ ·çš„è§‚ç‚¹ï¼šæˆ‘ä»¬æ…¢è·‘æ˜¯å› ä¸ºæˆ‘ä»¬æœŸæœ›ç”¨ç”¨æ¯ä¸€å¤©çš„è‡ªæˆ‘ç‰ºç‰²å»æ¢å–é•¿è¿œçš„è‡ªæˆ‘åˆ©ç›Šã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¢åŠ å…¬å…±æ„è¯†æ¥å¹³è¡¡è‡ªæˆ‘å’Œå›¢ä½“çš„å…³ç³»ï¼Œåšä¸€åœºé“å¾·æ…¢è·‘ï¼š</p>

<ul>
  <li>æ”¾å¼ƒä¸€äº›äº«ä¹è¡Œä¸ºï¼ŒæŠŠä¸€å‘¨ä¸­çš„ä¸€ä¸ªæ™šä¸Šç”¨äºä»äº‹ä¸€ä»¶å¯¹å›¢ä½“ã€ç¤¾åŒºæœ‰åˆ©çš„æ´»åŠ¨</li>
  <li>å½“ä½ è¯»åˆ°æŸä¸ªé¢†ä½ æ„ŸåŠ¨çš„äº‹è¿¹æ—¶ï¼Œå†™ä¿¡ç»™é‚£ä¸ªäººã€‚å†™ä¿¡å»é¼“åŠ±é‚£äº›å€¼å¾—ä½ å°Šæ•¬çš„äººã€‚ä¸€ä¸ªæ˜ŸæœŸèŠ±ä¸‰ä¸ªå°æ—¶æ¥å†™è¿™ç§ä¿¡ï¼Œæƒ©æ¶æ‰¬å–„</li>
  <li>æ•™å¯¼ä½ çš„å­©å­å¦‚ä½•æ–½èˆã€‚å«ä»–ä»¬æŠŠè‡ªå·±é›¶ç”¨é’±çš„1/4ç•™ä¸‹æ¥æå‡ºå»ï¼Œè®©ä»–ä»¬è‡ªå·±å»æ‰¾å€¼å¾—æçš„äººæˆ–äº‹æƒ…ã€‚</li>
</ul>

<blockquote>
  <p>å¦‚æœä½ ä¸ºç¤¾åŒºã€ä¸ºå›¢ä½“æœåŠ¡å¾—å¤Ÿä¹…çš„è¯ï¼Œä½ å°±ä¼šæ‰¾åˆ°ç”Ÿå‘½çš„æ„ä¹‰ï¼Œä½ ä¼šå‘ç°ä½ è¶Šæ¥è¶Šä¸å®¹æ˜“æŠ‘éƒï¼Œä¹Ÿå˜å¾—ä¸å®¹æ˜“å¾—æ„Ÿå†’ï¼Œä½ è¶Šæ¥è¶Šå–œæ¬¢å‚åŠ å›¢ä½“çš„æ´»åŠ¨è€Œä¸æ˜¯å…³èµ·é—¨æ¥ç‹¬ä¹ä¹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä½ å¿ƒçµä¸­çš„é‚£å—ç©ºè™šï¼Œé‚£ä¸ªä¸ªäººä¸»ä¹‰æ‰€æ»‹å…»çš„æ— æ„ä¹‰æ„Ÿä¼šè¢«å¡«çš„æ»¡æ»¡çš„ã€‚</p>
</blockquote>

<h3 id="section-11">æ€»ç»“</h3>

<p>å¥³æœ‹å‹å‘ç°æˆ‘åœ¨çœ‹è¿™æœ¬ä¹¦ï¼Œä¸€è„¸åç¬‘ï¼Œé—ªçƒå…¶è¯ã€‚ã€å°‘å¹´ï¼Œä½ å¿ƒç†æœ‰ç—…å•Šï¼Ÿã€è¯´å®è¯ï¼Œæˆ‘ç¡®å®è§‰ç€è‡ªå·±å¿ƒç†æœ‰ç‚¹é—®é¢˜ã€‚æˆ‘çš„å¸¸æ€æ˜¯åå¤±è½çš„ï¼Œæ²¡æœ‰å¤§å–œå¤§æ‚²ï¼Œä½†æ€»æ˜¯å¯¹è‡ªå·±ä¸æ»¡ã€‚ã€è¯»é¸¡æ±¤æ–‡æœ‰ç”¨å—ï¼Ÿã€æ¯ä¸ªäººçœ‹åˆ°çš„ä¸ä¸€æ ·å§ã€‚æˆ‘ç›¸ä¿¡ï¼Œå¥½å¤šæ—¶å€™æˆ‘ä»¬çš„è¡Œä¸ºéƒ½æ˜¯å¤„äºâ€the zombie modeâ€ï¼Œä¹ æƒ¯çš„è¡Œä¸ºæ¨¡å¼ï¼Œæˆ–è€…è¯´å¿ƒç†ä¸Šçš„æ¡ä»¶åå°„ã€‚ä¸ç»è¿‡æ€è€ƒä¸å‰–æï¼Œæœ‰å¤ªå¤šæƒ³æ³•ä¸å¯å¯Ÿè§‰ã€‚è¿™æœ¬ä¹¦è‡³äºæˆ‘æœ€å¤§çš„æ„ä¹‰åœ¨äºæä¾›äº†ä¸€ä¸ªå…¨æ–°çš„è§’åº¦ï¼Œè®©æˆ‘æ›´åŠ äº†è§£è‡ªå·±ã€‚å®ƒè¯´æœæˆ‘è®©æˆ‘çœŸæ­£ç›¸ä¿¡ä¹è§‚æ˜¯ä¸€ä¸ªä¼˜ç‚¹ï¼Œè€Œä¸æ˜¯ä¸€å¥å£å·ã€‚æˆ‘ä¹Ÿæ„¿æ„è‡ªæ­¤è°ƒæ•´ï¼Œæ‘†è„±ç°åœ¨ã€ä¸­åº¦æ‚²è§‚ã€çš„å¿ƒç†çŠ¶æ€ã€‚ä½œè€…æœ€åç»™å‡ºçš„è°ƒèŠ‚åŠæ³•ï¼Œæˆ‘ä¸è§‰ç€æ·±åˆ»æœ‰æ•ˆï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯åœ¨è®¤å¯ä¹è§‚çš„å‰ææ¡ä»¶ä¸‹ï¼Œè¿›è¡Œè§‚å¯Ÿã€åæ€ã€è‡ªæˆ‘è°ƒèŠ‚çš„è‰¯æ€§å¾ªç¯ã€‚ä¹¦ä¸­å…³äºå¦‚ä½•åŸ¹å…»å­©å­çš„ä¹è§‚å¿ƒæ€ï¼Œå¦‚ä½•å°†ä¹è§‚åº”ç”¨åœ¨ä¼ä¸šç®¡ç†ä»¥åŠé¢„æµ‹æ€»ç»Ÿç­‰æ´»åŠ¨çš„äº‹ä¾‹ï¼Œéƒ½éå¸¸è€äººå¯»å‘³ã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Name Driven Development]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/05/26/name-driven-development/"/>
    <updated>2016-05-26T18:53:08+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/05/26/name-driven-development</id>
    <content type="html"><![CDATA[<blockquote>
  <p>â€œAny fool can write code that a computer can understand. Good programmers write code that humans can understand.â€ - Martin Fowler</p>
</blockquote>

<blockquote>
  <p>â€œThere are only two hard things in Computer Science: cache invalidation and naming things.â€ â€” Phil Karlton</p>
</blockquote>

<p>â€œName Driven Developmentâ€, this is a ghost topic you canâ€™t find on wiki. I just use it to remind me how much importance a good name can give. Maybe itâ€™s just another bad nameğŸ˜‚.</p>

<p>In a nutshell, why naming matters a lot is that itâ€™s so closely related to refactoring. Here are some basic ideas I conclude</p>

<ul>
  <li>Good name reveals intention, shows legibility, and keeps clarity.</li>
  <li>Keep refactoring, until the name reveals the intention in an easy way.</li>
  <li>Donâ€™t bother about naming too much when developing. Let the test and implementation help reveal itâ€™s purpose. Then make a good name.</li>
</ul>

<p>To tackle this non-existing topic, Iâ€™ve googled around, reading and thinking. Here are some notes I made (to be updated).</p>

<hr />

<blockquote>
  <p><a href="https://ilinkuo.wordpress.com/2013/05/07/whats-in-a-name/#more-137">Whatâ€™s in a Name? - ilinkuo</a></p>
</blockquote>

<p>Your Names Tell a Story about Your Design</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/name-drive-development/your_names_tell_a_story_about_your_design.png" alt="your_names_tell_a_story_about_your_design" /></p>

<blockquote>
  <p><a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code: Chapter 2, â€œMeaningful Namesâ€ - Uncle Bob</a></p>

  <p>The â€œdefinitiveâ€ guide</p>
</blockquote>

<p><em>Good</em></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/name-drive-development/meaningful_names_basic.png" alt="meaningful_names_basic" /></p>

<p><em>Better</em></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/name-drive-development/meaningful_names_advanced.png" alt="meaningful_names_advanced" /></p>

<blockquote>
  <p><a href="http://arlobelshee.com/good-naming-is-a-process-not-a-single-step/">Good naming is a process, not a single step - Arlo Belshee</a></p>

  <p>This serial posts provide a methodology, which explains the naming process in a clear and specific way. The first four steps aim at how to better name considering implementation, then move to thinking of intent, and domain abstraction.</p>
</blockquote>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/name-drive-development/good_naming_is_a_process.png" alt="good_naming_is_a_process" /></p>

<h3 id="summary">Summary</h3>

<ul>
  <li>Missing</li>
  <li>Nonsense</li>
  <li>Honest</li>
  <li>Honest and Complete</li>
  <li>Does the Right Thing</li>
  <li>Intent</li>
  <li>Domain Abstraction</li>
</ul>

<h3 id="why">Why</h3>

<p>The answer to that question lies at the heart of understanding, preventing, and paying off technical debt.</p>

<ul>
  <li>Indebted code is any code that is hard to scan.</li>
  <li>Technical debt is anything that increases the difficulty of reading code.</li>
</ul>

<p><em>Shouldnâ€™t the definition of technical debt be something about the cost and risk of changing code?</em></p>

<p>It turns out that the largest single thing developers <strong>spend time doing is reading code</strong>. More than design, more than writing code, more than scanning, even more than meetings (well, probably).</p>

<p><strong>Bugs come from incomplete understanding</strong>. Incomplete understanding arises when the system is harder to understand than we can store in our heads at once.</p>

<p>So if our definition of technical debt is code that is difficult, expensive, or risky to change, then the root cause of that is code that is hard to scan. And how do we make code easy to scan? Use good names to encapsulate details.</p>

<h3 id="how">How</h3>

<p>If we want to make code more scannable, we need to increase the percentage of relevant information that it screams at you. Which also means hiding the irrelevant information.</p>

<p>The process of reducing debt is simple:</p>

<ul>
  <li>Look at something.</li>
  <li>Have an insight.</li>
  <li>Write it down.
    <ul>
      <li>Ccomment. But <strong>comments</strong> arenâ€™t actually part of the code. They duplicate the code, which causes all the usual duplication problems.</li>
      <li>If your insight is structural then it belongs in a <strong>name</strong>. If it is a runtime insight then use an <strong>assertion</strong>.</li>
      <li>Assertions need to be easy to find. So donâ€™t litter them around your core code. Express your insight as an example and write it down in a test. And name the test about the insight (not about what code it happens to execute).</li>
      <li>So, insights belong in names.</li>
    </ul>
  </li>
  <li>Check it in.
    <ul>
      <li>Express your intent by naming your commit using a message.</li>
    </ul>
  </li>
</ul>

<p>The insight loop is all there is</p>

<ul>
  <li>Refactoring legacy code is running this loop and writing stuff down in names.</li>
  <li>Understanding legacy code is running this loop and writing stuff down as examples in tests.</li>
  <li>TDD is running this loop three times:
    <ul>
      <li>First a loop where we look at the customer interview and we write it down as one example in a test.</li>
      <li>Second a loop where we look at the test and we write it down in names in the code.</li>
      <li>Third a loop of refactoring the (new) legacy code.</li>
    </ul>
  </li>
  <li>Design is a loop where the place you look is â€œhow hard was it to write this testâ€ and you write down insights by changing names (usually fixing the Does the Right Thing step).</li>
</ul>

<h3 id="steps">Steps</h3>

<p>Each transition is about refactoring.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/name-drive-development/good_naming_is_a_process_table.png" alt="good_naming_is_a_process_table" /></p>

<blockquote>
  <p><a href="https://stackoverflow.com/posts/422093/revisions">krosenvold</a> answer on <a href="https://stackoverflow.com/questions/421965/anyone-else-find-naming-classes-and-methods-one-of-the-most-difficult-part-in-pr/423140#423140">Stack Overflow - Anyone else find naming classes and methods one of the most difficult part in programming?</a></p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">function programming_job(){
</span><span class="line">    while (i make classes){
</span><span class="line">         Give each class a name quickly; always fairly long and descriptive.
</span><span class="line">         Implement and test each class to see what they really are.
</span><span class="line">         while (not satisfied){
</span><span class="line">            Re-visit each class and make small adjustments
</span><span class="line">         }
</span><span class="line">    }
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p><a href="http://programmers.stackexchange.com/users/31260/gnat">gnat</a> answered on <a href="http://programmers.stackexchange.com/questions/129961/are-there-good-techniques-or-tests-for-naming-types">Stack Exchange - Are there good techniques or tests for naming types?</a></p>
</blockquote>

<p>For naming, there are six techniques that were proven to work for me:</p>

<ul>
  <li>spend a lot of time on inventing names</li>
  <li>use code reviews</li>
  <li>donâ€™t hesitate to rename</li>
  <li>spend a lot of time on inventing names</li>
  <li>use code reviews</li>
  <li>donâ€™t hesitate to rename</li>
</ul>

<blockquote>
  <p><a href="http://www.gameproducer.net/2008/11/11/the-7-worst-verbs-programmers-use-in-function-calls/">The 7 Worst Verbs Programmers Use In Function Calls - Juuso Hietalahti</a></p>
</blockquote>

<ul>
  <li>dispatch</li>
  <li>do</li>
  <li>resolve</li>
  <li>handle</li>
  <li>manage</li>
  <li>perform</li>
  <li>populate</li>
</ul>

<blockquote>
  <p><a href="http://objology.blogspot.com/2011/09/one-of-best-bits-of-programming-advice.html">One of the Best Bits of Programming Advice I ever Got</a></p>
</blockquote>

<p>Donâ€™t make objects that end with â€˜erâ€™.</p>

<ul>
  <li>Managers - Every time I see one of these, I cringe. People will usually tell me what it does, long before they can tell me what it is. Is it a registry? Fine call it a registry. Is it a history or a log? Call it that. Is it a factory? Call it that.</li>
  <li>Controllers - Only good controller object Iâ€™ve made in the last 20 years was an interface to a BallastVoltageController that represented a real world object. The fact that every single MVC implementation in the world has had a different role for Controller ought to tell us something about how well that idea fit.</li>
  <li>Organizer (and many like them) - Focus is on what it does. This is a great example of how easy it is to turn many of these â€˜ersâ€™ into nouns. Call it an Organization. Now weâ€™re focusing on what it is.</li>
  <li>Analyzer/Renderer/etc - Definitely examples of â€œworkerâ€ objects. What if they had been Analysis/Rendering/etc.</li>
  <li>Builder/Loader/Reader/Writer/etc - Remove the focus from the objects being manipulated, and tend assume to much responsibility themselves.</li>
</ul>

<blockquote>
  <p><a href="http://www.carlopescio.com/2011/04/your-coding-conventions-are-hurting-you.html">Your coding conventions are hurting you - Carlo Pescio</a></p>

  <p>Great article explaining four harmful conventions with obvious examples. There is a following post, <a href="http://www.carlopescio.com/2012/03/life-without-controller-case-1.html">Life without a controller</a></p>
</blockquote>

<p>From a distance, everything is object oriented, extra-cool, modern-flexible-etc, but as you get closer, you realize itâ€™s just a thin veneer over procedural thinking (and donâ€™t even get me started about being â€œmodernâ€).</p>

<p>Fake OO names and harmful conventions</p>

<ul>
  <li>the -er suffix</li>
  <li>the -able suffix</li>
  <li>the -Object suffix</li>
  <li>the I- prefix</li>
</ul>

<p><strong>Manager, Helper, Handlerâ€¦</strong></p>

<p>Good olâ€™ Peter Coad used to say: Challenge any class name that ends in â€œ-erâ€ (e.g. Manager or Controller). If it has no parts, change the name of the class to what each object is managing. If it has parts, put as much work in the parts that the parts know enough to do themselves (that was the â€œ<strong>er-er Principle</strong>â€).</p>

<ul>
  <li>Manager. When you need a Manager, itâ€™s often a sign that the Managed are just plain old data structures, and that the Manager is the smart procedure doing the real work.</li>
  <li>Handler, again, is an obvious resurrection of procedural thinking. What is an handler if not a damn procedure?</li>
</ul>

<p><strong>Something-able</strong></p>

<p>Itâ€™s like calling a nail â€œHammerableâ€, because you known, thatâ€™s what you do with a nail, you hammer it. It encourages procedural thinking, and leads to ineffective abstractions.</p>

<p><strong>Something-Object</strong></p>

<p>When you donâ€™t know how to name something, pick some dominant trait and add Object to the end. Again, the problem is that the â€œdominant traitâ€ is moving us away from the concept of an object. Object is dropped in just to avoid more careful thinking about the underlying concept.</p>

<p><strong>ISomething</strong></p>

<p>The problem is that itâ€™s too easy to fall into the trap, and just take a concrete class name, put an I in front of it, and lo and behold!, you got an interface name. Sort of calling a concept IDollar instead of Currency.</p>

<p>Eg.</p>

<ul>
  <li>IList to RandomAccessContainer</li>
  <li>IEnumerable to Sequence.
    <ul>
      <li>A List is an IEnumerable (what??)</li>
      <li>A List is a Sequence (well, all right!)</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>How to Name Things: the solution to the hardest problem in programming - Peter Hilton <a href="https://skillsmatter.com/skillscasts/5747-how-to-name-things-the-solution-to-the-hardest-problem-in-programming">video</a>, <a href="http://www.slideshare.net/pirhilton/how-to-name-things-the-hardest-problem-in-programming">slide</a></p>

  <p>Taking advice from writers, funny quotes, like Stephen King on refactoring, Hemingway on modelling with personas, .etc.</p>
</blockquote>

<p>Remember: â€œrenameâ€ is the simplest but most effective refactoring. Use it.</p>

<p><strong>Gater domain-specific vocabulary</strong>. Scan the domain model entities Wikipedia pages for names of related concepts. Read novels set in your customerâ€™s domain to learn their jargon. Find out what they really mean.</p>

<p>Comments: the basics</p>

<ul>
  <li>Donâ€™t say what the code does (because the code already says that)</li>
  <li>Donâ€™t explain awkward logic (improve the code to make it clear)</li>
  <li>Donâ€™t add too many comments (itâ€™s messy and theyâ€™ll get out of date)</li>
  <li>Explain why the code exists
    <ul>
      <li>When should I use this code?</li>
      <li>When shouldnâ€™t I use it?</li>
      <li>What are the alternatives to this code?</li>
    </ul>
  </li>
</ul>

<p>How to write good comments</p>

<ul>
  <li>Try to write good code first</li>
  <li>Try to write a one-sentence comment</li>
  <li>Refactor the code until the comment is easy to write</li>
  <li>Now write a good comment</li>
  <li>Donâ€™t forget the rules of good writing. (eg. remove unnecessary comments)</li>
</ul>

<p>P.S. Peter also has several posts talking about commenting, check <a href="http://hilton.org.uk/blog/how-to-comment-code">How to comment code</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Concurrency Article Collection]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-article-collection/"/>
    <updated>2016-02-16T20:04:50+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-article-collection</id>
    <content type="html"><![CDATA[<p>This an article collection about concurrency in Ruby, which benefits me a lot and to be continued.</p>

<blockquote>
  <p><a href="http://www.jstorimer.com/blogs/workingwithcode/7766063-threads-not-just-for-optimizations">Threads, Not Just for Optimisations - Jesse Storimer</a></p>
</blockquote>

<p>Threads can help us organize our programs.</p>

<p>When a signal is delivered to a multithreaded process that has established a signal handler, the kernel arbitrarily selects one thread in the process to which to deliver the signal and invokes the handler in that thread. So Ruby uses a dedicated thread to handle incoming Unix signals. This has nothing to do with speeding things up, itâ€™s just good programming practice.</p>

<p>When you spawn a new Unix process using fork, you really should either wait for it to finish using Process.wait, or detach from it using Process.detach. The reason is that when the process exits, it leaves behind some information about its exit status. This status info canâ€™t be cleaned up until itâ€™s been consumed by the parent process using Process.wait. When you use something like Process.spawn or backticks, Process.wait is called internally to cleanup the aforementioned status info. So Process.detach is just a thin wrapper around Process.wait, using a background thread to wait for the return value of Process.wait, while the main thread continues execution concurrently. Again, this has nothing to do with speed, but allows the proper housekeeping to be done without burdening the program with extra state.</p>

<blockquote>
  <p><a href="http://concur.rspace.googlecode.com/hg/talk/concur.html#title-slide">Concurrency is not Parallelism (itâ€™s better) - Rob Pike</a></p>
</blockquote>

<p>Go provides</p>

<ul>
  <li>concurrent execution (coroutines. Theyâ€™re a bit like threads, but theyâ€™re much cheaper. Goroutines are multiplexed onto OS threads as required. When a goroutine blocks, that thread blocks but no other goroutine blocks.)</li>
  <li>synchronization and messaging (channels)</li>
  <li>multi-way concurrent control (select)</li>
</ul>

<p>Concurrency vs. Paralelism</p>

<ul>
  <li>Concurrency is about dealing with lots of things at once.</li>
  <li>Parallelism is about doing lots of things at once.</li>
  <li>Not the same, but related.</li>
  <li>One is about structure (design), one is about execution.</li>
  <li>Concurrency provides a way to structure a solution to solve a problem that may (but not necessarily) be parallelizable.</li>
</ul>

<p>Concurrency plus communication</p>

<ul>
  <li>Concurrency is a way to structure a program by breaking it into pieces that can be executed independently.</li>
  <li>Communication is the means to coordinate the independent executions.</li>
  <li>This is the Go model and (like Erlang and others) itâ€™s based on CSP (Communicating Sequential Processes)</li>
</ul>

<blockquote>
  <p><a href="https://blog.engineyard.com/2011/ruby-concurrency-and-you">Ruby, Concurrency, and You - Engine Yard</a></p>
</blockquote>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCAC-ruby_support.png" alt="RCAC-ruby_support.png" /></p>

<blockquote>
  <p><a href="https://github.com/jruby/jruby/wiki/Concurrency-in-jruby">Concurrency in JRuby</a></p>
</blockquote>

<p>In general, the safest path to writing concurrent code in JRuby is the same as on any other platform:</p>

<ul>
  <li>Donâ€™t do it, if you can avoid it.</li>
  <li>If you must do it, donâ€™t share data across threads.</li>
  <li>If you must share data across threads, donâ€™t share mutable data.</li>
  <li>If you must share mutable data across threads, synchronize access to that data.</li>
</ul>

<p>Thread Safety refers to the ability to perform operations against a shared structure across multiple threads and know there will be no resulting errors or data integrity issues.</p>

<p>Volatility refers to the visibility of changes across threads on multi-core systems that may have thread or core-specific views of system memory.</p>

<p>Atomicity refers to the ability to perform a write to memory based on some view of that memory and to know the write happens before the view is invalid.</p>

<blockquote>
  <ul>
    <li><a href="http://www.jstorimer.com/blogs/workingwithcode/8085491-nobody-understands-the-gil%0A">Nobody understands the GIL - Part 1 - Jesse Storimer</a></li>
    <li><a href="http://www.jstorimer.com/blogs/workingwithcode/8100871-nobody-understands-the-gil-part-2-implementation">Nobody understands the GIL - Part 2: Implementation - Jesse Storimer</a></li>
    <li><a href="http://www.rubyinside.com/does-the-gil-make-your-ruby-code-thread-safe-6051.html">Does the GIL Make Your Ruby Code Thread-Safe? - Jesse Storimer</a></li>
  </ul>
</blockquote>

<p>Itâ€™s possible for all of the Ruby implementations to provide thread-safe data structures, but that requires extra overhead that would make single-threaded code slower.</p>

<p>For the MRI core team, the GIL protects the internal state of the system. With a GIL, they donâ€™t require any locks or synchronization around the internal data structures. If two threads canâ€™t be mutating the internals at the same time, then no race conditions can occur. For you, the developer, this will severely limit the parallelism you get from running your Ruby code on MRI.</p>

<p>All that the GIL guarantees is that MRIâ€™s native C implementations of Ruby methods will be executed atomically (but even this has caveats). This behaviour can sometimes help us as Ruby developers, but the GIL is really there for the protection of MRI internals, not as a dependable API for Ruby developers. So the GIL doesnâ€™t â€˜solveâ€™ thread-safety issues.</p>

<p>Donâ€™t communicate by sharing state; share state by communicating.</p>

<blockquote>
  <p><a href="https://www.igvita.com/2008/11/13/concurrency-is-a-myth-in-ruby/">Parallelism is a Myth in Ruby - Ilya Grigorik</a></p>
</blockquote>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCAC-ruby_gil.png" alt="RCAC-ruby_gil.png" /></p>

<blockquote>
  <p><a href="https://github.com/jdantonio/Everything-You-Know-About-the-GIL-is-Wrong-RubyConf-2015">Everything You Know About GIL is Wrong - Jerry Dâ€™Antonio</a></p>
</blockquote>

<p>Summary</p>

<ul>
  <li>Concurrency is not parallelism</li>
  <li>The GIL protects Rubyâ€™s internal state when the operating system context switches
    <ul>
      <li>The GIL does not provide thread safety guarantees to user code</li>
      <li>But it imposes an implicit memory model</li>
    </ul>
  </li>
  <li>The GIL prevents true parallelism in Ruby</li>
  <li>But Ruby is pretty good at multiplexing threads performing blocking I/O</li>
</ul>

<p>Concurrency vs. Parallelism</p>

<p>Non-concurrent programs gain no benefit from running on multiple processors. Concurrent programs get parallelism for free when the runtime supports it.</p>

<ul>
  <li>Parallelism requires two processor cores. No matter the language/runtime, a processor core can only execute one instruction at a time.</li>
  <li>Concurrency can happen when there is only one core. Concurrency is about design, improved performance is a side effect</li>
</ul>

<p>Ruby is selfish</p>

<ul>
  <li>Ruby is an interpreted language
    <ul>
      <li>Ruby is compiled to bytecode within the interpreter</li>
      <li>Ruby is free to optimize and reorder your code</li>
    </ul>
  </li>
  <li>Every Ruby operation is implemented in C</li>
  <li>The Ruby runtime is just another program; it is under the control of the compiler and the operating system
    <ul>
      <li>The C compiler is free to optimize and reorder instructions during compilation</li>
      <li>An operating system context switch can occur at any point in the running C code</li>
    </ul>
  </li>
  <li>The GIL protects Ruby, not your code</li>
</ul>

<p>Ruby is thread safe, your code isnâ€™t.</p>

<ul>
  <li>Every individual read and write to memory is guaranteed to be thread-safe in Ruby
    <ul>
      <li>The GIL prevents interleaved access to memory used by the runtime</li>
      <li>The GIL prevents interleaved access to individual variables</li>
      <li>Ruby itself will never become corrupt</li>
    </ul>
  </li>
  <li>Ruby makes no guarantees about your code</li>
</ul>

<p><a href="https://www.wikiwand.com/en/Memory_model_(programming)">Memory model</a></p>

<ul>
  <li>â€œIn computing, a memory model describes the interactions of threads through memory and their shared use of the data.â€ Wikipedia</li>
  <li>Defines visibility, volatility, atomicity, and synchronization barriers
    <ul>
      <li>Javaâ€™s current memory model was adopted in 2004 as part of Java</li>
      <li>The C and C++ memory models were adopted in 2011 with C11 and C++11</li>
      <li><a href="https://golang.org/ref/mem">The Go Memory Model</a></li>
    </ul>
  </li>
  <li>Ruby does NOT have a documented memory model. The GIL provides an implied memory model but no guarantees</li>
</ul>

<p>I/O</p>

<p>Ruby programs which perform significant I/O generally benefit from concurrency.</p>

<ul>
  <li>I/O in Ruby programs is blocking</li>
  <li>I/O within Ruby is asynchronous</li>
</ul>

<p>You canâ€™t spell GIL without I/O. The GIL exists to maintain the internal consistency of the Ruby runtime. I/O operations are slow, which is why asynchronous I/O was invented. While I/O is in progress the Ruby thread is blocked so it cannot change the internal state, so Ruby allows other threads to do useful work. All Ruby I/O calls unlock the GIL, as do backtick and <code>system</code> calls. When Ruby thread is waiting on I/O it does not block other threads.</p>

<blockquote>
  <p><a href="http://merbist.com/2011/02/22/concurrency-in-ruby-explained/">Ruby concurrency explained - Matt Aimonetti</a></p>
</blockquote>

<p>The thing to keep in mind is that the concurrency models are often defined by the programming language you use. The advantage of the Java threaded approach is that the memory is shared between the threads so you are saving in memory (and startup time), each thread can easily talk to each other via the shared memory. The advantage of PHP is that you donâ€™t have to worry about locks, deadlocks, threadsafe code and all that mess hidden behind threads.</p>

<p>Others programming languages like Erlang and Scala use a third approach: the actor model. The actor model is somewhat a bit of a mix of both solutions, the difference is that actors are a like threads which donâ€™t share the same memory context. Communication between actors is done via exchanged messages ensuring that each actor handles its own state and therefore avoiding corrupt data (two threads can modify the same data at the same time, but an actor canâ€™t receive two messages at the exact same time).</p>

<p>Actors/Fibers</p>

<p>Ruby 1.9, developers now have access to a new type of â€œlightweightâ€ threads called Fibers. Fibers are not actors and Ruby doesnâ€™t have a native Actor model implementation but some people wrote some actor libs on top of fibers. A fiber is like a simplified thread which isnâ€™t scheduled by the VM but by the programmer. Fibers are like blocks which can be paused and resumed from the outside of from within themselves.</p>

<p>How do fibers help with concurrency? The answer is that they are part of a bigger solution. Ruby 1.9 gave us fibers which allow for a more granular control over the concurrency scheduling, combined with non-blocking IO, high concurrency can be achieved. Fiber allow developers to manually control the scheduling of â€œconcurrentâ€ code but also to have the code within the fiber to auto schedule itself.  Well, the only problem is that if you are doing any type of blocking IO in a fiber, the entire thread is blocked and the other fibers arenâ€™t running. So avoid blocking IOs.</p>

<p>Non blocking IOs/Reactor pattern</p>

<p>The reactor pattern is quite simple to understand really. The heavy work of making blocking IO calls is delegated to an external service (reactor) which can receive concurrent requests. The service handler (reactor) is given callback methods to trigger asynchronously based on the type of response received.</p>

<p>When a request comes in and your code makes a DB query, you are blocking any other requests from being processed. To avoid that, we could wrap our request in a fiber, trigger an async DB call and pause the fiber so another request can get processed as we are waiting for the DB. Once the DB query comes back, it wakes up the fiber it was trigger from, which then sends the response back to the client. Technically, the server can still only send one response at a time, but now fibers can run in parallel and donâ€™t block the main tread by doing blocking IOs (since itâ€™s done by the reactor).</p>

<p>This is the approach used by Twisted, EventMachine and Node.js. Ruby developers can use EventMachine or an EventMachine based webserver like Thin as well as EM clients/drivers to make non blocking async calls.</p>

<blockquote>
  <p><a href="https://www.quora.com/Node-js/What-is-a-good-comparison-of-the-reactor-pattern-vs-actor-model">Node.js: What is a good comparison of the reactor pattern vs actor model? - Sean Byrnes</a></p>
</blockquote>

<p>The reactor model follows a purely event driven system where the entire system can be implemented as a single-threaded process with a series of event generators and event handlers. In most implementations there is a â€œevent loopâ€ that continues to run which takes all of the generated events, sends them to all registered event handles and then starts over again.</p>

<p>An actor model is a more abstract method of breaking up execution into different processes that interact with each other. While it is possible to do this similarly to the reactor model, I see this mostly as a series of processes running in different threads and exchanging information through messages or protocols.</p>

<blockquote>
  <p><a href="http://www.toptal.com/ruby/ruby-concurrency-and-parallelism-a-practical-primer?utm_source=rubyweekly&amp;utm_medium=email">Ruby Concurrency and Parallelism: A Practical Tutorial</a></p>
</blockquote>

<ul>
  <li>Ruby concurrency is when two tasks can start, run, and complete in overlapping time periods. It doesnâ€™t necessarily mean, though, that theyâ€™ll ever both be running at the same instant (e.g., multiple threads on a single-core machine).</li>
  <li>Parallelism is when two tasks literally run at the same time.</li>
</ul>

<blockquote>
  <p><a href="http://oldmoe.blogspot.jp/2008/08/ruby-fibers-vs-ruby-threads.html">Ruby Fibers Vs Ruby Threads</a></p>
</blockquote>

<p>Fibers are much faster to create than threads, they eat much less memory too.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Concurrency In Practice]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-in-practice/"/>
    <updated>2016-02-16T19:58:54+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-in-practice</id>
    <content type="html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#guidance">Guidance</a>    <ul>
      <li><a href="#safest-path-to-concurrency">Safest path to concurrency</a></li>
      <li><a href="#writing-thread-safe-code">Writing Thread-safe Code</a></li>
    </ul>
  </li>
  <li><a href="#into-the-wild">Into the Wild</a></li>
</ul>

<h2 id="guidance">Guidance</h2>

<h3 id="safest-path-to-concurrency">Safest path to concurrency</h3>

<blockquote>
  <p>from <a href="https://github.com/jruby/jruby/wiki/Concurrency-in-jruby">JRuby wiki</a></p>
</blockquote>

<ol>
  <li>Donâ€™t do it.</li>
  <li>If you must do it, donâ€™t share data across threads.</li>
  <li>If you must share data across threads, donâ€™t share mutable data.</li>
  <li>If you must share mutable data across threads, synchronize access to that data.</li>
</ol>

<p>Do not communicate by sharing data; instead, share data by communicating</p>

<h3 id="writing-thread-safe-code">Writing Thread-safe Code</h3>

<p><strong>Avoid mutating globals</strong></p>

<ul>
  <li>Constants</li>
  <li>The AST</li>
  <li>Class variables/methods</li>
</ul>

<p><strong>Create more objects, rather than sharing one</strong></p>

<ul>
  <li>Thread-locals</li>
  <li>Connection pools</li>
</ul>

<p><strong>Avoid lazy loading</strong></p>

<ul>
  <li>No autoload</li>
</ul>

<p><strong>Prefer data structures over mutexes</strong></p>

<p>Mutexes are notoriously hard to use correctly. For better or worse, you have a lot of things to decide when using a mutex.</p>

<ul>
  <li>How coarse or fine should this mutex be?</li>
  <li>Which lines of code need to be in the critical section?</li>
  <li>Is a deadlock possible here?</li>
  <li>Do I need a per-instance mutex? Or a global one?</li>
</ul>

<p>By leaning on a data structure, you remove the burden of correct synchronization from your code and depend on the semantics of the data structure to keep things consistent.</p>

<p><strong>Wrap your threads in an abstraction</strong></p>

<ul>
  <li>Actor model</li>
  <li>Reactor Pattern, event-driven I/O</li>
</ul>

<h2 id="into-the-wild">Into the Wild</h2>

<p><strong>Primitives</strong></p>

<ul>
  <li><a href="http://ruby-doc.org/core-2.2.2/Thread.html">Thread</a></li>
  <li><a href="http://ruby-doc.org/core-2.2.2/Mutex.html">Mutex</a></li>
  <li><a href="http://ruby-doc.org/core-2.2.2/ConditionVariable.html">ConditionVariable</a></li>
</ul>

<p><strong>Thread-safe Data Structure</strong></p>

<ul>
  <li><a href="https://github.com/hamstergem/hamster">hamster</a> - Efficient, Immutable, Thread-Safe Collection classes for Ruby</li>
  <li><a href="https://github.com/ruby-concurrency/thread_safe">thread_safe</a> - Thread-safe collections for Ruby</li>
  <li><a href="https://github.com/ruby-concurrency/atomic">atomic</a> - Atomic references for Ruby (merged with concurrent-ruby)</li>
  <li><a href="https://github.com/mperham/connection_pool">connection_pool</a> - Generic connection pooling for Ruby</li>
</ul>

<p><strong>Abstraction / Framework</strong></p>

<p><a href="https://github.com/celluloid/celluloid">celluloid</a></p>

<p>Actor-based concurrent object framework for Ruby.</p>

<ul>
  <li><a href="https://github.com/celluloid/reel/">Reel</a> - An â€œeventedâ€ web server based on Celluloid::IO</li>
  <li><a href="https://github.com/kenichi/angelo">angelo</a> - Sinatra-like DSL for Reel that supports WebSockets and SSE</li>
</ul>

<p><a href="https://github.com/eventmachine/eventmachine">eventmachine</a></p>

<p>EventMachine is an event-driven I/O and lightweight concurrency library for Ruby. It provides event-driven I/O using the Reactor pattern.</p>

<ul>
  <li><a href="http://code.macournoyer.com/thin/">Thin</a>, <a href="https://github.com/postrank-labs/goliath/">Goliath</a> - Scalable event-driven servers. Examples:</li>
  <li><a href="https://github.com/igrigorik/em-http-request">em-http-request</a> - Asynchronous HTTP Client (EventMachine + Ruby)</li>
  <li><a href="https://github.com/igrigorik/em-synchrony">em-synchrony</a> - Fiber aware EventMachine clients and convenience classes</li>
</ul>

<p><a href="https://github.com/puma/puma">puma</a></p>

<p>A ruby web server built for concurrency</p>

<p><a href="https://github.com/ruby-concurrency/concurrent-ruby">concurrent-ruby</a></p>

<p>Modern concurrency tools including agents, futures, promises, thread pools, supervisors, and more. Inspired by Erlang, Clojure, Scala, Go, Java, JavaScript, and classic concurrency patterns.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Concurrency In Theory]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-in-theory/"/>
    <updated>2016-02-16T19:35:19+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/02/16/ruby-concurrency-in-theory</id>
    <content type="html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#what-is-concurrency">What is concurrency?</a>    <ul>
      <li><a href="#concurrency-vs-paralelism">Concurrency vs. Paralelism</a></li>
      <li><a href="#concurrency-plus-communication">Concurrency plus communication</a></li>
    </ul>
  </li>
  <li><a href="#what-does-ruby-support">What does Ruby support?</a>    <ul>
      <li><a href="#gil">GIL</a></li>
      <li><a href="#ruby-support">Ruby Support</a></li>
      <li><a href="#fiber">Fiber</a></li>
    </ul>
  </li>
  <li><a href="#how-to-enhance-concurrency-by-ruby">How to enhance concurrency by Ruby?</a>    <ul>
      <li><a href="#basics">Basics</a></li>
      <li><a href="#concurrency-model-software-transactional-memory">Concurrency Model: Software Transactional Memory</a></li>
      <li><a href="#concurrency-model-actor-model">Concurrency Model: Actor Model</a></li>
    </ul>
  </li>
</ul>

<h2 id="what-is-concurrency">What is concurrency?</h2>

<h3 id="concurrency-vs-paralelism">Concurrency vs. Paralelism</h3>

<ul>
  <li>Concurrency is about dealing with lots of things at once.</li>
  <li>Parallelism is about doing lots of things at once.</li>
  <li>Not the same, but related.</li>
  <li>One is about structure (design), one is about execution.</li>
  <li>Concurrency provides a way to structure a solution to solve a problem that may (but not necessarily) be parallelizable.</li>
</ul>

<h3 id="concurrency-plus-communication">Concurrency plus communication</h3>

<ul>
  <li>Concurrency is a way to structure a program by breaking it into pieces that can be executed independently.</li>
  <li>Communication is the means to coordinate the independent executions.</li>
  <li>This is the Go model and (like Erlang and others) itâ€™s based on CSP (Communicating Sequential Processes)</li>
</ul>

<p><em>Reference</em></p>

<ul>
  <li><a href="http://concur.rspace.googlecode.com/hg/talk/concur.html#title-slide">Concurrency is not Parallelism (itâ€™s better) - Rob Pike</a></li>
</ul>

<h2 id="what-does-ruby-support">What does Ruby support?</h2>

<h3 id="gil">GIL</h3>

<p>A global interpreter lock (GIL) is a mutual-exclusion lock held by a programming language interpreter thread to avoid sharing code that is not thread-safe with other threads. In implementations with a GIL, there is always one GIL for each interpreter process.</p>

<p>Global interpreter lock (GIL) is a mechanism used in computer language interpreters to synchronize the execution of threads so that only one native thread can execute at a time. An interpreter that uses GIL always allows exactly one thread to execute at a time, even if run on a multi-core processor.</p>

<p><strong>Benefits</strong></p>

<ul>
  <li>increased speed of single-threaded programs (no necessity to acquire or release locks on all data structures separately)</li>
  <li>easy integration of C libraries that usually are not thread-safe</li>
  <li>ease of implementation</li>
</ul>

<p><strong>Drawbacks</strong></p>

<p>Limits the amount of parallelism reachable through concurrency of a single interpreter process with multiple threads. Hence a significant slowdown for CPU-bound thread.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCIT-native_threads.png" alt="RCIT-native_threads.png" /></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCIT-threads_with_GIL.png" alt="RCIT-threads_with_GIL.png" /></p>

<p><em>Reference</em></p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Global_interpreter_lock">Global Interpreter Lock - Wikipedia</a></li>
</ul>

<h3 id="ruby-support">Ruby Support</h3>

<p>Ruby 1.8, uses only a single native thread and runs all Ruby threads within that one native thread. A single OS thread is allocated for the Ruby interpreter, a GIL lock is instantiated, and Ruby threads (â€˜Green Threadsâ€™), are spooled up by our program. This means that threads can never run in parallel, even on multicore CPUs.</p>

<p>Ruby 1.9, allocates a native thread for each Ruby thread. But because some of the C libraries used in this implementation are not themselves thread-safe. Ruby never allows more than one of its native threads to run at the same time. Now the GIL is the bottleneck, and Ruby will never take advantage of multiple cores!</p>

<p>Ruby 1.9, also provides Fiber.</p>

<p>Ruby concurrency without parallelism can still be very useful, though, for tasks that are IO-heavy (e.g., network I/O, disk I/O).  Ruby can release the lock on the GIL on that thread while it blocks on I/O. There is a reason threads were, after all, invented and used even before multi-core servers were common.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCIT-ruby_support.png" alt="RCIT-ruby_support.png" /></p>

<p><em>Reference</em></p>

<ul>
  <li><a href="https://blog.engineyard.com/2011/ruby-concurrency-and-you">Ruby, Concurrency, and You - Engine Yard</a></li>
</ul>

<h3 id="fiber">Fiber</h3>

<p>Fibers are primitives for implementing light weight cooperative concurrency in Ruby (think lightweight threads, minus the thread scheduler and less overhead). Basically they are a means of creating code blocks that can be paused and resumed, much like threads. A fiber is a unit of execution that must be manually scheduled by the application. Fibers run in the context of the threads that schedule them. Each thread can schedule multiple fibers.</p>

<p>As opposed to other stackless light weight concurrency models, each fiber comes with a small 4KB stack. This enables the fiber to be paused from deeply nested function calls within the fiber block.</p>

<p>Normal usage: start an async operation, yield the fiber, and then make the callback resume the fiber once the operation is complete.</p>

<p><strong>Compered to Thread</strong></p>

<p>Fibers are never preempted, the scheduling must be done by the programmer and not the VM.</p>

<p><strong>Why Fiber?</strong></p>

<p>In general, fibers do not provide advantages over a well-designed multithreaded application. However, using fibers can make it easier to port applications that were designed to schedule their own threads. The availability of Fibers allows Actor-style programming, without having to worry about overhead.</p>

<p><strong>Why Fiber is called a semi-coroutine?</strong></p>

<p>Coroutines (cooperative multitasking) are computer program components that generalize subroutines for nonpreemptive multitasking, by allowing multiple entry points for suspending and resuming execution at certain locations. Coroutines are well-suited for implementing more familiar program components such as cooperative tasks, exceptions, event loop, iterators, infinite lists and pipes.</p>

<p>Asymmetric Coroutines can only transfer control back to their caller, where Coroutines are free to transfer control to any other Coroutine, as long as they have a handle to it.</p>

<p>We may infer that Ruby encapsulate a Fiber::Core which supports coroutine, and only expose Fiber as a semi-coroutine data structure.</p>

<p><strong>Whatâ€™s the performance of Fiber?</strong></p>

<p>Fibers are much faster to create than threads, they eat much less memory too.</p>

<p><em>Reference</em></p>

<ul>
  <li><a href="http://ruby-doc.org/core-2.2.2/Fiber.html">Fiber - Ruby Doc</a></li>
  <li><a href="http://www.infoq.com/news/2007/08/ruby-1-9-fibers">Ruby 1.9 adds Fibers for lightweight concurrency - Werner Schuster</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Coroutine#Implementations_for_Ruby">Coroutine - Wikipedia</a></li>
  <li><a href="http://oldmoe.blogspot.jp/2008/08/ruby-fibers-vs-ruby-threads.html">Ruby Fibers Vs Ruby Threads - oldmoe</a></li>
</ul>

<h2 id="how-to-enhance-concurrency-by-ruby">How to enhance concurrency by Ruby?</h2>

<h3 id="basics">Basics</h3>

<p><strong>How to provide more concurrency?</strong></p>

<ul>
  <li>Multi processing (parallelism), like Resque, Unicorn. Simply to fork a running process to multiply its processing power.</li>
  <li>Multi threading, like Sidekiq, Puma and Thin. Lighter than processes, requiring less overhead. At some point, you may find it necessary to use a thread pool.</li>
  <li>Background processing</li>
  <li>Rely on other concurrency models (event, actor, message-passing)</li>
</ul>

<p><strong>Multi-processing vs. Multi-threading</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCIT-multi_processing_vs_multi_threading.png" alt="RCIT-multi_processing_vs_multi_threading.png" /></p>

<p><strong>Thread Pooling</strong></p>

<p>A key configuration parameter for a thread pool is typically the number of threads in the pool. These threads can either be instantiated all at once (i.e., when the pool is created) or lazily (i.e., as needed until the maximum number of threads in the pool has been created).</p>

<p><code>Queue</code> and <code>SizedQueue</code> are thread-safe data structures in Ruby, maybe the only two.</p>

<p><a href="https://gist.github.com/ifyouseewendy/a8fc663ae575843f9e8f">demo snippet</a></p>

<p><em>Reference</em></p>

<ul>
  <li><a href="https://www.igvita.com/2010/08/18/multi-core-threads-message-passing/">Multi-core, Threads &amp; Message Passing - Ilya Grigorik</a></li>
  <li><a href="http://adam.herokuapp.com/past/2009/8/13/threads_suck/">Threads Suck -  Adam Wiggins</a></li>
  <li><a href="https://www.usenix.org/legacy/events/hotos03/tech/full_papers/vonbehren/vonbehren_html/index.html">Why Events Are A Bad Idea - Rob von Behren, Jeremy Condit and Eric Brewer</a></li>
</ul>

<h3 id="concurrency-model-software-transactional-memory">Concurrency Model: Software Transactional Memory</h3>

<p>Software transactional memory (STM) is a concurrency control mechanism analogous to database transactions for controlling access to shared memory in concurrent computing. It is an alternative to lock-based synchronization. STM is a strategy implemented in software, rather than as a hardware component.</p>

<ul>
  <li>A thread completes modifications to shared memory without regard for what other threads might be doing, recording every read and write that it is performing in a log.</li>
  <li>Instead of placing the onus on the writer to make sure it does not adversely affect other operations in progress, it is placed on the reader, who after completing an entire transaction verifies that other threads have not concurrently made changes to memory that it accessed in the past.</li>
  <li>This final operation, in which the changes of a transaction are validated and, if validation is successful, made permanent, is called a commit. A transaction may also abort at any time, causing all of its prior changes to be rolled back or undone. If a transaction cannot be committed due to conflicting changes, it is typically aborted and re-executed from the beginning until it succeeds.</li>
</ul>

<p>Clojure has STM support built into the core language.</p>

<p><em>Reference</em></p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Software_transactional_memory">Software transactional memory - Wikipedia</a></li>
</ul>

<h3 id="concurrency-model-actor-model">Concurrency Model: Actor Model</h3>

<p>The actor model has its theoretical roots in concurrency modelling and message passing concepts.</p>

<p>The basic operation of an Actor is easy to understand: like a thread, it runs concurrently with other Actors. However, unlike threads it is not pre-emptable. Instead, each Actor has a mailbox and can call a routine named â€œreceiveâ€ to check its mailbox for new messages. The â€œreceiveâ€ routine takes a filter, and if no messages in an Actorâ€™s mailbox matches the filter, the Actor sleeps until it receives new messages, at which time itâ€™s rescheduled for execution.</p>

<p>Well, thatâ€™s a bit of a naive description. In reality the important part about Actors is that they cannot mutate shared state simultaneously. That means there are no race conditions or deadlocks because there are no mutexes, conditions, and semaphores, only messages and mailboxes.</p>

<p>Actors are an approach to concurrency which has proven remarkably successful in languages like Erlang and Scala. They emphasize message passing as the only means of exchanging state, as opposed to threaded approaches like mutexes, conditions, and semaphores which hopefully guard access and mutation of any shared state, emphasis on the hopefully. Using messaging eliminates several problems in multithreaded programming, including many types of race conditions and deadlocks which result from hope dying in the cold light of reality.</p>

<p><strong>Message Passing</strong></p>

<p>The fundamental idea of the actor model is to use actors as concurrent primitives that can act upon receiving messages in different ways:</p>

<ul>
  <li>Send a finite number of messages to other actors.</li>
  <li>Spawn a finite number of new actors.</li>
  <li>Change its own internal behavior, taking effect when the next incoming message is handled.</li>
</ul>

<p>For communication, the actor model uses asynchronous message passing. In particular, it does not use any intermediate entities such as channels. Instead, each actor possesses a mailbox and can be addressed. These addresses are not to be confused with identities, and each actor can have no, one or multiple addresses. When an actor sends a message, it must know the address of the recipient. In addition, actors are allowed to send messages to themselves, which they will receive and handle later in a future step.</p>

<p>Messages are sent asynchronously and can take arbitrarily long to eventually arrive in the mailbox of the receiver. Also, the actor models makes no guarantees on the ordering of messages. Queuing and dequeuing of messages in a mailbox are atomic operations, so there cannot be a race condition.</p>

<p>There is no shared state and the interaction between actors is purely based on asynchronous messages.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/RCIT-actor_message_passing.png" alt="RCIT-actor_message_passing.png" /></p>

<p><strong>Implementation</strong></p>

<ul>
  <li>Thread-based Actors - the actor is internally backed by a dedicated thread. This obviously limits scalability and requires the thread to suspend and block when waiting for new messages.</li>
  <li>Event-driven Actors - which does not directly couple actors to threads. Instead, a thread pool can be used for a number of actors. This approach uses a continuation closure to encapsulate the actor and its state. Conceptually, this implementation is very similar to an event loop backed by a threadpool.</li>
</ul>

<p><strong>Reactor Pattern</strong></p>

<p>The reactor design pattern is an event handling pattern for handling service requests delivered concurrently to a service handler by one or more inputs. The service handler then demultiplexes the incoming requests and dispatches them synchronously to the associated request handlers.</p>

<p>The reactor pattern completely separates application specific code from the reactor implementation, which means that application components can be divided into modular, reusable parts. Also, due to the synchronous calling of request handlers, the reactor pattern allows for simple coarse-grain concurrency while not adding the complexity of multiple threads to the system.</p>

<p><em>Reference</em></p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model - Wikipedia</a></li>
  <li><a href="http://revactor.github.io/philosophy/">Philosophy - Revactor</a></li>
  <li><a href="http://on-ruby.blogspot.jp/2008/01/ruby-concurrency-with-actors.html">Ruby Concurrency with Actors - Pat Eyler</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Reactor_pattern">Reactor Pattern - Wikipedia</a></li>
  <li><a href="http://berb.github.io/diploma-thesis/original/054_actors.html#02">Actor-based Concurrency - Benjamin Erb</a></li>
</ul>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] Working With Ruby Threads]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/02/16/review-working-with-ruby-threads/"/>
    <updated>2016-02-16T13:07:05+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/02/16/review-working-with-ruby-threads</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Book</strong></td>
      <td>Working With Ruby Threads</td>
    </tr>
    <tr>
      <td><strong>Author</strong></td>
      <td><a href="http://www.jstorimer.com/">Jesse Storimer</a></td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="http://www.jstorimer.com/products/working-with-ruby-threads">www.jstorimer.com/products/working-with-ruby-threads</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#concurrent--parallel">Concurrent != Parallel</a></li>
  <li><a href="#the-gil-and-mri">The GIL and MRI</a></li>
  <li><a href="#thread-execution">Thread Execution</a></li>
  <li><a href="#mutual-exclusion">Mutual Exclusion</a></li>
  <li><a href="#signaling-threads-with-condition-variables">Signaling Threads with Condition Variables</a></li>
  <li><a href="#thread-safe-data-structures">Thread-safe Data Structures</a></li>
  <li><a href="#writing-thread-safe-code">Writing Thread-safe Code</a></li>
  <li><a href="#wrap-your-threads-in-an-abstraction">Wrap Your Threads in an Abstraction</a></li>
  <li><a href="#into-the-wild">Into The Wild</a></li>
  <li><a href="#closing">Closing</a></li>
</ul>

<h2 id="concurrent--parallel">Concurrent != Parallel</h2>

<ul>
  <li>Making it execute in parallel is out of your hands. That responsibility is left to the underlying thread scheduler.</li>
  <li>Making it concurrent, you enable it to be parallelized when the underlying system allows it.</li>
</ul>

<p>Example</p>

<ol>
  <li>You could complete Project A today, then complete Project B tomorrow. (Serial)</li>
  <li>You could work on Project A for a few hours this morning, then switch to Project B for a few hours this afternoon, and then do the same thing tomorrow. Both projects will be finished at the end of the second day. (Concurrent)</li>
  <li>Your agency could hire another programmer. He could work on Project B and you could work on Project A. Both projects will be finished at the end of the first day. (Concurrent &amp;&amp; Parallel)</li>
</ol>

<h2 id="the-gil-and-mri">The GIL and MRI</h2>

<p><strong>MRI allows concurrent execution of Ruby code, but prevents parallel execution of Ruby code.</strong></p>

<p>The GIL prevents parallel execution of Ruby code, but it doesnâ€™t prevent concurrent execution of Ruby code. Remember that concurrent code execution is possible even on a single core CPU by giving each thread a turn with the resources.</p>

<p>MRI doesnâ€™t let a thread hog the GIL when it hits blocking IO. This is a no-brainer optimization for MRI. When a thread is blocked waiting for IO, it wonâ€™t be executing any Ruby code. Hence, when a thread is blocking on IO, it releases the GIL so another thread can execute Ruby code.</p>

<p>Example</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;open-uri&#39;</span>
</span><span class="line"><span class="mi">3</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span>
</span><span class="line">  <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class="line">    <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;http://zombo.com&#39;</span><span class="p">)</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:value</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Thread A gets the GIL. It starts executing Ruby code. It gets down to Rubyâ€™s Socket APIs and attempts to open a connection to zombo.com. At this point, while Thread A is waiting for its response, it releases the GIL. Now Thread B acquires the GIL and goes through the same steps.</p>

<p>Meanwhile, Thread A is still waiting for its response. Remember that the threads can execute in parallel, so long as theyâ€™re not executing Ruby code. So itâ€™s quite possible for Thread A and Thread B to both have initiated their connections, and both be waiting for a response.</p>

<p>Under the hood, each thread is using a ppoll(2) system call to be notified when their connection attempt succeeds or fails. When the ppoll(2) call returns, the socket will have some data ready for consumption. At this point, the threads will need to execute Ruby code to process the data. So now the whole process starts over again.</p>

<p><strong>Why GIL Exists?</strong></p>

<p>MRI core developers have been calling the GIL a feature for some time now, rather than a bug. There are three reasons that the GIL exists:</p>

<ul>
  <li>To protect MRI internals from race conditions. The same issues that can happen in your Ruby code can happen in MRIâ€™s C code. When itâ€™s running in a multithreaded context, it will need to protect critical parts of the internals with some kind of synchronization mechanism.</li>
  <li>To facilitate the C extension API</li>
  <li>To reduce the likelihood of race conditions in your Ruby code. Itâ€™s important to note that the GIL only reduces entropy here; it canâ€™t rule it out all together. Itâ€™s a bit like wearing fully body armour to walk down the street: it really helps if you get attacked, but most of the time itâ€™s just confining.</li>
</ul>

<p><strong>MRI with blocking IO encourages a context switch while waiting for the thread to print to stdout</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="vi">@counter</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class="line">
</span><span class="line"><span class="mi">5</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span>
</span><span class="line">  <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class="line">    <span class="n">temp</span> <span class="o">=</span> <span class="vi">@counter</span>
</span><span class="line">    <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="line">    <span class="vi">@counter</span> <span class="o">=</span> <span class="n">temp</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:join</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="nb">puts</span> <span class="vi">@counter</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>With no synchronization, even with a GIL, itâ€™s possible that a context switch happens between incrementing temp and assigning it back to counter. If this is the case, itâ€™s possible that two threads assign the same value to counter. In the end the result of this little snippet could be less than 5.</p>

<p>Itâ€™s rare to get an incorrect answer using MRI with this snippet, but almost guaranteed if you use JRuby or Rubinius. If you insert a puts in the middle of the block passed to Thread.new, then itâ€™s very likely that MRI will produce an incorrect result. Its behaviour with blocking IO encourages a context switch while waiting for the thread to print to stdout.</p>

<p><strong>Compare to JRuby, and Rubinius</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/WWRT-multi_thread_prime_number_generation.png" alt="WWRT-multi_thread_prime_number_generation.png" /></p>

<p>GIL makes MRI run faster in single-threaded way, as no need to accquire or release locks for data structures. But also makes MRI run slower in multi-threaded way, as disabling on parellelism.</p>

<p>JRuby and Rubinius do indeed protect their internals from race conditions. But rather than wrapping a lock around the execution of all Ruby code, they protect their internal data structures with many fine-grained locks. Rubinius, for instance, replaced their GIL with about 50 fine-grained locks.</p>

<h2 id="thread-execution">Thread Execution</h2>

<p><strong>Threads in Ruby</strong></p>

<p>Thereâ€™s always at least one: the main thread. The main thread has one special property thatâ€™s different from other threads. When the main thread exits, all other threads are immediately terminated and the Ruby process exits.</p>

<p>The most important concept to grasp is that threads have a shared address space. A race condition involves two threads racing to perform an operation on some shared state.</p>

<p><code>Thread#join</code></p>

<p>When one thread raises an unhandled exception, it terminates the thread where the exception was raised, but doesnâ€™t affect other threads. Similarly, a thread that crashes from an unhandled exception wonâ€™t be noticed until another thread attempts to join it.</p>

<p><code>Thread#status</code></p>

<ul>
  <li>run: Threads currently running have this status.</li>
  <li>sleep: Threads currently sleeping, blocked waiting for a mutex, or waiting on IO, have this status.</li>
  <li>false: Threads that finished executing their block of code, or were successfully killed, have this status.</li>
  <li>nil: Threads that raised an unhandled exception have this status.</li>
  <li>aborting: Threads that are currently running, yet dying, have this status.</li>
</ul>

<p><code>Thread.stop</code></p>

<p>This method puts the current thread to sleep and tells the thread scheduler to schedule some other thread. It will remain in this sleeping state until its alternate, Thread#wakeup is invoked.</p>

<p><code>Thread.pass</code></p>

<p>It asks the thread scheduler to schedule some other thread. Since the current thread doesnâ€™t sleep, it canâ€™t guarantee that the thread scheduler will take the hint.</p>

<p>Avoid <code>Thread#raise</code> and <code>Thread#kill</code></p>

<p>It doesnâ€™t properly respect ensure blocks, which can lead to nasty problems in your code.</p>

<p><strong>How Many Threads Are Too Many?</strong></p>

<p>It depends, there will be a sweet spot between utilizing available resources and context switching overhead.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/WWRT-io_bound.png" alt="WWRT-io_bound.png" />
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/WWRT-cpu_bound.png" alt="WWRT-cpu_bound.png" /></p>

<p>CPU-bound code is inherently bound by the rate at which the CPU can execute instructions. Creating more threads isnâ€™t necessarily faster. On the other hand, introducing more threads improved performance in these two examples by anywhere between 100% and 600%. Finding that sweet spot is certainly worth it.</p>

<p><strong>Thread safety</strong></p>

<p>When your code isnâ€™t thread-safe, the worst that can happen is that your underlying data becomes incorrect, yet your program continues as if it were correct.</p>

<p>The computer is unaware of thread-safety issues. The onus is on you to notice these problems and deal with them. This is one of the hardest problems when it comes to thread safety. There are no exceptions raised or alarm bells rung when the underlying data is no longer correct. Even worse, sometimes it takes a heavy load to expose a race condition like this.</p>

<p>Any concurrent modifications to the same object are not thread-safe.</p>

<h2 id="mutual-exclusion">Mutual Exclusion</h2>

<p><strong>Demo Snippet</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="c1"># This class represents an ecommerce order</span>
</span><span class="line"><span class="k">class</span> <span class="nc">Order</span>
</span><span class="line">  <span class="kp">attr_accessor</span> <span class="ss">:amount</span><span class="p">,</span> <span class="ss">:status</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@amount</span><span class="p">,</span> <span class="vi">@status</span> <span class="o">=</span> <span class="n">amount</span><span class="p">,</span> <span class="n">status</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">pending?</span>
</span><span class="line">    <span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">collect_payment</span>
</span><span class="line">    <span class="nb">puts</span> <span class="s2">&quot;Collecting payment...&quot;</span>
</span><span class="line">    <span class="nb">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;paid&#39;</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Create a pending order for $100</span>
</span><span class="line"><span class="n">order</span> <span class="o">=</span> <span class="no">Order</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">100</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span> <span class="s1">&#39;pending&#39;</span><span class="p">)</span>
</span><span class="line"><span class="n">mutex</span> <span class="o">=</span> <span class="no">Mutex</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Ask 5 threads to check the status, and collect</span>
</span><span class="line"><span class="c1"># payment if it&#39;s &#39;pending&#39;</span>
</span><span class="line"><span class="mi">5</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span>
</span><span class="line">  <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class="line">    <span class="n">mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="k">do</span>
</span><span class="line">      <span class="k">if</span> <span class="n">order</span><span class="o">.</span><span class="n">pending?</span>
</span><span class="line">        <span class="n">order</span><span class="o">.</span><span class="n">collect_payment</span>
</span><span class="line">      <span class="k">end</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:join</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The block of code inside of a <code>Mutex#synchronize</code> call is often called a critical section, pointing to the fact that this code accesses a shared resource and must be handled correctly.</p>

<p><strong>Memory Visibility (Volatility)</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="c1"># With this line, it&#39;s possible that another thread</span>
</span><span class="line"><span class="c1"># updated the status already and this value is stale</span>
</span><span class="line"><span class="n">status</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span>
</span><span class="line">
</span><span class="line"><span class="c1"># With this line, it&#39;s guaranteed that this value is</span>
</span><span class="line"><span class="c1"># consistent with any changes in other threads</span>
</span><span class="line"><span class="n">status</span> <span class="o">=</span> <span class="n">mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="p">{</span> <span class="n">order</span><span class="o">.</span><span class="n">status</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The reason for this is due to low-level details. The kernel can cache in, for instance, L2 cache before itâ€™s visible in main memory. Itâ€™s possible that after the status has been set to â€˜paid,â€™ by one thread, another thread could still see the Order#status as â€˜pendingâ€™ by reading the value from main memory before the change has propagated there.</p>

<p>The solution to this is something called a memory barrier. Mutexes are implemented with memory barriers, such that when a mutex is locked, a memory barrier provides the proper memory visibility semantics.</p>

<p>Scenarios around memory visibility are difficult to understand and reason about. Thatâ€™s one reason other programming languages have defined something called a memory model, a well-defined specification describing how and when changes to memory are visible in other threads.</p>

<p>Ruby has no such specification yet, so situations like this are tricky to reason about and may even yield different results with different runtimes. That being said, <strong>mutexes carry an implicit memory barrier</strong>. So, if one thread holds a mutex to write a value, other threads can lock the same mutex to read it and they will see the correct, most recent value.</p>

<p><strong>Performance</strong></p>

<p>Mutexes inhibit parallelism. Restrict the critical section to be as small as possible, while still preserving the safety of your data.</p>

<p><strong>The dreaded deadlock</strong></p>

<p>The <code>try_lock</code> method attempts to acquire the mutex, just like the lock method. But unlike lock, try_lock will not wait if the mutex isnâ€™t available. If another thread already owns the mutex, try_lock will return false. If it successfully acquires the mutex, try_lock will return true.</p>

<p>The downside to this approach is that another kind of issue can arise: <strong>livelocking</strong>. A livelock is similar to a deadlock in that the system is not progressing, but rather than threads stuck sleeping, they would be stuck in some loop with each other with none progressing.</p>

<p>A better solution is to define a mutex hierarchy. In other words, <strong>any time that two threads both need to acquire multiple mutexes, make sure they do it in the same order</strong>.</p>

<h2 id="signaling-threads-with-condition-variables">Signaling Threads with Condition Variables</h2>

<p>Condition variables provide an inter-thread control flow mechanism. A classic usage pattern is Producer-Consumer.</p>

<p><strong>Demo Snippet</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;thread&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;net/http&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">mutex</span>    <span class="o">=</span> <span class="no">Mutex</span><span class="o">.</span><span class="n">new</span>
</span><span class="line"><span class="n">condvar</span>  <span class="o">=</span> <span class="no">ConditionVariable</span><span class="o">.</span><span class="n">new</span>
</span><span class="line"><span class="n">results</span>  <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">
</span><span class="line"><span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class="line">  <span class="mi">10</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class="line">    <span class="n">response</span> <span class="o">=</span> <span class="ss">Net</span><span class="p">:</span><span class="ss">:HTTP</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="s1">&#39;dynamic.xkcd.com&#39;</span><span class="p">,</span> <span class="s1">&#39;/random/comic/&#39;</span><span class="p">)</span>
</span><span class="line">    <span class="n">random_comic_url</span> <span class="o">=</span> <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Location&#39;</span><span class="o">]</span>
</span><span class="line">
</span><span class="line">    <span class="n">mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="k">do</span>
</span><span class="line">      <span class="n">results</span> <span class="o">&lt;&lt;</span> <span class="n">random_comic_url</span>
</span><span class="line">      <span class="nb">puts</span> <span class="s1">&#39;Produced result&#39;</span>
</span><span class="line">      <span class="n">condvar</span><span class="o">.</span><span class="n">signal</span> <span class="c1"># Signal the ConditionVariable</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">comics_received</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class="line">
</span><span class="line"><span class="k">until</span> <span class="n">comics_received</span> <span class="o">&gt;=</span> <span class="mi">10</span>
</span><span class="line">  <span class="n">mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="k">do</span>
</span><span class="line">    <span class="k">while</span> <span class="n">results</span><span class="o">.</span><span class="n">empty?</span>
</span><span class="line">      <span class="n">condvar</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">)</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">
</span><span class="line">    <span class="n">url</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">shift</span>
</span><span class="line">    <span class="nb">puts</span> <span class="s2">&quot;You should check out </span><span class="si">#{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="n">comics_received</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ol>
  <li><code>ConditionVariable#signal</code> will wake up exactly one thread thatâ€™s waiting on this ConditionVariable.</li>
  <li><code>ConditionVariable#broadcast</code> will wake up all threads currently waiting on this ConditionVariable.</li>
</ol>

<h2 id="thread-safe-data-structures">Thread-safe Data Structures</h2>

<p><strong>Implementing a thread-safe, blocking queue</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;thread&#39;</span>
</span><span class="line">
</span><span class="line"><span class="k">class</span> <span class="nc">BlockingQueue</span>
</span><span class="line">  <span class="kp">attr_reader</span> <span class="ss">:queue</span><span class="p">,</span> <span class="ss">:mutex</span><span class="p">,</span> <span class="ss">:cv</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class="line">    <span class="vi">@queue</span> <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">    <span class="vi">@mutex</span> <span class="o">=</span> <span class="no">Mutex</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">    <span class="vi">@cv</span>    <span class="o">=</span> <span class="no">ConditionVariable</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">ele</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="k">do</span>
</span><span class="line">      <span class="vi">@queue</span><span class="o">.</span><span class="n">push</span> <span class="n">ele</span>
</span><span class="line">      <span class="vi">@cv</span><span class="o">.</span><span class="n">signal</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">pop</span>
</span><span class="line">    <span class="vi">@mutex</span><span class="o">.</span><span class="n">synchronize</span> <span class="k">do</span>
</span><span class="line">      <span class="k">while</span> <span class="vi">@queue</span><span class="o">.</span><span class="n">empty?</span>
</span><span class="line">        <span class="vi">@cv</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="vi">@mutex</span><span class="p">)</span>
</span><span class="line">      <span class="k">end</span>
</span><span class="line">
</span><span class="line">      <span class="vi">@queue</span><span class="o">.</span><span class="n">pop</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">bq</span> <span class="o">=</span> <span class="no">BlockingQueue</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">
</span><span class="line"><span class="n">bq</span><span class="o">.</span><span class="n">push</span> <span class="s1">&#39;a&#39;</span>
</span><span class="line"><span class="n">bq</span><span class="o">.</span><span class="n">push</span> <span class="s1">&#39;b&#39;</span>
</span><span class="line">
</span><span class="line"><span class="kp">loop</span> <span class="k">do</span>
</span><span class="line">  <span class="nb">puts</span> <span class="n">bq</span><span class="o">.</span><span class="n">pop</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Queue, from the standard lib</strong></p>

<p>This is the only thread-safe data structure that ships with Ruby. Queue is very useful because of its blocking behaviour. Typically, you would use a Queue to distribute workloads to multiple threads, with one thread pushing to the queue, and multiple threads popping.</p>

<p><strong>Array and Hash</strong></p>

<p>Ruby doesnâ€™t ship with any thread-safe Array or Hash implementations. Thread-safety concerns would add overhead to their implementation, which would hurt performance for single-threaded use cases.</p>

<p>You might be thinking: â€œWith all of the great concurrency support available to Java on the JVM, surely the JRuby Array and Hash are thread-safe?â€ Theyâ€™re not. For the exact reason mentioned above, using a thread-safe data structure in a single-threaded context would reduce performance.</p>

<p><strong>Immutable data structures</strong></p>

<p>When you need to share objects between threads, share immutable objects. Itâ€™s very easy to pass out immutable objects to share, but if you need to have multiple threads modifying an immutable object you still need some form of synchronization.</p>

<p>Immutability is a nice guarantee to have, itâ€™s the simplest path to thread safety when sharing objects.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;hamster/queue&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;atomic&#39;</span>
</span><span class="line">
</span><span class="line"><span class="vi">@queue_wrapper</span> <span class="o">=</span> <span class="no">Atomic</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">Hamster</span><span class="p">:</span><span class="ss">:Queue</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="mi">30</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class="line">  <span class="vi">@queue_wrapper</span><span class="o">.</span><span class="n">update</span> <span class="p">{</span> <span class="o">|</span><span class="n">queue</span><span class="o">|</span>
</span><span class="line">    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">consumers</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class="line">
</span><span class="line"><span class="mi">3</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class="line">  <span class="n">consumers</span> <span class="o">&lt;&lt;</span> <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class="line">    <span class="mi">10</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class="line">      <span class="n">number</span> <span class="o">=</span> <span class="kp">nil</span>
</span><span class="line">      <span class="vi">@queue_wrapper</span><span class="o">.</span><span class="n">update</span> <span class="p">{</span> <span class="o">|</span><span class="n">queue</span><span class="o">|</span>
</span><span class="line">        <span class="n">number</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">head</span>
</span><span class="line">        <span class="n">queue</span><span class="o">.</span><span class="n">dequeue</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">
</span><span class="line">      <span class="nb">puts</span> <span class="s2">&quot;The cubed root of </span><span class="si">#{</span><span class="n">number</span><span class="si">}</span><span class="s2"> is </span><span class="si">#{</span><span class="no">Math</span><span class="o">.</span><span class="n">cbrt</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="n">consumers</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:join</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="writing-thread-safe-code">Writing Thread-safe Code</h2>

<p>Any guideline has exceptions, but itâ€™s good to know when youâ€™re breaking one, and why.</p>

<p>Idiomatic Ruby code is most often thread-safe Ruby code.</p>

<p><strong>Avoid mutating globals</strong></p>

<p>Any time there is only one shared instance (aka. singleton), itâ€™s a global.</p>

<p>There are other things that fit this definition in Ruby:</p>

<ul>
  <li>Constants</li>
  <li>The AST</li>
  <li>Class variables/methods</li>
</ul>

<p>A slightly more nefarious example is the AST. Ruby, being such a dynamic language, allows you to change this at runtime. I donâ€™t imagine this would be a common problem, but I saw it come up as an issue with the kaminari rubygem. Some part of the code was defining a method dynamically, then calling alias_method with that method, then removing it.</p>

<p>Again, this has to be a rare example, but itâ€™s good to keep in mind that modifying the AST at runtime is almost always a bad idea, especially when multiple threads are involved. When I say â€˜runtimeâ€™, I mean during the course of the lifecycle of the application. In other words, itâ€™s expected that the AST will be modified at startup time, most Ruby libraries depend on this behaviour in some way. However, in the case of a Rails application, once itâ€™s been initialized, changes to the AST shouldnâ€™t happen at runtime, just as itâ€™s rare to require new files in the midst of a controller action.</p>

<p><strong>Create more objects, rather than sharing one</strong></p>

<ul>
  <li>Thread-locals</li>
  <li>Connection pools</li>
</ul>

<p>A thread-local lets you define a variable that is global to the scope of the current thread. In other words, itâ€™s a global variable that is locally scoped on a per-thread basis.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="c1"># Instead of</span>
</span><span class="line"><span class="vg">$redis</span> <span class="o">=</span> <span class="no">Redis</span><span class="o">.</span><span class="n">new</span>
</span><span class="line"><span class="c1"># use</span>
</span><span class="line"><span class="no">Thread</span><span class="o">.</span><span class="n">current</span><span class="o">[</span><span class="ss">:redis</span><span class="o">]</span> <span class="o">=</span> <span class="no">Redis</span><span class="o">.</span><span class="n">new</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Itâ€™s perfectly acceptable to tell users of your API that they should create one object for each thread, rather than trying to write difficult, thread-safe code that will increase your maintainenace costs.</p>

<p>This N:N connection mapping is fine for small numbers of threads, but gets out of hand when the number of threads starts to increase. For connections, a pool is often a better abstraction.</p>

<p>Resource pool still ensures that your threads arenâ€™t sharing a single connection, but doesnâ€™t require each thread to have its own. Implementing a connection pool is a good exercise in thread-safe programming, youâ€™ll probably need to make use of both thread-locals and mutexes to do it safely.</p>

<p><strong>Avoid lazy loading</strong></p>

<p>A common idiom in Ruby on Rails applications is to lazily load constants at runtime, using something similar to Rubyâ€™s <code>autoload</code>. But <code>autoload</code> in MRI is not thread-safe. It is thread-safe in recent versions of JRuby, but the best practice is simply to eager load files before spawning worker threads. This is done implicitly in Rails 4+, and can be enabled in Rails 3.x using the ` config.threadsafe!` configuration setting.</p>

<p><strong>Prefer data structures over mutexes</strong></p>

<p>Mutexes are notoriously hard to use correctly. For better or worse, you have a lot of things to decide when using a mutex.</p>

<ul>
  <li>How coarse or fine should this mutex be?</li>
  <li>Which lines of code need to be in the critical section?</li>
  <li>Is a deadlock possible here?</li>
  <li>Do I need a per-instance mutex? Or a global one?</li>
</ul>

<p>By leaning on a data structure, you remove the burden of correct synchronization from your code and depend on the semantics of the data structure to keep things consistent.</p>

<p>This only works if you choose not to share objects between threads directly. Rather than letting threads access shared objects and implementing the necessary synchronization, you pass shared objects through data structures.</p>

<p><strong>Finding bugs</strong></p>

<p>Like most bugs, if you can reproduce the issue, you can almost certainly track it down and fix it. However, some thread-safety issues may appear in production under heavy load, but canâ€™t be reproduced locally. In this case, thereâ€™s no better solution than grokking the code.</p>

<p>Look at the code and assume that 2 threads will be accessing it simulatneously. Step through the possible scenarios. It can be helpful to jot these things down somewhere.</p>

<p><strong>Thread-safety on Rails</strong></p>

<ul>
  <li>Gem dependencies</li>
  <li>The request is the boundary. Donâ€™t share objects between requests.</li>
</ul>

<p>A good example of this is something like a <code>User.current</code> reference.</p>

<p>If you really need a global reference, follow the guidelines from the last chapter. Try using a thread-local, or else a thread-aware object that will preserve data correctness.</p>

<p>The same heuristic is applicable to a background job processor. Each job will be handled by a separate thread. A thread may process multiple jobs in its lifetime, but a job will only be processed by a single thread in its lifecycle.</p>

<p>Again, the path to thread safety is clear: create the necessary objects that you need in the body of the job, rather than sharing any global state.</p>

<h2 id="wrap-your-threads-in-an-abstraction">Wrap Your Threads in an Abstraction</h2>

<p><strong>Single level of abstraction</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">module</span> <span class="nn">Enumerable</span>
</span><span class="line">  <span class="k">def</span> <span class="nf">concurrent_each</span>
</span><span class="line">    <span class="n">threads</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class="line">    <span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">element</span><span class="o">|</span>
</span><span class="line">      <span class="n">threads</span> <span class="o">&lt;&lt;</span> <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="k">end</span> <span class="k">yield</span> <span class="n">element</span> <span class="p">}</span>
</span><span class="line">      <span class="n">threads</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:join</span><span class="p">)</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This is a simple wrapper around Enumerable#each that will spawn a thread for each element being iterated over. It wouldnâ€™t be wise to use this code in production yet because it has no upper bound on the number of threads it will spawn.</p>

<p><strong>Actor model</strong></p>

<p>At a high level, an Actor is a long-lived â€˜entityâ€™ that communicates by sending messages.</p>

<p>In the Actor model, each Actor has an â€˜addressâ€™. If you know the address of an Actor, you can send it a message. These messages go to the Actorâ€™s mailbox, where theyâ€™re processed asynchronously when the Actor gets around to it.</p>

<p>What sets Celluloid apart is that it takes this conceptual idea of the Actor model and marries it to Rubyâ€™s object model.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;celluloid/autostart&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;net/http&#39;</span>
</span><span class="line">
</span><span class="line"><span class="k">class</span> <span class="nc">XKCDFetcher</span>
</span><span class="line">  <span class="kp">include</span> <span class="no">Celluloid</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">next</span>
</span><span class="line">    <span class="n">response</span> <span class="o">=</span> <span class="ss">Net</span><span class="p">:</span><span class="ss">:HTTP</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="s1">&#39;dynamic.xkcd.com&#39;</span><span class="p">,</span> <span class="s1">&#39;/random/comic/&#39;</span><span class="p">)</span>
</span><span class="line">    <span class="n">random_comic_url</span> <span class="o">=</span> <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Location&#39;</span><span class="o">]</span>
</span><span class="line">
</span><span class="line">    <span class="n">random_comic_url</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Including the Celluloid module into any Ruby class will turn instances of that class into full-fledged Celluloid actors. When you create a new actor, you immediately know its â€˜addressâ€™. So long as you hold a reference to that object, you can send it messages. In Celluloid, sending messages to an actor equates to calling methods on an object.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="c1"># this spawns a new thread containing a Celluloid actor</span>
</span><span class="line"><span class="n">fetcher</span> <span class="o">=</span> <span class="no">XKCDFetcher</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">
</span><span class="line"><span class="c1"># these behave like regular method calls</span>
</span><span class="line"><span class="n">fetcher</span><span class="o">.</span><span class="n">object_id</span>
</span><span class="line"><span class="n">fetcher</span><span class="o">.</span><span class="n">inspect</span>
</span><span class="line">
</span><span class="line"><span class="c1"># this will fire the `next` method without</span>
</span><span class="line"><span class="c1"># waiting for its result</span>
</span><span class="line"><span class="n">fetcher</span><span class="o">.</span><span class="n">async</span><span class="o">.</span><span class="n">next</span>
</span><span class="line"><span class="n">fetcher</span><span class="o">.</span><span class="n">async</span><span class="o">.</span><span class="n">next</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Celluloid kicks off that method asynchronously and returns you a Celluloid::Future object.</span>
</span><span class="line"><span class="n">futures</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class="line"><span class="mi">10</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class="line">  <span class="n">futures</span> <span class="o">&lt;&lt;</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">future</span><span class="o">.</span><span class="n">next</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Calling #value on that future object will block until the value has been computed.</span>
</span><span class="line"><span class="n">futures</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">future</span><span class="o">|</span>
</span><span class="line">  <span class="nb">puts</span> <span class="s2">&quot;You should check out </span><span class="si">#{</span><span class="n">future</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="into-the-wild">Into The Wild</h2>

<p><strong>How Sidekiq Uses Celluloid</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/WWRT-how_sidekiq_uses_celluloid.png" alt="WWRT-how_sidekiq_uses_celluloid.png" /></p>

<p>The most obvious difference I see between the Sidekiq codebase and a more traditional Ruby codebase is the lack of dependence upon return values.</p>

<p><strong>Pumaâ€™s Thread Pool Implementation</strong></p>

<p>At Pumaâ€™s multi-threaded core is a thread pool implementation. Once initialized, the pool is responsible for receiving work and feeding it to an available worker thread. The ThreadPool also has an auto-trimming feature, whereby the number of active threads is kept to a minimum, but more threads can be spawned during times of high load. Afterwards, the thread pool would be trimmed down to the minimum again.</p>

<h2 id="closing">Closing</h2>

<p>The safest path to concurrency: (from JRuby wiki)</p>

<ol>
  <li>Donâ€™t do it.</li>
  <li>If you must do it, donâ€™t share data across threads.</li>
  <li>If you must share data across threads, donâ€™t share mutable data.</li>
  <li>If you must share mutable data across threads, synchronize access to that data.</li>
</ol>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è¾èŒåŠå¹´è®°]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2016/02/05/ci-zhi-ban-nian-ji/"/>
    <updated>2016-02-05T15:10:31+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2016/02/05/ci-zhi-ban-nian-ji</id>
    <content type="html"><![CDATA[<blockquote>
  <p>2012å¹´7æœˆ19æ—¥ï¼Œåœ¨å‹ç›Ÿå…¥èŒã€‚
2015å¹´7æœˆ20æ—¥ï¼Œè¾èŒå›å®¶ã€‚</p>
</blockquote>

<p>ä»Šå¤©ï¼Œ2016å¹´2æœˆ5æ—¥ï¼Œç¬¬199å¤©ã€‚åŠå¹´æ—¶é—´ï¼Œè½¬ç¬å³é€ã€‚æ¯è¿‡ä¸€ä¸ªæœˆï¼Œè‡ªå·±éƒ½ä¼šå†™ç¯‡å¾ˆé•¿çš„æ—¥è®°ä½œä¸ºå›é¡¾ã€‚ä»Šå¤©ï¼ŒæŠŠè¿™äº›æ‹¼å‡‘åœ¨ä¸€èµ·ï¼Œä½œä¸ºè¿™åŠå¹´çš„è¾èŒåè®°ã€‚</p>

<h3 id="section">å·¥ä½œ</h3>

<p>ä¸ŠåŠå¹´ç­”åº”äº†å®¶é‡Œäº²æˆšçš„å¤–åŒ…å·¥ä½œï¼Œå…«æœˆä»½å¼€å§‹ç€æ‰‹å‡†å¤‡ã€‚æœ¬æ¥ä»¥ä¸ºä¸€ä¸¤ä¸ªæœˆå¯ä»¥æå®šï¼Œç»“æœç›´åˆ°æ˜¨å¤©æ‰ç®—å…¨éƒ¨å®Œæˆï¼Œä¿¨ç„¶æˆäº†æˆ‘æ•´ä¸ªå‡æœŸçš„å™©æ¢¦ã€‚è¿™æ˜¯è‡ªå·±ç¬¬ä¸€æ¬¡ä»å¤´åˆ°å°¾å®Œæˆä¸€ä¸ªç›¸å¯¹å¤æ‚æˆç†Ÿçš„ Web äº§å“ï¼Œå›é¦–æ•´ä¸ªè¿‡ç¨‹å…¨æ˜¯è¡€æ³ªã€‚ä»å‰çŸ¥é“çš„é‚£äº›æ‰€è°“é“ç†ï¼Œè¿™æ¬¡å…¨éƒ¨åˆ‡èº«ä½“ä¼šã€‚</p>

<p>å¯¹éœ€æ±‚ã€å¯¹æ—¶é—´çš„é”™è¯¯é¢„ä¼°ã€‚å› ä¸ºæŠ±ç€å¸®åˆ«äººã€æ— è®ºå¦‚ä½•è¦æŠŠäº‹æƒ…å®Œæˆå¥½çš„æ€åº¦ï¼Œæ²¡æœ‰å¯¹æœ€å¼€å§‹çš„éœ€æ±‚æœ‰ç»†è‡´çš„åˆ†æã€‚æ‹¿ç€å®¢æˆ·ç»™çš„æ–‡æ¡£ï¼Œä»¥ä¸ºå°±æ˜¯å…¨éƒ¨ã€‚å¯¹ç€å¤§æ¡†é¢„ä¼°æ—¶é—´ï¼ŒæŠ±ç€ã€ä¸¤ä¸ªæœˆåè‚¯å®šèƒ½å¹²å®Œã€çš„å‚»é€¼å¿ƒç†ï¼Œç»“æœæ¯æ¬¡é¢å¯¹ä¸€å—æ–°åŠŸèƒ½ï¼Œéƒ½èƒ½çœ‹åˆ°ä¸€æ£µè‹å¤©å¤§æ ‘ä»æ–‡æ¡£æ‹”åœ°è€Œèµ·ï¼Œæç¹å¶èŒ‚æå¾—æˆ‘ç„¦å¤´çƒ‚é¢ã€‚å»¶æœŸï¼Œä¸æ–­åœ°å»¶æœŸï¼Œè€½è¯¯äº†è‡ªå·±å¤ªå¤šè®¡åˆ’ï¼Œåˆ°æœ€ç»ˆå®ŒæˆèŠ±äº†æˆ‘ 124 ä¸ªå·¥ä½œæ—¥ï¼Œä»¥åŠæ•°ä¸æ¸…å¤šå°‘ç„¦è™‘çš„æ—¶å…‰ã€‚å¹´å°‘æ— çŸ¥ï¼Œ simple naiveã€‚ä¸´è¿‘å°¾å£°ï¼Œæˆ‘åˆæµè§ˆäº†ä¸€éæœ€åˆçš„æ–‡æ¡£ï¼Œå¥½åƒå¹½é»˜æ•…äº‹ï¼Œåªæ˜¯çœ¼ä¸­å¸¦æ³ªã€‚</p>

<p>æ•´ä½“æ—¶é—´çš„é”™è¯¯å®‰æ’ã€‚ä¹‹å‰æœ‰è¯»åˆ°è¿‡ï¼Œå¦‚æœè®¡åˆ’åŠå¹´çš„è½¯ä»¶å¼€å‘å‘¨æœŸï¼Œé‚£æ¯”è¾ƒåˆç†çš„æ—¶é—´å®‰æ’ä¸ºä¸‰ä¸ªæœˆç¡®å®šéœ€æ±‚ï¼Œä¸€ä¸ªæœˆç³»ç»Ÿè®¾è®¡ï¼Œä¸€ä¸ªæœˆå¼€å‘ç¼–ç ï¼Œä¸€ä¸ªæœˆæµ‹è¯•ä¸Šçº¿ã€‚è€Œæˆ‘åœ¨éœ€æ±‚å°šä¸å®Œå–„æ˜ç¡®çš„æƒ…å†µä¸‹ï¼Œæ‰‹ç—’å¼€å§‹ç¼–ç ã€‚ç»“æœä¸æ–­äº†è§£ï¼Œä¸æ–­æ”¹è¿›ï¼Œä¸æ–­æ˜ç¡®éœ€æ±‚ï¼Œä¸æ–­æ¨å€’é‡å†™ã€‚ç²—ç•¥é¢„ä¼°ï¼Œæˆ‘å¤šèŠ±äº†ä¸€å€çš„æ—¶é—´å’Œå¿ƒæ€åœ¨ä¸å¿…è¦çš„ä»£ç ä¸Šã€‚æ¯«ä¸è°¦è™šçš„è¯´ï¼Œæˆ‘å†™äº†ä¸€æ‰‹å±ä»£ç ã€‚</p>

<p>æ²Ÿé€šçš„å›°éš¾ã€‚æ€ä¹ˆè·Ÿå®¢æˆ·æœ‰æ•ˆæ²Ÿé€šï¼Œä»ä»–ä»¬æ”¯ç¦»ç ´ç¢çš„æè¿°ä¸­æ‰¾åˆ°äº§å“çš„éœ€æ±‚ç‚¹ï¼Ÿå¦‚ä½•å»ºç«‹ä¸€å¥—æœ‰æ•ˆçš„åé¦ˆæœºåˆ¶ï¼Œè®©å®¢æˆ·å’Œè‡ªå·±çš„æ—¶é—´äº’ä¸æ‰“æ‰°åˆä¿è¯æ²Ÿé€šé¡ºç•…ï¼Ÿå¦‚ä½•æœ‰æ•ˆåœ°è¡¨è¾¾æƒ…ç»ªï¼Œè€Œä¸æ˜¯å¸¦ç€æƒ…ç»ªè¡¨è¾¾ï¼Ÿæˆ‘åœ¨ä¸€æ­¥æ­¥æ‘¸ç´¢ï¼Œä½†å§‹ç»ˆæ‰¾ä¸åˆ° best practiceã€‚å¯¹äºæœ¬æ¥å†…å‘çš„æˆ‘ï¼Œå¥½å¤šæ—¶å€™æˆ‘é€‰æ‹©ç”¨å¤šä»˜å‡ºæ¥ä»£æ›¿å°‘æ²Ÿé€šï¼Œå¤šä¹ˆé”™è¯¯çš„åšæ³•ï¼Œæˆ‘å·²æ·±æœ‰ä½“ä¼šã€‚</p>

<p>æœ‰å€ºå¿…è¿˜ï¼Œä½†æ˜¯æˆ‘ä»¬è¯¥æ€ä¹ˆå»å®šä¹‰å€ºï¼Ÿæœ‰äº›æ—¶å€™ï¼Œåœ¨è®¾è®¡å’Œç¼–ç çš„è¿‡ç¨‹ï¼Œè„‘ä¸­é—ªè¿‡ä¸€ç§è¾¹ç•Œæƒ…å†µï¼Œå› ä¸ºä¸åœ¨éœ€æ±‚ä¹‹ä¸­ï¼Œå°±æŠŠå®ƒæš‚ä¸”æ”¾ä¸‹ã€‚ä½†æ˜¯éœ€æ±‚çš„ä¸æ–­å˜åŒ–ï¼Œæˆ–è€…è¯´æˆ‘ä»¬å¯¹éœ€æ±‚ä¸æ–­æœ‰æ–°çš„è®¤è¯†ï¼Œè¿™ç§è¾¹ç•Œæƒ…å†µåˆä¼šè¹¦å‡ºæ¥äºŸå¾…è§£å†³ã€‚é‚£ä¹ˆé—®é¢˜å›åˆ°æœ€åˆï¼Œè¦ä¸è¦å°†è¿™ç§æƒ…å†µä¸€å¹¶è§£å†³ï¼Ÿæˆ‘æš‚æ—¶è®¤å¯çš„ç­”æ¡ˆæ˜¯ï¼Œä¸è§£å†³ï¼Œæ»¡è¶³å½“ä¸‹çš„éœ€æ±‚å³å¯ï¼Œä½†è¦ä¸ºéœ€æ±‚å˜åŠ¨åšã€é€‚å½“ã€çš„é¢„ç•™ã€‚æˆ‘ä»¬éƒ½çŸ¥é“è¿‡åº¦ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºï¼Œä½†æ˜¯è¿‡åº¦ä¸é€‚å½“ä¹Ÿä»…ä»…ä¸€å¿µä¹‹å·®ã€‚å¯èƒ½åªæ˜¯ç•™ä¸‹ placeholderï¼Œä¸€ä¸ª NotImplementError å³å¯è®©æœªæ¥ä¸é‚£ä¹ˆç‹¼ç‹ˆï¼Œä½†æ˜¯é¢å¯¹ç›¸å¯¹æ ¹åŸºçš„è®¾è®¡å±‚é¢çš„é—®é¢˜ï¼Œåˆè¯¥ä¸ºæœªæ¥åšå¤šå°‘ä¿ç•™å‘¢ï¼Ÿ</p>

<p>è¿˜æœ‰äº›é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸€ç›´æŠ±æœ‰æ€€ç–‘ã€‚</p>

<p>æ˜¯å¦éœ€è¦è®©å®¢æˆ·ä»˜å‡ºä¸€å®šçš„è®¤çŸ¥æ¥äº†è§£ç³»ç»Ÿè®¾è®¡ï¼ŸåŠªåŠ›åšåˆ°å‚»ç“œåŒ–æ“ä½œï¼ŒDonâ€™t let them thinkï¼Œè¿˜æ˜¯å¯¹åŸºç¡€çš„è®¾è®¡åšç®€å•çš„è®²è§£ï¼Œè®©å®¢æˆ·é¢å¯¹ç‰¹æ®Šæƒ…å†µè‡ªè¡Œçµæ´»è§£å†³ã€‚</p>

<p>æœ€ç»ˆå®Œæˆçš„äº§å“è¦å¯¹å®¢æˆ·éœ€æ±‚æ”¯æŒåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿå®¢æˆ·å¾€å¾€æƒ³è¦çš„æ˜¯ elixerï¼Œä¸€ä¸ªä¸‡èƒ½çš„äº§å“ï¼Œæ—¢ç¬¦åˆä»–ä»¬åŸæœ¬çš„æ€è·¯ï¼Œåˆèƒ½è§£å†³æ‰€æœ‰é—®é¢˜ã€‚è€Œç°å®å¾€å¾€æ˜¯ï¼Œæˆ‘ä»¬å®šä¸‹æ¡æ¡æ¡†æ¡†æ¥ä¿è¯æµç¨‹ã€æ•°æ®çš„å‡†ç¡®ï¼Œä½†æ€»ä¼šå‡ºç°ç‰¹æ®Šæƒ…å†µã€‚å½“æœ€ç»ˆäº¤ä»˜äº§å“æ—¶ï¼Œåˆ°åº•è¯¥å¯¹ç‰¹æ®Šæƒ…å†µåšå¤šå¤§ç¨‹åº¦çš„æ”¯æŒï¼Ÿå¹¶ä¸”ï¼Œæˆ‘è¶Šå‘è®¤è¯†åˆ°ä¸€ä¸ªæ®‹é…·çš„äº‹å®ï¼Œä»æ—¶é—´çš„è§’åº¦çœ‹ï¼Œåªéœ€èŠ±è´¹ 20% çš„æ—¶é—´å°±èƒ½å®Œæˆ 80% çš„æ ‡å‡†åŠŸèƒ½ï¼Œè€Œ 80% çš„æ—¶é—´éƒ½è¢«ç”¨å»åº”å¯¹é‚£äº›ç¢¾å‹ä¸€åˆ‡çš„ç‰¹æ®Šå¤„ç†ã€‚</p>

<p>å›é¦–æ•´ä¸ªå·¥ä½œè¿‡ç¨‹ï¼Œé¢å¯¹ä¸æ–­çš„å»¶æœŸï¼Œæ¨è¿ŸåŸæœ‰çš„å…¶ä»–è®¡åˆ’ï¼Œè®©æˆ‘é¢å¯¹å¾ˆå¤§çš„å‹åŠ›ã€‚æ¯éš”ä¸€æ®µæ—¶é—´éƒ½ä¼šä¸ç”±è‡ªä¸»çš„ç„¦è™‘ï¼Œé™·å…¥æ·±æ·±çš„ææ…Œã€‚å¥½ä¸å®¹æ˜“å¾—åˆ°ä¸€æ®µå‡æœŸï¼Œç»“æœåªæ˜¯ä»ä¸€ä¸ªå‘è·³åˆ°å¦ä¸€ä¸ªå‘ã€‚è¯´å¥½çš„ Gap Year è‡ªå·±å‡ºå»èµ°ä¸€åœˆï¼Œç»“æœè¢«åœˆåœ¨äº†è‡ªå·±å®¶é‡Œã€‚æœ‹å‹éƒ½ä»¥ä¸ºæˆ‘é€é¥è‡ªåœ¨ï¼Œæ”¾äº†å¤§å‡ï¼Œåªæœ‰æˆ‘è‡ªå·±æ·±çŸ¥è¿™å…¶ä¸­çš„è‹¦æ¶©ã€‚æ—¶é—´ç´§è¿«ä¸åœæ­‡ï¼Œè¿™æ˜¯æˆ‘æœ€å¤§çš„éš¾è¿‡ã€‚å¦‚ä½•å…‹åˆ¶ä¸è®©è‡ªå·±è®¡ç®—æ—¶é—´æˆæœ¬ï¼Œå¦‚ä½•è’™éª—è‡ªå·±ä»¥æœŸæœ›åœ¨ä½æ”¶æ•ˆçš„å·¥ä½œä¸­ä¹Ÿèƒ½å¾—åˆ°äº›è®¸ç»éªŒï¼Œå¦‚ä½•è®©è‡ªå·±ä¿æŒç§¯ææ€åº¦ï¼Œçºµä½¿å¿ƒé‡Œå†æ€¥è¡ŒåŠ¨ä¹Ÿä¸èƒ½ç€æ€¥ï¼Œåªèƒ½ç‚¹æ»´å»åšï¼Œè¿‡å¥½æ¯å¤©ç„¶åé»˜é»˜ç­‰å¾…ã€‚è¿™ä¸€ç¢—ç¢—å‚»é€¼é¸¡æ±¤ï¼Œç†¬å•Šç†¬ï¼Œæˆ‘å¹²çš„ç—›å¿«ã€‚</p>

<p>æœ¬æ¥å‡æœŸå¼€å§‹ï¼Œå¯¹è‡ªå·±æœ€å¤§çš„æœŸæœ›æ˜¯èƒ½å¤Ÿåˆ©ç”¨å¥½æ—¶é—´å¤šçœ‹äº›æŠ€æœ¯ä¹¦ç±ï¼Œä¸ºè‡ªå·±ç§¯ç´¯ä¸€äº›é‡å˜ã€‚è®©å·¥ä½œå¸¦åŠ¨è‡ªå·±çš„çŠ¶æ€ï¼Œç•™ä¸‹ç©ºä½™æ—¶é—´å¤šçœ‹ä¹¦å­¦ä¹ ã€‚ä½†æ˜¯ï¼Œè¶…å‡ºé¢„æœŸçš„å·¥ä½œæ—¶é—´ï¼Œåœ¨åäºŒæœˆå½»åº•çˆ†å‘ï¼Œå¿™ç»¿ã€ç„¦è™‘ï¼Œè®©æˆ‘å½»åº•æ·¹æ²¡åœ¨å·¥ä½œä¸­ã€‚æ²¡èƒ½åœ¨æŠ€æœ¯ä¸Šæœ‰æ‰€çªç ´è®©æˆ‘æ‡Šæ‚”ä¸å·²ã€‚æ•´ä¸ªåŠå¹´çš„æ—¶é—´ï¼Œç²—ç•¥ä¼°è®¡åªæœ‰ 1/5 çš„æ—¶é—´èŠ±åœ¨äº†æŠ€æœ¯å­¦ä¹ ä¸Šã€‚è®¤çœŸçœ‹äº†ã€ŠOperating Systems Three Easy Piecesã€‹ï¼Œã€ŠHTTP - The Definitive Guideã€‹ï¼Œä»¥åŠå‡ ä¸ª Udacity ä¸Šçš„ Web è¯¾ç¨‹ã€‚æ ‡è®°äº†ä¸€å †æƒ³çœ‹çš„ä¹¦ç±è¯¾ç¨‹ï¼Œä½†ä¹Ÿåªèƒ½æ¥å—è¿™æœ€ç»ˆå·®å¼ºäººæ„çš„å®Œæˆåº¦ã€‚</p>

<p><strong>æ€»ç»“ä¸åæ€</strong></p>

<p>å¦‚æœéè¦æ€»ç»“è¿™ä¸ªè¿‡ç¨‹è‡ªå·±å¾—åˆ°ä»€ä¹ˆå®è´µç»éªŒï¼Œé‚£é™¤äº†ä¸Šé¢çš„æ€è€ƒï¼Œåœ¨æ—¶é—´çš„å‚¬ä¿ƒä¸‹ï¼Œæˆ‘éœ€è¦ä¸æ–­åæ€å·¥ä½œè¿‡ç¨‹ï¼Œæƒ³æ–¹è®¾æ³•æé«˜å·¥ä½œæ•ˆç‡ã€‚åäºŒæœˆåˆçš„æ—¶å€™ï¼Œçœ‹åˆ°çŸ¥ä¹è¿™ç¯‡<a href="http://www.zhihu.com/question/37167038">ä½ çš„æ¯æ—¥ç§äººæˆé•¿æš—å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</a>ï¼Œè¿åŒè‡ªå·±çš„ä¸ªäººå®è·µï¼Œåˆ¶å®šäº†ä¸€ä»½ä¸ªäººè®¡åˆ’ã€‚</p>

<blockquote>
  <p>æ¯æ—¥è®¡åˆ’ï¼ˆGTDï¼‰</p>
</blockquote>

<ul>
  <li>æ¯å¤©å¼€å§‹æ—¶ï¼ŒæŒ‡å®šä»»åŠ¡åˆ—è¡¨ï¼›ç»“æŸæ—¶ï¼Œå®¡é˜…å·²å®Œæˆäº‹é¡¹ï¼Œå»¶æœŸæœªå®Œæˆå·¥ä½œ</li>
  <li>å®Œæˆåº¦çš„æ ‡å‡†ï¼Œä¸åœ¨äºæ¸…ç©ºä»»åŠ¡åˆ—è¡¨ï¼Œè€Œåœ¨äºæ˜¯å¦è¾¾åˆ°å·¥ä½œæ—¶é•¿</li>
</ul>

<p>ä»å‰æˆ‘ç»å¸¸é¢å¯¹è¿™æ ·çš„æƒ…å†µï¼Œç¡å‰æ•´ç†ä»»åŠ¡åˆ—è¡¨ï¼Œçœ‹ç€ä¸€ä¸¤æ¡åˆºçœ¼çš„æœªå®Œæˆè®¡åˆ’ï¼Œä¼´ç€æ— å¥ˆä¸å¤±æœ›ç¡å»ã€‚æˆ‘ç¡®ä¿¡ï¼Œè¿™æ˜¯è®©æˆ‘ä¸å¿«ä¹çš„é‡è¦å› ç´ ã€‚ä½†æ˜¯æˆ‘æ…¢æ…¢è®¤è¯†åˆ°ï¼Œå¦‚æœåŠªåŠ›è¿˜æ˜¯å®Œä¸æˆè®¡åˆ’ï¼Œå¤šæ•°æƒ…å†µåªæ˜¯å¯¹è®¡åˆ’çš„é”™è¯¯é¢„ä¼°ã€‚å·²ç„¶å°½åŠ›å»åšäº†ï¼Œå°±ä¸å¿…åŸ‹æ€¨è‡ªå·±ã€‚èµ·åˆæˆ‘ä¹Ÿæ€€ç–‘ï¼Œè¿™æ˜¯ä¸æ˜¯åœ¨é™ä½æ ‡å‡†ä¼å›¾åŸè°…è‡ªå·±ã€‚æˆ‘çš„ç»“è®ºæ˜¯ï¼Œä¸ã€‚è¿™æ˜¯å¯¹è‡ªå·±èƒ½åŠ›çš„æ­£ç¡®è®¤è¯†ï¼Œä¿æŒå¥½çš„å¿ƒæ€å»å®Œæˆæ›´å¤šçš„äº‹æƒ…ã€‚æ‰€ä»¥ï¼Œæˆ‘ç°åœ¨å°†ä»»åŠ¡çš„å®Œæˆåº¦æ ‡å‡†å®šä¹‰ä¸ºï¼Œæ˜¯å¦è¾¾åˆ°é¢„å®šçš„å·¥ä½œæ—¶é•¿ã€‚å¦‚æœä¿æŒé«˜æ•ˆçš„å®Œæˆäº†å·¥ä½œæ—¶é—´ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯å‰©ä¸‹ä¸€ä¸¤æ¡åˆºçœ¼çš„æœªå®Œæˆè®¡åˆ’ï¼Œæˆ‘ä¼šè´£æ— æ—è´·æŠŠå®ƒä»¬æ¨è¿Ÿåˆ°æ˜å¤©ï¼Œç„¶åç»™è‡ªå·±ä¸€ä¸ªè‚¯å®šçš„é¼“åŠ±ã€‚</p>

<blockquote>
  <p>ä¹ æƒ¯å…»æˆ</p>
</blockquote>

<p>ä¹ æƒ¯åˆ—è¡¨è¦èå…¥åˆ°æ¯å¤©çš„æ—¶é—´å®‰æ’ä¸­ï¼Œæ—¥ç§¯æœˆç´¯</p>

<ul>
  <li>åšæŒå†™æ—¥è®°åšæ€»ç»“</li>
  <li>ä¸€å‘¨ 4-5 æ¬¡å¥èº«</li>
  <li>æ¯å¤© 1 ç‚¹å‰ç¡è§‰</li>
  <li>åšæŒè¯»ä¹¦ 1h</li>
</ul>

<blockquote>
  <p>æ—¶é—´å®‰æ’ï¼ˆå·¥ä½œæ—¥ï¼‰</p>
</blockquote>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/weekday_calender.png" alt="weekday_calendar" /></p>

<p>æ±‡æ€»</p>

<ul>
  <li>ç¡çœ  8.5 hï¼Œé¢„ç•™ 1 h ç¼“å†²ï¼ˆç¿»æ‰‹æœºï¼Œç¡ä¸ç€ç­‰ï¼‰</li>
  <li>æ¯å¤©ä¸‰é¤å›ºå®šæ—¶é—´ 1 h</li>
  <li>ä¸‰æ®µå·¥ä½œæ—¶é—´ï¼Œæ¯æ®µ 2.5 hã€‚æ³¨æ„è¦ä¿è¯å·¥ä½œä¸“æ³¨åº¦ï¼Œä½¿ç”¨ç•ªèŒ„å·¥ä½œæ³•ã€‚</li>
  <li>å¥èº«æ—¶é—´ 2 h</li>
  <li>è‡ªç”±æ—¶é—´ 3h</li>
</ul>

<p>æ—¶é—´çš„è°ƒé…ä¸Šï¼Œ<em>å°½é‡</em>æŒ‰ç…§æ—¶é—´è¡¨ã€‚å¦‚æœ‰ç‰¹æ®Šæƒ…å†µï¼ˆæå‰ä½¿ç”¨è‡ªç”±æ—¶é—´ç­‰ï¼‰ï¼Œå¯è‡ªè¡Œè°ƒé…ï¼Œä¿è¯æ—¶é—´å®Œæˆåº¦å³å¯ã€‚</p>

<blockquote>
  <p>æ—¶é—´å®‰æ’ï¼ˆå‘¨æœ«ï¼‰</p>
</blockquote>

<p>ä¸ä¸¥æ ¼æŒ‰ç…§å·¥ä½œæ—¥çš„æ—¶é—´å®‰æ’ï¼Œä½†éœ€è¦ä¿è¯</p>

<ul>
  <li>å°±æŸä¸ª topic æ€»ç»“ä¸€ç¯‡ evernoteï¼Œç§¯ç´¯ä¸€å®šç¨‹åº¦å®Œæˆ blog</li>
  <li>æ¸…ç©ºé‚®ä»¶åˆ—è¡¨</li>
</ul>

<blockquote>
  <p>å·¥å…·</p>
</blockquote>

<p>å–„ç”¨å·¥å…·è¾…åŠ©è‡ªå·±è¿½è¸ªè®°å½•å·¥ä½œçŠ¶å†µï¼š</p>

<ol>
  <li>Omnifocusï¼ŒGTD ä»»åŠ¡åˆ—è¡¨ã€‚è¿™ä¸ª App çµæ´»åˆ°åŸºæœ¬å¯ä»¥æ»¡è¶³ä»»ä½•è‡ªå®šä¹‰éœ€æ±‚ã€‚æˆ‘è‡ªå·±çš„å·¥ä½œæµç¨‹æ˜¯ï¼Œä¿æŒä¸¤ä¸ªçª—å£ Inbox å’Œ Projectã€‚Inbox ä½œä¸º quick entry ç­‰å¾…å½’ç»“æ•´ç†åˆ°æŸä¸ª Projectã€‚æ•´ä½“ä¸Šé€šè¿‡ Due Date æ¥åšæ—¶é—´æŠŠæ§ã€‚</li>
  <li>Focusï¼Œæ—¶é—´è®°å½•ï¼Œè®©è‡ªå·±åšä¸€åå¿«ä¹çš„æ ‘å†œã€‚è¿™ä¸ª App å› ä¸ºæ—¶é—´å¯å˜ï¼Œä¸ç”¨æ•™æ¡çš„éµå¾ªç•ªèŒ„å·¥ä½œæ³•ï¼Œè¿œç¦»æ‰‹æœºæ˜¯æ‹’ç»ä¸€åˆ‡è¯±æƒ‘çš„å¼€å§‹ã€‚å¦å¤–ï¼Œè®°å½•å·¥ä½œæ—¶é—´å¯¹æˆ‘çš„æ„ä¹‰ç›¸å¯¹æ›´å¤§ã€‚èµ·åˆæˆ‘ä»¥ä¸ºä¸€æ•´å¤©éšæ—¶éƒ½åœ¨å·¥ä½œï¼Œä½†æ˜¯ç²¾ç¡®è®¡ç®—æ‰å‘ç°ï¼Œå‡€æ—¶é—´åªæœ‰å››åˆ°äº”ä¸ªå°æ—¶ã€‚ä¸æ–­åæ€å·¥ä½œè¿‡ç¨‹ã€åˆç†å®‰æ’æ—¶é—´ï¼Œæ…¢æ…¢ï¼Œå·…å³°æ—¶å€™å¯ä»¥æŠŠè‡ªå·±æ¨åˆ°æ¯å¤©ä¹åˆ°åä¸ªå°æ—¶ã€‚æ¸…æ¥šçŸ¥é“æ—¶é—´éƒ½å»äº†å“ªï¼Œæ‰èƒ½æƒ³åŠæ³•åšå‡ºæé«˜ã€‚</li>
</ol>

<h3 id="section-1">æ—…è¡Œ</h3>

<p>å¸¦çˆ¸å¦ˆå»æ³°å›½ç©äº†ä¸€åœˆæ˜¯è¿™å‡æœŸæœ€éª„å‚²çš„äº‹æƒ…ã€‚è¾èŒå‰å°±æƒ³å®‰æ’è¿™æ ·ä¸€æ¬¡æ—…è¡Œï¼Œä¹æœˆä»½ç»ˆäºæˆè¡Œã€‚æˆ‘è¦è‡ªç§çš„æ‰¿è®¤ï¼Œæ•´ä¸ªè¿‡ç¨‹è‡ªå·±ä¸æ˜¯æœ€å¿«ä¹çš„ï¼Œå‰æœŸçš„å‡†å¤‡ï¼Œå‡ºå»æ¯å¤©çš„å®‰æ’ï¼Œå¥½å¤šæ—¶å€™ä¸æƒ³é¢å¯¹éº»çƒ¦å°±åªèƒ½å¤šèŠ±é’±ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå•å•ä¸æ˜¯ä¸ºè‡ªå·±çš„ã€‚æˆ‘ä¸ä¼šè®°å¾—å“ªé‡Œçš„æ™¯è‰²ç‰¹åˆ«æ¼‚äº®ï¼Œåªæ˜¯è€å¦ˆæ—¶ä¸æ—¶æ´‹æº¢å¹¸ç¦è¡¨æƒ…ï¼Œè€çˆ¸å›æ¥åå¼€å§‹æ¯å¤©å­¦ä¹ è‹±è¯­ï¼Œè®©æˆ‘ç›¼æœ›ç€ä¸‹ä¸€æ¬¡çš„å¼€å§‹ã€‚</p>

<p>åŠå¹´çš„æ—¶é—´ï¼Œå»äº†ä¸€æ¬¡ä¸Šæµ·ï¼Œå’Œå¤§å­¦å¥³å‹é‡å½’äºå¥½ï¼›å»äº†ä¸€æ¬¡åŒ—äº¬ï¼Œåœ¨å ä¸œå’Œå°é¸¡å®¶ç†Ÿæ‚‰çš„æ’éª¨å’Œé¸¡ç¿…ï¼ˆä¿¨ç„¶æˆäº†åœ°é™ªæ ‡é…ï¼‰ï¼›å»äº†ä¸€æ¬¡æ²ˆé˜³ä¸¤æ¬¡é•¿æ˜¥ï¼Œè·Ÿæ¯å¹´åªèƒ½è¿‡å¹´è§é¢çš„å¥½å‹ï¼Œåœ¨æŸä¸ªå¹³å¸¸çš„å‘¨æœ«ç›¸èšï¼Œè¿™æ„Ÿè§‰å¤ªå¥½ã€‚</p>

<p>æœ¬æ¥è¯´å¥½çš„é’å²›ã€å¦é—¨ã€é‡åº†å› ä¸ºå·¥ä½œæœªèƒ½æˆè¡Œï¼Œå¸Œæœ›å¹´åè¿˜æœ‰æœºä¼šã€‚</p>

<h3 id="section-2">ç”Ÿæ´»</h3>

<p>è¿™ä¸¤å¹´æœ€å¸¸æ€è€ƒçš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•åšåˆ°åšæŒã€‚æŸç§ç¨‹åº¦ï¼Œæˆ‘æŠŠåšæŒå½“ä½œé€šå¾€æˆåŠŸçš„ä¸‡èƒ½é’¥åŒ™ã€‚ä»»ä½•äº‹æƒ…ï¼Œå”¯æœ‰åšæŒæ˜¯æœ€éš¾ä¸€å…³ï¼Œä¹Ÿå”¯æœ‰åšæŒæ‰æ˜¯æœ€è¸å®åŠæ³•ã€‚è‡ªä»çœ‹å®Œã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹ï¼Œæˆ‘æ„¿æ„ç›¸ä¿¡ä¹ æƒ¯å…»æˆæ˜¯åšæŒæœ€æœ‰æ•ˆçš„æ‰‹æ®µï¼Œæˆ‘ä¹Ÿæ„¿æ„æŠŠä¹ æƒ¯å½“åšä¸€ç§æŠ•èµ„ï¼Œåœ¨æ—¶é—´æ’’ä¸‹ç§å­ï¼Œé™å€™å®ƒç”Ÿæ ¹å‘èŠ½ã€‚</p>

<p>å‡æœŸå¼€å§‹ï¼Œç»™è‡ªå·±å®šä¸‹ä¸€äº›å…³äºä¹ æƒ¯çš„ç›®æ ‡ã€‚å›è¿‡å¤´æ¥ï¼Œè¿™äº›è¾¾æˆçš„ä¹ æƒ¯ä¹Ÿæˆäº†æˆ‘è¿™åŠå¹´æœ€å¤§çš„æ”¶è·ã€‚</p>

<ul>
  <li>ç¡å‰æ—¥è®°ã€‚å› ä¸ºæ‰‹é‡Œæ¡æœ‰å¤§æŠŠæ—¶é—´ï¼Œå¾ˆæ€•åœ¨æ¾æ‡ˆä¸ä¸è‡ªçŸ¥ä¸­è®©æ—¶é—´æ‚„ç„¶æµé€ã€‚è™½ç„¶å¥½å¤šæ—¥å­åªæ˜¯è®°äº†äº›æ°´è´¦ï¼Œä½†é‡è¦çš„æ˜¯èƒ½è®©è‡ªå·±åœä¸‹æ¥å›æƒ³è¿™ä¸€å¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæ¥ä¸‹å»è¦åšä»€ä¹ˆã€‚è¿™æ˜¯æˆ‘åšæŒæœ€å¥½çš„ä¹ æƒ¯ï¼Œä¸€å¤©æ²¡æœ‰è½ä¸‹ï¼Œæ‰€ä»¥æˆ‘æ¸…æ¥šçŸ¥é“ä»Šå¤©æ˜¯å›å®¶ç¬¬199å¤©ã€‚</li>
  <li>å¥èº«ï¼Œæ€»å…±å®Œæˆäº†91å¤©ã€‚è¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹è‰°è¾›ï¼Œæ€»ä¼šè¢«å„ç§äº‹æƒ…æ‰“æ–­ï¼Œä¾‹å¦‚å¿ƒæƒ…ã€å¤©æ°”ã€åˆé¥­åƒæ’‘ç­‰ç­‰ã€‚è¯´åˆ°åº•ï¼Œè¿˜æ˜¯æƒ°æ€§ã€‚ä»å¼€å§‹çœ‹ä¹¦å­¦ä¹ ï¼Œæ ¹æ®è‡ªèº«æŒ‡å®šè®¡åˆ’ï¼Œåˆ°ä¸æ–­äº²èº«è¯•éªŒæ€»ç»“åæ€ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸æ–­æ”¹è¿›çš„å†ç¨‹ï¼Œè‡ªå·±ä¹Ÿæ€»ç»“å‡ºä¸€äº›ç»éªŒï¼šæ‰€æœ‰å¯è€ƒè™‘å› ç´ ä¸­éƒ½åŸºäºæœ€é‡è¦ä¸€ç‚¹ï¼Œå¾—å»ã€‚æˆ˜èƒœè‡ªå·±æ¯”æŠ€å·§é‡è¦ã€‚äº†è§£å¹¶æ‰¿è®¤è‡ªå·±çš„æƒ°æ€§ï¼Œæ‰èƒ½æŒ‡å®šæ›´ç°å®çš„è®¡åˆ’ã€‚æ•´ä¸ªè¿‡ç¨‹æœ€éš¾çš„æ˜¯å¼€å§‹ï¼Œå’Œéš”ä¸€æ®µæ—¶é—´åé‡æ–°æ¡èµ·ã€‚è¿ç»­çš„å»å’Œä¸å»éƒ½å¾ˆå®¹æ˜“å¸¦å‡ºæƒ¯æ€§ã€‚æœ€å¥½çš„å¥èº«æˆ¿ä¸æ˜¯å™¨æ¢°å¥½æš–å’Œå¯ä»¥æ´—æ¾¡ï¼Œè€Œæ˜¯äººå°‘ã€‚ç“¶é¢ˆå¾ˆå¿«ä¼šæ¥ï¼ŒçŸ­æœŸå†…åŠªåŠ›åŸºæœ¬çœ‹ä¸åˆ°æ•ˆæœã€‚æ‰¿è®¤æ…¢åŠŸå¤«ï¼Œè®©æ—¶é—´æ£€éªŒã€‚é¥®é£Ÿå¯ä»¥æ§åˆ¶ï¼Œä½†æ‹’ç»é˜¶æ®µæ€§é¥®é£Ÿæ”¹å˜ï¼Œè¦æ‰¾åˆ°é•¿æœŸå¯ä¾èµ–çš„é¥®é£Ÿæ–¹å¼ã€‚è‚Œè‚‰æœ‰ä¸ªè§‰é†’çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸€å®šç§¯ç´¯æ‰èƒ½æ‰¾åˆ°æ­£ç¡®çš„å‘åŠ›ã€‚æœ€ç¾å¥½çš„ä¸€å¤©æ€»åœ¨ä¸ç»æ„é—´å‡ºç°ï¼Œæ é“ƒå¤šåŠ ä¸¤ç‰‡é‡é‡ï¼Œç†¬å‡ºå˜åŒ–ä¾¿ä¸å†ç—›è‹¦ã€‚æˆ‘åˆšåˆšèµ°åˆ°è¿™ä¸€æ­¥ï¼Œå¥èº«æˆ¿ä»Šå¤©å¼€å§‹å…³é—¨äº†ï¼Œä¸€ä¸ªç¤¼æ‹œåæ‰å¼€ï¼Œéº»ç—¹ã€‚</li>
  <li>æ—©ç¡æ—©èµ·ã€‚ä»å¤§å­¦å¼€å§‹åˆ°ä¸Šç­ä¸‰å¹´ï¼Œä½œæ¯åŸºæœ¬ä¿æŒåœ¨å‡Œæ™¨ä¸¤ç‚¹åˆ°æ—©ä¸Šåç‚¹ã€‚å›å®¶åå°†ç›®æ ‡å®šåœ¨ä¸€ç‚¹å‰ç¡ï¼Œåæ¥é€æ­¥è°ƒæ•´ä¸ºåäºŒç‚¹åŠï¼Œå—¯ï¼Œä¼Ÿå¤§çš„ä¸€å°æ­¥ã€‚æ…¢æ…¢å‘ç°ï¼Œå› ä¸ºæ™šç¡å¯ä»¥æ™šèµ·ï¼ŒæŸç§ç¨‹åº¦ä¾¿å¤±å»æ—©ç¡çš„åŠ¨åŠ›ã€‚æ‰€ä»¥ï¼Œæœ€è¿‘ä¸€ä¸ªå¤šæœˆå·²å°†èµ·åºŠæ—¶é—´é”æ­»åœ¨å…«ç‚¹ã€‚è¦è®©è‡ªå·±æ‰¿æ‹…æ™šç¡çš„åæœï¼Œæƒ³åˆ°ç¬¬äºŒå¤©èµ·æ¥åç¥æƒ…ç–²æƒ«ã€ç¡çœ¼æƒºå¿ªï¼Œé‚£åä¸€ç‚¹åŠå°±å¿…é¡»ç»“æŸå·¥ä½œï¼ŒåäºŒç‚¹çœ‹äº†ä¸€åŠçš„ç¾å‰§ä¹Ÿå¿…é¡»å…³æ‰ï¼ŒåäºŒç‚¹åŠåªèƒ½åœæ­¢åˆ·æ‰‹æœºã€‚åœ¨ç¡å‰äº«å—ç–²æƒ«ã€çŠ’åŠ³è‡ªå·±æ˜¯ä¸€å¤©çš„ç¾å¥½æ—¶å…‰ï¼Œæ®‹å¿åœ°ç»“æŸè¿™ä¸€åˆ‡æ‰æ˜¯æœ€éš¾çš„ã€‚é€æ­¥ï¼Œæˆ‘å·²ç»æŠŠæ¯å¤©çš„é«˜æ•ˆæ—¶é—´æŒªåˆ°äº†ä¸Šåˆï¼Œåˆ¶å®šä¸€å¤©è®¡åˆ’ï¼Œæ€è€ƒç›¸å¯¹å›°éš¾çš„é—®é¢˜ï¼Œå‰©ä¸‹çš„åªæ˜¯å»åšå°±å¥½ã€‚</li>
</ul>

<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨äº†ä¸€äº› App ä½œä¸ºè¾…åŠ©ï¼Œåœ¨æ­¤æ¨èï¼š</p>

<ol>
  <li>Day One - æ—¥è®°ï¼Œç¨å¾®æœ‰ç‚¹è´µã€‚å¼€å§‹æ—¶å€™åœ¨å“ªå†™æ ¹æœ¬ä¸é‡è¦ï¼Œåªæœ‰å½“ç¡®å®šè‡ªå·±ä¼šä¸€ç›´è¿™ä¹ˆè®°ä¸‹å»åï¼Œè¿™ä¸ª App æ‰æ˜¯å€¼å¾—çš„ã€‚</li>
  <li>Productive - ç­¾åˆ°ï¼Œä¹ æƒ¯å…»æˆï¼Œç»Ÿè®¡å®Œæˆåº¦</li>
  <li>Sleep Better - è¿½è¸ªç¡çœ è´¨é‡</li>
</ol>

<h3 id="section-3">å°¾å£°</h3>

<p>æˆ‘ä¸ç¡®å®šè¿™åŠå¹´çš„ä¼‘å‡æ—¶é—´æ˜¯å¦å€¼å¾—ï¼Œè¶³å¤Ÿæœ‰æ„ä¹‰ã€‚å¯èƒ½é”™è¿‡äº†ä¸€äº›å¥½çš„å·¥ä½œæœºä¼šï¼Œæˆ‘ä¹Ÿæ‡Šæ‚”è‡ªå·±æ²¡èƒ½çœ‹è¶³å¤Ÿçš„ä¹¦ç±è®©è‡ªå·±çš„æŠ€æœ¯æœ‰æ‰€é•¿è¿›ï¼Œä¸€äº›é¢„å®šè®¡åˆ’ä¹Ÿåœ¨å˜åŒ–ä¸­æ²¡èƒ½å®ç°ã€‚ä½†ä¸ç®¡æ€æ ·ï¼Œæˆ‘ç¡®ä¿¡è‡ªå·±æ˜¯åœ¨åŠªåŠ›è®©è¿™ä¸ªè¿‡ç¨‹å˜å¾—å€¼å¾—ï¼Œæœ‰æ„ä¹‰ã€‚å¯¹äºè¿‡å¾€çš„å‘ç”Ÿï¼Œæˆ‘æ²¡åŠæ³•æ”¹å˜ï¼Œåªèƒ½æŠ±ç€ç§¯æçš„å¿ƒæ€ï¼Œç”¨å¿ƒæ€»ç»“ï¼Œç„¶åé¢å¯¹ï¼Œæƒ³æ–¹è®¾æ³•æŠŠä¹‹ååšå¥½ã€‚è¿‡å¹´çš„æ—¶é—´æ˜¯ä¸€æ®µç»ˆç»“ï¼ŒGithub çš„ Streak ä¹Ÿåœ¨ä»Šå¤©æ–­æ‰ï¼Œæˆ‘è¦ä¹äºæ¥å—è¿™æ®µç©ºç™½çš„ä¼‘æ¯ã€‚ä¹‹åæ€æ ·æˆ‘è¿˜åœ¨æ€è€ƒï¼Œä½†ä¸æ–­åŠªåŠ›ï¼Œä¸æ–­æ”¹è¿›ï¼Œè®©è‡ªå·±å˜å¥½æ‰æ˜¯æœ€ç»ˆçš„å¸Œæœ›ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] Concurrency - Operating Systems Three Easy Pieces]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2015/12/26/review-concurrency-operating-systems-three-easy-pieces/"/>
    <updated>2015-12-26T11:33:57+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2015/12/26/review-concurrency-operating-systems-three-easy-pieces</id>
    <content type="html"><![CDATA[<table class="custom">
  <tbody>
    <tr>
      <td><strong>Book</strong></td>
      <td>Operating Systems: Three Easy Pieces</td>
    </tr>
    <tr>
      <td><strong>Author</strong></td>
      <td><a href="http://www.cs.wisc.edu/~remzi">Remzi H. Arpaci-Dusseau</a> and <a href="http://www.cs.wisc.edu/~dusseau">Andrea C. Arpaci-Dusseau</a></td>
    </tr>
    <tr>
      <td><strong>Link</strong></td>
      <td><a href="http://pages.cs.wisc.edu/~remzi/OSTEP/">pages.cs.wisc.edu/~remzi/OSTEP</a></td>
    </tr>
  </tbody>
</table>

<ul id="markdown-toc">
  <li><a href="#concurrency">Concurrency</a>    <ul>
      <li><a href="#chapter-26---introduction">Chapter 26 - Introduction</a></li>
      <li><a href="#chapter-27---interlude-thread-api">Chapter 27 - Interlude: Thread API</a></li>
      <li><a href="#chapter-28---locks">Chapter 28 - Locks</a></li>
      <li><a href="#chapter-29---lock-based-concurrent-data-structures">Chapter 29 - Lock-based Concurrent Data Structures</a></li>
      <li><a href="#chapter-30---condition-variables">Chapter 30 - Condition Variables</a></li>
      <li><a href="#chapter-31---semaphores">Chapter 31 - Semaphores</a></li>
      <li><a href="#chapter-32---common-concurrency-problems">Chapter 32 - Common Concurrency Problems</a></li>
      <li><a href="#chapter-33---event-based-concurrency-advanced">Chapter 33 - Event-based Concurrency (Advanced)</a></li>
    </ul>
  </li>
</ul>

<h1 id="concurrency">Concurrency</h1>

<h2 id="chapter-26---introduction">Chapter 26 - Introduction</h2>

<p><strong>Background</strong></p>

<p>With time sharing, we can take a single physical CPU and turn it into multiple virtual CPUs, thus enabling the illusion of multiple programs running at the same time, through time sharing.</p>

<p>With paging (base and bounds, segmentation), we can create the illusion of a large, private virtual memory for each process; this abstraction of the address space enables each program to behave as if it has its own memory when indeed the OS is secretly multiplexing address spaces across physical memory (and sometimes, disk).</p>

<p>But the abstraction of running program we use along is the process, and itâ€™s a classic view of a single point of execution within a program. Now we introduce a new abstraction, thread. And  a <strong>multi-threaded</strong> program has more than one point of execution.</p>

<p>Perhaps another way to think of this is that each thread is very much like a separate process, except for one difference: they share the same address space and thus ca access the same data.</p>

<p><strong>Thread vs. Process</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-thread_vs_process.png" alt="os-thread_vs_process.png" /></p>

<p>Address space</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-thread_address_space.png" alt="os-thread_address_space.png" /></p>

<p><strong>Advantage</strong></p>

<p>Efficiency, as they share the same address space.</p>

<ul>
  <li>Save storage</li>
  <li>Easy context switching (no need to change page)</li>
</ul>

<p><strong>Issues</strong></p>

<ul>
  <li><strong>Sharing data</strong>, that of accessing shared variables and the need to support atomicity for critical sections.</li>
  <li><strong>Waiting for another</strong>, sleeping and waking interaction, where one thread must wait for another to complete some action before it continues.</li>
</ul>

<p><strong>Shared Data</strong></p>

<p>The heart of the problem is <strong>uncontrolled scheduling</strong>.</p>

<p>It is a wonderful and hard problem, and should make your mind hurt (a bit). If it doesnâ€™t, then you donâ€™t understand! Keep working until your head hurts; you then know youâ€™re headed in the right directinn.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-thread_sharing_data.png" alt="os-thread_sharing_data.png" /></p>

<p><strong>Key Concurrency Terms</strong> (from Edsger Dijkstra)</p>

<p>A <strong>critical section</strong> is a piece of code that accesses a shared resource, usually a variable or data structure.</p>

<p>A <strong>race condition</strong> arises if multiple threads of execution enter the critical section at roughly the same time; both attempt to update the shared data structure, leading to a surprising (and perhaps un- desirable) outcome. The results depend on the timing execution of the code.</p>

<p>An <strong>indeterminate</strong> program consists of one or more races onditions; the output of the program varies from run to run, depending on which threads ran when. The outcome is thus not deterministic, something we usually expect from computer systems.</p>

<p>To avoid these problems, threads should use some kind of <strong>mutual exclusion primitives</strong>; doing so guarantees that only a single thread ever enters a critical section, thus avoiding racoes, and resulting in deterministic program outputs.</p>

<p><strong>Atomic</strong></p>

<p>Atomic operations are one of the most powerful underlying techniques in building computer systems.</p>

<p>The idea behind making a series of actions <strong>atomic</strong> is simply expressed with the phrase â€œall or nothingâ€; it should either appear as if all of the actions you wish to group together occurred, or that none of them occurred, with no in-between state visible. Sometimes, the grouping of many actions into a single atomic action is called a <strong>transaction</strong>.</p>

<p>In our theme of exploring concurrency, weâ€™ll be using synchronization primitives to turn short sequences of instructions into atomic blocks of execution.</p>

<p><strong>The Wish For Atomicity</strong></p>

<p>Hardware guarantees the instructions is atomic, and provide a general set we call <strong>synchronisation primitives</strong> to ensure atomicity.</p>

<p>Hardware guarantees that the instructions execute atomically. It could not be interrupted mid-instruction, because that is precisely the guarantee we receive from the hardware: when an interrupt occurs, either the instruction has not run at all, or it has run to completion; there is no in-between state.</p>

<p>But, would we really want the hardware to support an â€œatomic update of B-treeâ€ instruction?</p>

<p>No. Thus, what we will instead do is ask the hardware for a few useful instructions upon which we can build a general set of what we call <strong>synchronization primitives</strong>. By using these hardware synchronization primitives, in combination with some help from the operating system, we will be able to build multi-threaded code that accesses critical sections in a synchronized and controlled manner, and thus reliably produces the correct result despite the challenging nature of concurrent execution.</p>

<p><strong>Why in OS Class?</strong></p>

<p>â€œHistoryâ€ is the one-word answer; the OS was the first concurrent program, and many techniques were created for use within the OS. Later, with multi-threaded processes, application programmers also had to consider such things.</p>

<p>OS designers, from the very beginning of the introduction of the interrupt, had to worry about how the OS updates internal structures. Not surprisingly, page tables, process lists, file system structures, and virtually every kernel data structure has to be carefully accessed, with the proper synchronization primitives, to work correctly.</p>

<h2 id="chapter-27---interlude-thread-api">Chapter 27 - Interlude: Thread API</h2>

<p><strong>Guidelines</strong></p>

<p>There are a number of small but important things to remember when you use the POSIX thread library.</p>

<ul>
  <li><strong>Keep it simple</strong>. Above all else, any code to lock or signal between threads should be as simple as possible. Tricky thread interactions lead to bugs.</li>
  <li>Minimize thread interactions. Try to keep the number of ways in which threads interact to a minimum.</li>
  <li><strong>Each thread has its own stack</strong>. If you have a locally-allocated variable inside of some function a thread is exe- cuting, it is essentially private to that thread; no other thread can (easily) access it. To share data between threads, the values must be in the heap or otherwise some locale that is globally accessible.</li>
  <li><strong>Be careful with how you pass arguments to, and return values from, threads.</strong> In particular, any time you are passing a reference to a variable allocated on the stack, you are probably doing something wrong.</li>
  <li><strong>Check your return codes.</strong> Of course, in any C and UNIX program- ming you do, you should be checking each and every return code, and itâ€™s true here as well.</li>
  <li><strong>Always use condition variables to signal between threads.</strong> While it is often tempting to use a simple flag, donâ€™t do it.</li>
  <li><strong>Initialize locks and condition variables.</strong> Failure to do so will lead to code that sometimes works and sometimes fails in very strange ways.</li>
  <li><strong>Use the manual pages.</strong> On Linux, in particular, the pthread man pages (man -k pthread) are highly informative and discuss much of the nuances pre- sented here, often in even more detail.</li>
</ul>

<p><strong>Thread Creation</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="cp">#include &lt;pthread.h&gt;</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">pthread_create</span><span class="p">(</span><span class="n">pthread_t</span> <span class="o">*</span> <span class="kr">thread</span><span class="p">,</span>
</span><span class="line">                     <span class="k">const</span> <span class="n">pthread_attr_t</span> <span class="o">*</span>  <span class="n">attr</span><span class="p">,</span>
</span><span class="line">                     <span class="kt">void</span> <span class="o">*</span> <span class="p">(</span><span class="o">*</span><span class="n">start_routine</span><span class="p">)(</span><span class="kt">void</span><span class="o">*</span><span class="p">),</span>
</span><span class="line">                     <span class="kt">void</span> <span class="o">*</span>  <span class="n">arg</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li><code>thread</code>, is a pointer to a structure of type pthread t; weâ€™ll use this structure to interact with this thread</li>
  <li><code>attr</code>, is used to specify any attributes this thread might have. Some examples include setting the stack size or perhaps in- formation about the scheduling priority of the thread.</li>
  <li>The third argument is the most complex, but is really just asking: which function should this thread start running in? In C, we call this a function pointer, and this one tells us the following is expected: a function name (<code>start routine</code>), which is passed a single argument of type void * (as indicated in the parentheses after start routine), and which returns a value of type void * (i.e., a void pointer).</li>
  <li><code>arg</code>, is exactly the argument to be passed to the function where the thread begins execution.</li>
</ul>

<p><strong><em>Why do we need these void pointers?</em></strong></p>

<p>Having a void pointer as an argument to the function start routine allows us to pass in any type of argument; having it as a return value allows the thread to return any type of result.</p>

<p><strong>Thread Completion</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="kt">int</span> <span class="nf">pthread_join</span><span class="p">(</span><span class="n">pthread_t</span> <span class="kr">thread</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">value_ptr</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ul>
  <li><code>thread</code> is used to specify which thread to wait for</li>
  <li><code>value_ptr</code> is a pointer to the return value you expect to get back. Because the routine can return anything, it is defined to return a pointer to void; because the pthread join() routine changes the value of the passed in argument, you need to pass in a pointer to that value, not just the value itself.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-thread_waiting_demo.png" alt="os-thread_waiting_demo.png" /></p>

<p>Note that one has to be extremely careful with how values are returned from a thread. In particular, never return a pointer which refers to something allocated on the threadâ€™s call stack.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-thread_waiting_demo_wrong.png" alt="os-thread_waiting_demo_wrong.png" /></p>

<p>However, when it returns, the value is automatically deallocated (thatâ€™s why the stack is so easy to use, after all!), and thus, passing back a pointer to a now deallocated variable will lead to all sorts of bad results.</p>

<p>Not all code that is multi-threaded uses the join routine. For example, a multi-threaded web server might create a number of worker threads, and then use the main thread to accept requests and pass them to the workers, indefinitely. Such long-lived programs thus may not need to join.</p>

<p><strong>Locks</strong></p>

<p>Providing mutual exclusion to a critical section via locks.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="kt">int</span> <span class="nf">pthread_mutex_lock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">pthread_mutex_unlock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When you have a region of code you realize is a critical section, and thus needs to be pro- tected by locks in order to operate as desired.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="n">pthread_mutex_t</span> <span class="n">lock</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">Pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="n">Pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// or whatever your critical section is</span>
</span><span class="line"><span class="n">Pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">olock</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Always check for failure</span>
</span><span class="line"><span class="kt">void</span> <span class="nf">Pthread_mutex_init</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span> <span class="c1">// dynamic initialisation, or PTHREAD_MUTEX_INITIALIZER</span>
</span><span class="line">    <span class="n">assert</span><span class="p">(</span><span class="n">rc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// always check success!</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="kt">void</span> <span class="nf">Pthread_mutex_lock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
</span><span class="line">    <span class="n">assert</span><span class="p">(</span><span class="n">rc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="kt">void</span> <span class="nf">Pthread_mutex_unlock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
</span><span class="line">    <span class="n">assert</span><span class="p">(</span><span class="n">rc</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Condition Variables</strong></p>

<p>Condition variables are useful when some kind of signaling must take place between threads, if one thread is waiting for another to do something before it can continue.</p>

<p>To use a condition variable, one has to in addition have a lock that is associated with this condition. When calling either of the above routines, this lock should be held.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="kt">int</span> <span class="nf">pthread_cond_wait</span><span class="p">(</span><span class="n">pthread_cond_t</span> <span class="o">*</span><span class="n">cond</span><span class="p">,</span> <span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">pthread_cond_signal</span><span class="p">(</span><span class="n">pthread_cond_t</span> <span class="o">*</span><span class="n">cond</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>pthread_cond_wait(), puts the calling thread to sleep, ad thus waits for some other thread to signal it, usually when something in the program has changed that the now-sleeping thread might care about.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="n">pthread_mutex_t</span> <span class="n">lock</span> <span class="o">=</span> <span class="n">PTHREAD_MUTEX_INITIALIZER</span><span class="p">;</span>
</span><span class="line"><span class="n">pthread_cond_t</span>  <span class="n">cond</span> <span class="o">=</span> <span class="n">PTHREAD_COND_INITIALIZER</span><span class="p">;</span>
</span><span class="line"><span class="n">Pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span><span class="line"><span class="k">while</span> <span class="p">(</span><span class="n">ready</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="line">    <span class="n">Pthread_cond_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cond</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span><span class="line"><span class="n">Pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>After initialization of the relevant lock and condition, a thread checks to see if the variable ready has yet been set to something other than zero. If not, the thread simply calls the wait routine in order to sleep until some other thread wakes it.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="n">Pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span><span class="line"><span class="n">ready</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class="line"><span class="n">Pthread_cond_signal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cond</span><span class="p">);</span>
</span><span class="line"><span class="n">Pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Notice 1</p>

<p>When signaling (as well as when modifying the global variable ready), we always make sure to have the lock held. This ensures that we donâ€™t accidentally introduce a race condition into our code.</p>

<p>Notice 2</p>

<p>Notice that the wait call takes a lock as its second parameter, whereas the signal call only takes a condition. The reason for this difference is that the wait call, in addition to putting the calling thread to sleep, releases the lock when putting said caller to sleep.</p>

<p>Imagine if it did not: how could the other thread acquire the lock and signal it to wake up? However, before returning after being woken, the pthread_cond_wait() re-acquires the lock, thus ensuring that any time the waiting thread is running between the lock acquire at the beginning of the wait sequence, and the lock release at the end, it holds the lock.</p>

<p>Notice 3</p>

<p>The waiting thread re-checks the condition in a while loop, instead of a simple if statement. Although it rechecks the condition (perhaps adding a little overhead), there are some pthread implementations that could spuriously wake up a waiting thread; in such a case, without rechecking, the waiting thread will continue thinking that the condition has changed even though it has not.</p>

<p>Notice 4</p>

<p>Donâ€™t ever use these ad hoc synchronisations.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="c1">// waitingnwhile (ready == 0)</span>
</span><span class="line">    <span class="p">;</span> <span class="c1">// spin</span>
</span><span class="line">
</span><span class="line"><span class="c1">// signaling</span>
</span><span class="line"><span class="n">ready</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>First, it performs poorly in many cases (spinning for a long time just wastes CPU cycles). Second, it is error prone.</p>

<p><strong>Others</strong></p>

<p>On the link line, you must also explicitly link with the pthreads library, by adding the -pthread flag.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line">prompt&gt; gcc -o main main.c -Wall -pthread
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="chapter-28---locks">Chapter 28 - Locks</h2>

<p><strong>The Basic Idea</strong></p>

<p>Programmers annotate source code with locks, putting them around critical sections, and thus ensure that any such critical section executes as if it were a single atomic instruction.</p>

<p>This lock variable (or just â€œlockâ€ for short) holds the state of the lock at any instant in time. It is either available (or unlocked or free) and thus no thread holds the lock, or acquired (or locked or held), and thus exactly one thread holds the lock and presumably is in a critical section.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_demo.png" alt="os-lock_demo.png" /></p>

<p>In general, we view thre
ads as entities created by the programmer but scheduled by the OS, in any fashion that the OS chooses. Locks yield some of that control back to the programmer; by putting a lock around a section of code, the programmer can guarantee that no more than a single thread can ever be active within that code.</p>

<p>The name that the <strong>POSIX</strong> library uses for a lock is a <strong>mutex</strong>, as it is used to provide <strong>mutual exclusion</strong> between threads.</p>

<p><strong>Building A Lock</strong></p>

<p>Some hardware support (in the form of a more powerful instruction) plus some operating system support (e.g., in the form of park() and unpark() primitives on Solaris, or futex on Linux).</p>

<p><strong>Evaluating Locks</strong></p>

<ul>
  <li>The first is whether the lock does its basic task, which is to provide <strong>mutual exclusion</strong>. Basically, does the lock work, preventing multiple threads from entering a critical section?</li>
  <li>The second is <strong>fairness</strong>. Does each thread contending for the lock get a fair shot at acquiring it once it is free?</li>
  <li>The final criterion is <strong>performance</strong>, specifically the time overheads added by using the lock.</li>
</ul>

<p><strong>Controlling Interrupts</strong></p>

<p>Turning off interrupts is only used in limited contexts as a mutual-exclusion primitive. For example, in some cases an operating system itself will use interrupt masking to guarantee atomicity when accessing its own data structures, or at least to prevent certain messy interrupt handling situations from arising. This usage makes sense, as the trust issue disappears inside the OS, which always trusts itself to perform privileged operations anyhow.</p>

<p><strong>Plain Solution</strong></p>

<p>Without hardware support, just use a flag.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_plain_solution.png" alt="os-lock_plain_solution.png" /></p>

<p>The core issue is that the testing and setting part can be interrupted by context switch, and both thread enters the critical section.</p>

<p>You should get used to this thinking about concurrent programming. Maybe pretend yourself as a <strong>malicious scheduler</strong> to understand the concurrent execution.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_no_mutal_exclusion.png" alt="os-lock_no_mutal_exclusion.png" /></p>

<p><strong>Test And Set (Atomic Exchange)</strong></p>

<p>Let hardware provides a transaction-like instrument to ensure the sequence of operations is performed <strong>atomically</strong>.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_test_and_set.png" alt="os-lock_test_and_set.png" /></p>

<p>The key, of course, is that this sequence of operations is performed atomically. The reason it is called â€œtest and setâ€ is that it enables you to â€œtestâ€ the old value (which is what is returned) while simultaneously â€œsettingâ€ the memory location to a new value; as it turns out, this slightly more powerful instruction is enough to build a simple spin lock</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_spin_lock_by_test_and_set.png" alt="os-lock_spin_lock_by_test_and_set.png" /></p>

<p>By making both the test (of the old lock value) and set (of the new value) a single atomic operation, we ensure that only one thread acquires the lock.</p>

<p><strong>Compare-And-Swap</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_compare_and_swap.png" alt="os-lock_compare_and_swap.png" />
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_spin_lock_by_compare_and_swap.png" alt="os-lock_spin_lock_by_compare_and_swap.png" /></p>

<p>compare-and-swap is a more powerful instruction than test-and-set. We will make some use of this power in the future when we briefly delve into <strong>wait-free synchronisation</strong>.</p>

<p><strong>Load-Linked and Store-Conditional</strong></p>

<p>Some platforms provide a pair of instructions that work in concert to help build critical sections. On the MIPS architecture, for example, the load-linked and store-conditional instructions can be used in tandem to build locks and other concurrent structures.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_load_linked_store_conditional.png" alt="os-lock_load_linked_store_conditional.png" />
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_spin_lock_by_load_linked_store_conditional.png" alt="os-lock_spin_lock_by_load_linked_store_conditional.png" /></p>

<p><strong>Fetch-And-Add</strong></p>

<p>Fetch-and-add atomically increments a value while returning the old value at a particular address.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_fetch_and_add.png" alt="os-lock_fetch_and_add.png" /></p>

<p>Fetch-and-add could build a <em>ticket lock</em>, this solution uses a ticket and turn variable in combination to build a lock. The basic operation is pretty simple: when a thread wishes to acquire a lock, it first does an atomic fetch-and-add on the ticket value; that value is now considered this threadâ€™s â€œturnâ€ (myturn). The globally shared lock-&gt;turn is then used to determine which threadâ€™s turn it is; when (myturn == turn) for a given thread, it is that threadâ€™s turn to enter the critical section. It has the advantage of the fairness, ensures progress for all threads. Once a thread is assigned its ticket value, it will be scheduled at some point in the future</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_ticket_lock_by_fetch_and_add.png" alt="os-lock_ticket_lock_by_fetch_and_add.png" /></p>

<p><strong>Spin Lock</strong></p>

<p>We use a while loop to endlessly check the value of a flag, this technique is known as <strong>spin-waiting</strong>. Spin-waiting wastes time waiting for another thread to release a lock. The waste is exceptionally high on a uniprocessor, where the thread that the waiter is waiting for cannot even run (at least, until a context switch occurs)!</p>

<p><strong>Spin lock</strong> is the simplest type of lock to build, and simply spins, using CPU cycles, until the lock becomes available. To work correctly on a single processor, it requires a <strong>preemptive scheduler</strong>. (Remember that SJF is non-preemptive, but STCF is preemptive, which means permitting one thread to be interrupted).</p>

<p>Evaluating</p>

<ul>
  <li>âˆš correctness, the spin lock only allows a single thread to enter the critical section at a time.</li>
  <li>X fairness, spin locks donâ€™t provide any fairness guarantees. Indeed, a thread spinning may spin forever, under contention. Spin locks are not fair and may lead to starvation.</li>
  <li>X performance, bad in the single CPU case. The problem gets worse with N threads contending for a lock; N âˆ’ 1 time slices may be wasted in a similar manner, simply spinning and waiting for a single thread to release the lock.</li>
</ul>

<p><strong>Avoid Spinning by Yield</strong></p>

<blockquote>
  <p>â€œjust yield, baby!â€</p>
</blockquote>

<p>Hardware support alone cannot solve the problem. Weâ€™ll need OS support too! Assume an operating system primitive <strong>yield()</strong> which a thread can call when it wants to give up the CPU and let another thread run. A thread can be in one of three states (running, ready, or blocked); yield is simply a system call that moves the caller from the <strong>running</strong> state to the <strong>ready</strong> state, and thus promotes another thread to running. Thus, the yielding process essentially <strong>deschedules</strong> itself.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_with_test_and_set_and_yield.png" alt="os-lock_with_test_and_set_and_yield.png" /></p>

<p>This approach eliminates the spinning time, but still costly when context switching. And we have not tackled the starvation problem at all. A thread may get caught in an endless yield loop while other threads repeatedly enter and exit the critical section.</p>

<p><strong>Avoid Spnning by Queues</strong></p>

<p>The scheduler determines which thread runs next; if the scheduler makes a bad choice, a thread runs that must either spin waiting for the lock (our first approach), or yield the CPU immediately (our second approach). Either way, there is potential for waste and no prevention of starvation.</p>

<p>Thus, we must explicitly exert some control over who gets to acquire the lock next after the current holder releases it.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_with_test_and_set_and_yield_and_queue.png" alt="os-lock_with_test_and_set_and_yield_and_queue.png" /></p>

<p>This approach thus doesnâ€™t avoid spin-waiting entirely; a thread might be interrupted while acquiring or releasing the lock, and thus cause other threads to spin-wait for this one to run again. However, the time spent spinning is quite limited (just a few instructions inside the lock and unlock code, instead of the user-defined critical section), and thus this approach may be reasonable.</p>

<p>With just the wrong timing, a thread will be about to park, assuming that it should sleep until the lock is no longer held. A switch at that time to another thread (say, a thread holding the lock) could lead to trouble, for example, if that thread then released the lock. The subsequent park by the first thread would then sleep forever (potentially). This problem is sometimes called the <strong>wakeup/waiting race</strong>.</p>

<p>Solaris solves this problem by adding a third system call: <strong>setpark()</strong>. By calling this routine, a thread can indicate it is about to park. If it then happens t be interrupted and another thread calls unpark before park is actually called, the subsequent park returns immediately instead of sleeping.</p>

<p>You might also notice the interesting fact that the flag does not get set back to 0 when another thread gets woken up. Why is this? Well, it is not an error, but rather a necessity! When a thread is woken up, it will be as if it is returning from park(); however, it does not hold the guard at that point in the code and thus cannot even try to set the flag to 1. Thus, we just pass the lock directly from the thread releasing the lock to the next thread acquiring it; flag is not set to 0 in-between.</p>

<p><strong>Linux Support</strong></p>

<p>Linux provides something called a <strong>futex</strong> which is similar to the Solaris interface but provides a bit more in-kernel functionality. Specifically, each futex has associated with it a specific physical memory location; associated with each such memory location is an in-kernel queue.</p>

<ul>
  <li><code>futex_wait(address, expected)</code> puts the calling thread to sleep, assouming the value at address is equal to expected. If it is not equal, the call returns immediately.</li>
  <li><code>futex_wake(address)</code> wakes one thread that is wait- ing on the queue.</li>
</ul>

<p>Linux approach has the flavor of an old approach that has been used on and off for years, , and is now referred to as a <strong>two-phase lock</strong>. A two-phase lock realizes that spinning can be useful, particularly if the lock is about to be released. So in the first phase, the lock spins for a while, hoping that it can acquire the lock. However, if the lock is not acquired during the first spin phase, a second phase is entered, where the caller is put to sleep, and only woken up when the lock becomes free later.</p>

<h2 id="chapter-29---lock-based-concurrent-data-structures">Chapter 29 - Lock-based Concurrent Data Structures</h2>

<p><strong>Background</strong></p>

<p>Adding locks to a data structure to make it usable by threads makes the structure <strong>thread safe</strong>. There is always a standard method to make a concurrent data structure: add a big lock. But sometimes we need to ensure the scalability.</p>

<p>To evaluate the concurrent data structures, theres are two factors to concern:</p>

<ul>
  <li>Correctness</li>
  <li>Performance. MORE CONCURRENCY ISNâ€™T NECESSARILY FASTER. If the scheme you design adds a lot of overhead (for example, by acquiring and releasing locks frequently, instead of once), the fact that it is more concurrent may not be important. Build both alternatives (simple but less concurrent, and complex but more concurrent) and measure how they do.</li>
</ul>

<p>Ideally, youâ€™d like to see the threads complete just as quickly on multiple processors as the single thread does on one. Achieving this end is called <strong>perfect scaling</strong>.</p>

<p><strong>Guidelines</strong></p>

<ul>
  <li>Be careful with acquisition and release of locks around control flow changes</li>
  <li>Enabling more concurrency does not necessarily increase performance</li>
  <li>Performance problems should only be remedied once they exist, avoiding premature optimization, is central to any performance-minded developer</li>
  <li>There is no value in making something faster if doing so will not improve the overall performance of the application.</li>
</ul>

<p><strong>Concurrent Counters</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_performance_concurrent_counters.png" alt="os-lock_performance_concurrent_counters.png" /></p>

<p>Traditional Counter</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_traditional_counter.png" alt="os-lock_traditional_counter.png" /></p>

<p>In this manner, it is similar to a data structure built with <strong>monitors</strong>, where locks are acquired and released automatically as you call and return from object methods.</p>

<p>The performance of the synchronized counter scales poorly.</p>

<p>Sloppy Counter</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_sloppy_counter.png" alt="os-lock_sloppy_counter.png" /></p>

<p>The sloppy counter works by representing a single logical counter via numerous local physical counters, one per CPU core, as well as a single global counter.
When a thread running on a given core wishes to increment the counter, it increments its local counter; access to this local counter is synchronized via the corresponding local lock.
How often this local-to-global transfer occurs is determined by a threshold, which we call S here (for sloppiness). The smaller S is, the more the counter behaves like the non-scalable counter above; the bigger S is, the more scalable the counter, but the further off the global value might be from the actual count.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_sloppy_counter_scaling.png" alt="os-lock_sloppy_counter_scaling.png" /></p>

<p><strong>Concurrent Linked Lists</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_concurrent_link_list.png" alt="os-lock_concurrent_link_list.png" /></p>

<p>One small tricky issue arises if malloc() happens to fail (a rare case); in this case, the code must also release the lock before failing the insert. This kind of exceptional control flow has been shown to be quite error prone; a recent study of Linux kernel patches found that a huge fraction of bugs (nearly 40%) are found on such rarely-taken code paths.</p>

<p>BE WARY OF LOCKS AND CONTROL FLOW</p>

<p>Many functions will begin by acquiring a lock, allocating some memory, or doing other similar stateful operations, when errors arise, the code has to undo all of the state before returning, which is error-prone. Thus, it is best to structure code to minimize this pattern.</p>

<p>Specifically, we can rearrange the code a bit so that the lock and release only surround the actual critical section in the insert code, and that a common exit path is used in the lookup code.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_concurrent_link_list_optimized.png" alt="os-lock_concurrent_link_list_optimized.png" /></p>

<p>Once again we are in a situation where it does not scale particularly well. One technique that researchers have explored to enable more concurrency within a list is something called <strong>hand-over-hand locking</strong> (a.k.a. <strong>lock coupling</strong>).</p>

<p>Instead of having a single lock for the entire list, you instead add a lock per node of the list. When traversing the list, the code first grabs the next nodeâ€™s lock and then releases the current nodeâ€™s lock.</p>

<p>It enables a high degree of concurrency in list operations. However, in practice, it is hard to make such a structure faster than the simple single lock approach, as the overheads of acquiring and releasing locks for each node of a list traversal is prohibitive. Perhaps some kind of hybrid (where you grab a new lock every so many nodes) would be worth investigating.</p>

<p><strong>Concurrent Queues</strong></p>

<p>Look at a slightly more concurrent queue designed by Michael and Scott.</p>

<p>There are two locks, one for the head of the queue, and one for the tail. The goal of these two locks is to enable concurrency of enqueue and dequeue operations. One trick used by the Michael and Scott is to add a dummy node (allocated in the queue initialization code); this dummy enables the separation of head and tail operations.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_concurrent_queue.png" alt="os-lock_concurrent_queue.png" /></p>

<p><strong>Concurrent Hash Table</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_concurrent_hash_table.png" alt="os-lock_concurrent_hash_table.png" /></p>

<p>This concurrent hash table is straightforward, is built using the concurrent lists we developed earlier, and works incredibly well. The reason for its good performance is that instead of having a single lock for the entire structure, it uses a lock per hash bucket.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-lock_scaling_hash_table.png" alt="os-lock_scaling_hash_table.png" /></p>

<p>AVOID PREMATURE OPTIMIZATION (KNUTHâ€™S LAW)</p>

<blockquote>
  <p>â€œPremature optimization is the root of all evil.â€</p>
</blockquote>

<p>Many operating systems utilized a single lock when first transitioning to multiprocessors, including Sun OS and Linux. In the latter, this lock even had a name, the <strong>big kernel lock (BKL)</strong>. When multi-CPU systems became the norm, only allowing a single active thread in the kernel at a time became a performance bottleneck. Thus, it was finally time to add the optimization of improved concurrency to these systems. Within Linux, the more straightforward approach was taken: replace one lock with many. Within Sun, a more radical decision was made: build a brand new operating system, known as Solaris, that incorporates concurrency more fundamentally from day one.</p>

<h2 id="chapter-30---condition-variables">Chapter 30 - Condition Variables</h2>

<p><strong>Background</strong></p>

<p>There are many cases where a thread wishes to check whether a condition is true before continuing its execution. For example, a parent thread might wish to check whether a child thread has completed before continuing (this is often called a <code>join()</code>).</p>

<p>In multi-threaded programs, it is often useful for a thread to wait for some conditio to become true before proceeding. The simple approach, of just spinning until the condition becomes true, is grossly inefficient and wastes CPU cycles, and in some cases, can be incorrect.</p>

<p><strong>Definition and Routines</strong></p>

<p>To wait for a condition to become true, a thread can make use of what is known as a condition variable. A <strong>condition variable</strong> is an explicit queue that threads can put themselves on when some state of execution (i.e., some condition) is not as desired (by <strong>waiting</strong> on the condition); some other thread, when it changes said state, can then wake one (or more) of those waiting threads and thus allow them to continue (by <strong>signaling</strong> on the condition).</p>

<p>By allowing threads to sleep when some program state is not as desired, CVs enable us to neatly solve a number of important synchronization problems, including the famous (and still important) producer/consumer problem, as well as covering conditions.</p>

<p>A condition variable has two operations associated with it: <strong>wait()</strong> and <strong>signal()</strong>.</p>

<ul>
  <li>The <strong>wait()</strong> call is executed when a thread wishes to put itself to sleep</li>
  <li>The <strong>signal()</strong> call is executed when a thread has changed something in the program and thus wants to wake a sleeping thread waiting on this condition.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_waiting_demo.png" alt="os-cv_waiting_demo.png" /></p>

<p><strong><em>Is the state variable <code>done</code> necessary?</em></strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_waiting_demo_2.png" alt="os-cv_waiting_demo_2.png" /></p>

<p>Yes. Imagine the case where the child runs immediately and calls thr exit() immediately; in this case, the child will signal, but there is no thread asleep on the condition. When the parent runs, it will simply call wait and be stuck; no thread will ever wake it. From this example, you should appreciate the importance of the state variable done; it records the value the threads are interested in knowing. The sleeping, waking, and locking all are built around it.</p>

<p><strong><em>Is there a need to hold the lock while singaling?</em></strong></p>

<p>Although it is strictly not necessary in all cases, it is likely simplest and best to hold the lock while signaling when using condition variables. The generalization of this tip is correct: hold the lock when calling signal or wait, and you will always be in good shape.</p>

<p><strong>Producer/Consumer (Bounded Buffer)</strong></p>

<p>The producer/consumer problem, or sometimes as the bounded buffer problem, which was first posed by Dijkstra. Indeed, it was this very producer/consumer problem that led Dijkstra and his co-workers to invent the generalized <strong>semaphore</strong> (which can be used as either a lock or a condition variable).</p>

<p>A bounded buffer is also used when you pipe the output of one program into another, e.g.,</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line">// grep process is the producer
</span><span class="line">// wc process is the consumer
</span><span class="line">// between them is an in-kernel bounded buffer
</span><span class="line">grep foo file.txt | wc -l
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Basic operations: <code>put()</code> and <code>get()</code></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_put_and_get_v1.png" alt="os-cv_put_and_get_v1.png" /></p>

<p><strong>Plain Solution</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_v1.png" alt="os-cv_producer_and_consumer_v1.png" /></p>

<p><strong>Single CV and If</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_single_cv_and_if.png" alt="os-cv_producer_and_consumer_single_cv_and_if.png" /></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_single_cv_and_if_trace.png" alt="os-cv_producer_and_consumer_single_cv_and_if_trace.png" /></p>

<p><strong>Single CV and While</strong></p>

<p>Signaling a thread only wakes them up; it is thus a hint that the state of the world has changed (in this case, that a value has been placed in the buffer), but there is no guarantee that when the woken thread runs, the state will still be as desired. This interpretation of what a signal means is often referred to as <strong>Mesa semantics</strong>, after the first research that built a condition variable in such a manner. Virtually every system ever built employs Mesa semantincs.</p>

<p>Thanks to Mesa semantics, a simple rule to remember with condition variables is to <strong>always use while loops</strong>.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_single_cv_and_while.png" alt="os-cv_producer_and_consumer_single_cv_and_while.png" /></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_single_cv_and_while_trace.png" alt="os-cv_producer_and_consumer_single_cv_and_while_trace.png" /></p>

<p><strong>Two CVs and While</strong></p>

<p>Signaling is clearly needed, but must be more directed. <strong>A consumer should not wake other consumers, only producers</strong>, and vice-versa.</p>

<p>Use two condition variables, instead of one, in order to properly signal which type of thread should wake up when the state of the system changes. Producer threads wait on the condition empty, and signals fill. Conversely, consumer threads wait on fill and signal empty.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_single_two_cv_and_while.png" alt="os-cv_producer_and_consumer_single_two_cv_and_while.png" /></p>

<p><strong>Final Solution</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_final_solution.png" alt="os-cv_producer_and_consumer_final_solution.png" /></p>

<p><strong>Covering Conditions</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-cv_producer_and_consumer_covering_conditions.png" alt="os-cv_producer_and_consumer_covering_conditions.png" /></p>

<p>Assume there are zero bytes free; thread Ta calls <code>allocate(100)</code>, followed by thread Tb which asks for less memory by calling <code>allocate(10)</code>. Both Ta and Tb thus wait on the condition and go to sleep; there arenâ€™t enough free bytes to satisfy either of these requests. At that point, assume a third thread, Tc, calls <code>free(50)</code>. Unfortunately, when it calls signal to wake a waiting thread, it might not wake the correct waiting thread, Tb, which is waiting for only 10 bytes to be freed; Ta should remain waiting, as not enough memory is yet free. Thus, the code in the figure does not work, as the thread waking other threads does not know which thread (or threads) to wake up.</p>

<p>The solution suggested by Lampson and Redell is straightforward: replace the <code>pthread_cond_signal()</code> call in the code above with a call to <code>pthread_cond_broadcast()</code>, which wakes up all waiting threads. Those threads will simply wake up, re-check the condition, and then go immediately back to sleep.</p>

<p>Lampson and Redell call such a condition a <strong>covering condition</strong>, as it covers all the cases where a thread needs to wake up (conservatively); the cost, is that too many threads might be woken.</p>

<p>In general, if you find that your program only works when you change your signals to broadcasts (but you donâ€™t think it should need to), you probably have a bug; fix it! But in cases like the memory allocator above, broadcast may be the most straightforward solution available.</p>

<h2 id="chapter-31---semaphores">Chapter 31 - Semaphores</h2>

<p><strong>Background</strong></p>

<p>As we know now, one needs both locks and condition variables to solve a broad range of relevant and interesting concurrency problems. One of the first people to realize this years ago was Edsger Dijkstra. Dijkstra and colleagues invented the semaphore as a single primitive for all things related to synchronization; as you will see, one can use semaphores as both locks and condition variables.</p>

<p><strong>Definition</strong></p>

<p>A semaphore is an object with an integer value that we can manipulate with two routines; in the POSIX standard, these routines are sem <code>wait()</code> and sem <code>post()</code>. The initial value of the semaphore determines its behaviour.</p>

<p>Semaphores are a powerful and flexible primitive for writing concurrent programs. Some programmers use them exclusively, shunning locks and condition variables, due to their simplicity and utility.</p>

<p>In my view, semaphore is an primitive, which can be made by locks and condition variables, also canâ€™t be used as locks and condition variables.</p>

<p>Initialization</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_init.png" alt="os-semaphore_init.png" /></p>

<p>Usage
<img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_definition.png" alt="os-semaphore_definition.png" /></p>

<ul>
  <li><code>sem_wait()</code> will either return right away (because the value of the semaphore was one or higher when we called <code>sem_wait()</code>), or it will cause the caller to suspend execution waiting for a subsequent post.</li>
  <li><code>sem_post()</code> does not wait for some particular condition to hold like <code>sem_wait()</code> does. Rather, it simply increments the value of the semaphore and then, if there is a thread waiting to be woken, wakes one of them up.</li>
  <li>The value of the semaphore, when negative, is equal to the number of waiting threads</li>
</ul>

<p><strong>Semaphores As Locks</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_as_locks.png" alt="os-semaphore_as_locks.png" /></p>

<p>Because locks only have two states (held and not held), this usage is sometimes known as a <strong>binary semaphore</strong>.</p>

<p><strong>Semaphores As Condition Variables</strong></p>

<p>Semaphores are also useful when a thread wants to halt its progress waiting for a
 condition to become true. In this pattern of usage, we often find a thread waiting for something to happen, and a different thread making that something happen and then signaling that it has happened, thus waking the waiting thread.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_as_cv.png" alt="os-semaphore_as_cv.png" /></p>

<p><strong>Producer/Consumer (Bounded Buffer)</strong></p>

<p>Plain Solution</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_producer_and_consumer_plain.png" alt="os-semaphore_producer_and_consumer_plain.png" /></p>

<p>The condition variable (semaphore based) controls the execution order, which can let multiple threads enter the critical section at the same time. It still needs a lock.</p>

<p>Adding Mutual Exclusion</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_producer_and_consumer_add_mutex.png" alt="os-semaphore_producer_and_consumer_add_mutex.png" /></p>

<p>The consumer holds the mutex and is waiting for the someone to signal full. The producer could si!gnal full but is waiting for the mutex. Thus, the producer and consumer are each stuck waiting for each other: a classic deadlock.</p>

<p>To avoid the deadlock, we can simply move the mutex acquire and release to be just around the critical section. The result is a simple and working bounded buffer, a commonly-used pattern in multi-threaded programs.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_producer_and_consumer_add_mutex_correctly.png" alt="os-semaphore_producer_and_consumer_add_mutex_correctly.png" /></p>

<p><strong>Reader-Writer Locks</strong></p>

<p>Another classic problem stems from the desire for a more flexible <strong>locking primitive</strong> that admits that different data structure accesses might require different kinds of locking.</p>

<p>Imagine a number of concurrent list operations, including inserts and simple lookups. While inserts change the state of the list (and thus a traditional critical section makes sense), lookups simply read the data structure; as long as we can guarantee that no insert is on-going, we can allow many lookups to proceed concurrently. The special type of lock we will now develop to support this type of operation is known as a <strong>reader-writer lock</strong>.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_reader_writer_lock.png" alt="os-semaphore_reader_writer_lock.png" /></p>

<p>Once a reader has acquired a read lock, more readers will be allowed to acquire the read lock too; however, any thread that wishes to acquire the write lock will have to wait until all readers are finished; the last one to exit the critical section calls sem <code>post()</code> on â€œwritelockâ€ and thus enables a waiting writer to acquire the lock.</p>

<p>This approach works (as desired), but does have some negatives, especially when it comes to fairness. In particular, it would be relatively easy for readers to starve writers. It should be noted that reader-writer locks should be used with some caution. They often add more overhead (especially with more sophisticated implementations), and thus do not end up speeding up performance as compared to just using simple and fast locking primitives.</p>

<p>SIMPLE AND DUMB CAN BE BETTER (HILLâ€™S LAW)</p>

<p>You should never underestimate the notion that the simple and dumb approach can be the best one. Always try the simple and dumb approach first.</p>

<p><strong>The Dining Philosophers</strong></p>

<p>One of the most famous concurrency problems posed, and solved, by Dijkstra, is known as the dining philosopherâ€™s problem.</p>

<p>There are five â€œphilosophersâ€ sitting around a table. Between each pair of philosophers is a single fork (and thus, five total). The philosophers each have times where they think, and donâ€™t need any forks, and times where they eat. In order to eat, a philosopher needs two forks, both the one on their left and the one on their right. The contention for these forks, and the synchronization problems that ensue, are what makes this a problem we study in concurrent programming.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_dinning_philosophers.png" alt="os-semaphore_dinning_philosophers.png" /></p>

<p>Broken Solution</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_dinning_philosophers_deadlock_solution.png" alt="os-semaphore_dinning_philosophers_deadlock_solution.png" /></p>

<p>The problem is deadlock. If each philosopher happens to grab the fork on their left before any philosopher can grab the fork on their right, each will be stuck holding one fork and waiting for another, forever.</p>

<p>A Solution: Breaking The Dependency</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_dinning_philosophers_solution.png" alt="os-semaphore_dinning_philosophers_solution.png" /></p>

<p><strong>Implement Semaphores</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-semaphore_implementation.png" alt="os-semaphore_implementation.png" /></p>

<h2 id="chapter-32---common-concurrency-problems">Chapter 32 - Common Concurrency Problems</h2>

<p><strong>Background</strong></p>

<p>Lu et al has made a study, which analyzes a number of popular concurrent applications in great detail to understand what types of bugs arise in practice.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_bugs.png" alt="os-concurrency_bugs.png" /></p>

<p><strong>Non-Deadlock Bugs</strong></p>

<ul>
  <li>Atomicity violation bugs. The desired serializability among multiple memory accesses is violated (i.e. a code region is intended to be atomic, but the atomicity is not enforced during execution). Solve by locks.</li>
  <li>Order violation bugs. The desired order between two (groups of) memory accesses is flipped (i.e., A should always be executed before B, but the order is not enforced during execution). Solve by condition variables.</li>
</ul>

<p><strong>Deadlock Bugs</strong></p>

<p>Deadlock occurs, for example, when a thread (say Thread 1) is holding a lock (L1) and waiting for another one (L2); unfortunately, the thread (Thread 2) that holds lock L2 is waiting for L1 to be released.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_dependency.png" alt="os-concurrency_deadlock_dependency.png" /></p>

<p><strong>Caused by</strong></p>

<p>One reason is that in large code bases, complex dependencies arise between cmponents. The design of locking strategies in large systems must be carefully done to avoid deadlock in the case of <strong>circular dependencies</strong> that may occur naturally in the code.</p>

<p>Another reason is due to the nature of <strong>encapsulation</strong>. As software developers, we are taught to hide details of implementations and thus make software easier to build in a modular way.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_by_encapsulation.png" alt="os-concurrency_deadlock_by_encapsulation.png" /></p>

<p><strong>Conditions for Deadlock</strong></p>

<ul>
  <li><strong>Mutual exclusion</strong>: Threads claim exclusive control of resources that they require (e.g., a thread grabs a lock).</li>
  <li><strong>Hold-and-wait</strong>: Threads hold resources allocated to them (e.g.,locks that they have already acquired) while waiting for additional resources (e.g., locks that they wish to acquire).</li>
  <li><strong>No preemption (hold)</strong>: Resources (e.g., locks) cannot be forcibly removed from threads that are holding them.</li>
  <li><strong>Circular wait (wait)</strong>: There exists a coircular chain of threads such that each thread holds one more resources (e.g., locks) that are being requested by the next thread in the chain.</li>
</ul>

<p><strong>Prevention Based on Four Conditions</strong></p>

<p>Mutual Exclusion</p>

<p>To avoid the need for mutual exclusion at all. Herlihy had the idea that one could design various data structures to be <strong>wait-free</strong>. The idea here is simple: using powerful hardware instructions, you can build data structures in a manner that does not require explicit locking.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_wait_free.png" alt="os-concurrency_deadlock_wait_free.png" /></p>

<p>However, this will fail if some other thread successfully swapped in a new head in the meanwhile, causing this thread to retry again with the new head.</p>

<p>Hold-and-wait</p>

<p>The hold-and-wait requirement for deadlock can be avoided by acquiring all locks at once, atomically.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_hold_and_wait.png" alt="os-concurrency_deadlock_hold_and_wait.png" /></p>

<p>By first grabbing the lock prevention, this code guarantees that no untimely thread switch can occur in the midst of lock acquisition and thus deadlock can once again be avoided.</p>

<p>Note that the solution is problematic for a number of reasons. As before, encapsulation works against us: when calling a routine, this approach requires us to know exactly which locks must be held and to acquire them ahead of time. This technique also is likely to decrease concurrency as all locks must be acquired early on (at once) instead of when they are truly needed.</p>

<p>No Preemption</p>

<p>Because we generally view locks as held until unlock is called, multiple lock acquisition often gets us into trouble because when waiting for one lock we are holding another. Many thread libraries provide a more flexible set of interfaces to help avoid this situation. Specifically, a <code>trylock()</code> routine will grab the lock (if it is available) or return -1 indicating that the lock is held right now and that you should try again later if you want to grab that lock.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_no_preemption.png" alt="os-concurrency_deadlock_no_preemption.png" /></p>

<p>One new problem does arise, however: <strong>livelock</strong>. It is possible (though perhaps unlikely) that two threads could both be repeatedly attempting this sequence and repeatedly failing to acquire both locks. In this case, both systems are running through this code sequence over and over again (and thus it is not a deadlock), but progress is not being made, hence the name lovelock. One could add a random delay before looping back and trying the entire thing over again, thus decreasing the odds of repeated interference among competing threads.</p>

<p>Another issues arises due to encapsulation: if one of these locks is buried in some routine that is getting called, the jump back to the beginning becomes more complex to implement.</p>

<p>Circular Wait</p>

<p>The best solution in practice is to be careful, develop a lock acquisition order, and thus prevent deadlock from occurring in the first place.</p>

<ul>
  <li>The most straightforward way to do that is to provide a <strong>total ordering</strong> on lock acquisition. For example, if there are only two locks in the system (L1 and L2), you can prevent deadlock by always acquiring L1 before L2. Such strict ordering ensures that no cyclical wait arises; hence, no deadlock.</li>
  <li>A <strong>partial ordering</strong> can be a useful way to structure lock acquisition so as to avoid deadlock.</li>
</ul>

<p><strong>Avoidance via Scheduling</strong></p>

<p>Instead of deadlock prevention, in some scenarios deadlock avoidance is preferable. Avoidance requires some global knowledge of which locks various threads might grab during their execution, and subsequently schedules said threads in a way as to guarantee no deadlock can occur.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-concurrency_deadlock_avoid_via_scheduling.png" alt="os-concurrency_deadlock_avoid_via_scheduling.png" /></p>

<p>Unfortunately, they are only useful in very limited environments, for example, in an embedded system where one has full knowledge of the entire set of tasks that must be run and the locks that they need. Further, such approaches can limit concurrency. Thus, avoidance of deadlock via scheduling is not a widely-used general-purpose solution</p>

<p><strong>Detect and Recover</strong></p>

<p>One final general strategy is to allow deadlocks to occasionally occur, and then take some action once such a deadlock has been detected.</p>

<p>Many database systems employ deadlock detection and recovery techniques. A deadlock detector runs periodically, building a resource graph and checking it for cycles. In the event of a cycle (deadlock), the system needs to be restarted.</p>

<p>DONâ€™T ALWAYS DO IT PERFECTLY (TOM WESTâ€™S LAW)</p>

<p>Tom West says famously, â€œNot everything worth doing is worth doing wellâ€, which is a terrific engineering maxim. If a bad thing happens rarely, certainly one should not spend a great deal of effort to prevent it, particularly if the cost of the bad thing occurring is small.</p>

<p><strong>Others</strong></p>

<p>Perhaps the best solution is to develop new concurrent programming models: in systems such as <strong>MapReduce</strong> (from Google), programmers can describe certain types of parallel computations without any locks whatsoever.</p>

<h2 id="chapter-33---event-based-concurrency-advanced">Chapter 33 - Event-based Concurrency (Advanced)</h2>

<p><strong>Background</strong></p>

<p>A different style of concurrent programming is often used in both GUI-based applications as well as some types of internet servers. This style, known as event-based concurrency, has become popular in some modern systems, including server-side frameworks such as node.js, but its roots are found in C/UNIX systems that weâ€™ll discuss below.</p>

<p>Event-based servers give control of scheduling to the application itself, but do so at some cost in complexity and difficulty of integration with other aspects of modern systems (e.g., paging). Because of these challenges, no single approach has emerged as best; thus, both threads and events are likely to persist as two different approaches to the same concurrency problem for many years to come.</p>

<p>The problem that event-based concurrency addresses is two-fold.</p>

<ul>
  <li>The first is that managing concurrency correctly in multi-threaded applications can be challenging.</li>
  <li>The second is that in a multi-threaded application, the developer has little or no control over what is scheduled at a given moment in time; rather, the programmer simply creates threads and then hopes that the underlying OS schedules them in a reasonable manner across available CPUs.</li>
</ul>

<p><strong>The Basic Idea: An Event Loop</strong></p>

<p>The approach is quite simple: you simply wait for something (i.e., an â€œeventâ€) to occur; when it does, you check what type of  event it is and do the small amount of work it requires (which may include issuing I/O requests, or scheduling other events for future handling, etc.). Thatâ€™s it!</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-event_loop.png" alt="os-event_loop.png" /></p>

<p>Importantly, when a handler processes an event, it is the only activity taking place in the system; thus, deciding which event to handle ext is equivalent to scheduling. This explicit control over scheduling is one of the fundamental advantages of the event- based approach.</p>

<p>But there is a big question: how exactly does an event-based server determine which events are taking place, in particular with regards to network and disk I/O? Specifically, how can an event server tell if a message has arrived for it?</p>

<p><strong>An Important API: select() (or poll())</strong></p>

<p>In most systems, a basic API is available, via either the <strong>select()</strong> or <strong>poll()</strong> system calls. Either way, these basic primitives give us a way to build a non-blocking event loop, which simply checks for incoming packets, reads from sockets with messages upon them, and replies as needed.</p>

<p>What these interfaces enable a program to do is simple: check whether there is any incoming I/O that should be attended to.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-event_select_api.png" alt="os-event_select_api.png" /></p>

<p>First, note that it lets you check whether descriptors can be reand from as well as written to; the former lets a server determine that a new packet has arrived and is in need of processing, whereas the latter lets the service know when it is OK to reply (i.e., the outbound queue is not full).</p>

<p>Second, note the timeout argument. One common usage here is to set the timeout to <code>NULL</code>, which causes <code>select()</code> to block indefinitely, until some descriptor is ready. However, more robust servers will usually specify some kind of timeout; one common technique is to set the timeout to zero, and thus use the call to <code>select()</code> to return immediately.</p>

<p>Now linux uses <strong>epoll</strong>, FreeBSD (Mac OS) uses <strong>kqueue</strong>, and Windows uses <strong>IOCP</strong>.</p>

<p>BLOCKING VS. NON-BLOCKING INTERFACES</p>

<ul>
  <li>Blocking (or synchronous) interfaces do all of their work before returning to the caller. The usual culprit in blocking calls is I/O of some kind.</li>
  <li>Non-blocking (or asynchronous) interfaces begin some work but return immediately, thus letting whatever work that needs to be done get done in the background. Non-blocking interfaces can be used in any style of programming (e.g., with threads), but are essential in the event-based approach, as a call that blocks will halt all progress.</li>
</ul>

<p>DONâ€™T BLOCK IN EVENT-BASED SERVERS</p>

<p>Event-based servers enable fine-grained control over scheduling of tasks. However, to maintain such control, no call that blocks the execution the caller can ever be made; failing to obey this design tip will result in a blocked event-based server.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-event_select_code_demo.png" alt="os-event_select_code_demo.png" /></p>

<p>Advantage</p>

<p>With a single CPU and an event-based application, the problems found in concurrent programs are no longer present. Specifically, because only one event is being handled at a time, there is no need to acquire or release locks; the event-based server cannot be interrupted by another thread because it is decidedly single threaded. Thus, concurrency bugs common in threaded programs do not manifest in the basic event-based approach.</p>

<p><strong>Issue: Blocking System Calls</strong></p>

<p>For example, imagine a request comes from a client into a server to read a file from disk and return its contents to the requesting client (much like a simple HTTP request). Both the open() and read() calls may issue I/O requests to the storage system (when the needed metadata or data is not in memory already), and thus may take a long time to service.</p>

<p>With a thread-based server, this is no issue: while the thread issuing the I/O request suspends (waiting for the I/O to complete), other threads can run, thus enabling the server to make progress. Indeed, this natural <strong>overlap</strong> of I/O and other computation is what makes thread-based programming quite natural and straight-forward.</p>

<p>With an event-based approach, however, there are no other threads to run: just the main event loop. And this implies that if an event handler issues a call that blocks, the entire server will do just that: block until the call completes.</p>

<p>We thus have a rule that must be obeyed in event-based systems: no blocking calls are allowed.</p>

<p>Solution: Asynchronous I/O</p>

<p>To overcome this limit, many modern operating systems have intro- duced new ways to issue I/O requests to the disk system, referred to generically as asynchronous I/O. These interfaces enable an application to issue an I/O request and return control immediately to the caller, before the I/O has completed; additional interfaces enable an application to determine whether various I/Os have completed.</p>

<p>The APIs revolve around a basic structure, the struct aiocb or <strong>AIO control block</strong> in common terminology.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-event_aio_control_block.png" alt="os-event_aio_control_block.png" /></p>

<ul>
  <li>An application can periodically poll the system via a call to aio error() to determine whether said I/O has yet completed.</li>
  <li>Some systems provide an approach based on the interrupt. This method uses UNIX signals to inform applications when an asynchronous I/O completes, thus removing the need to repeatedly ask the system.</li>
</ul>

<p>In systems without asynchronous I/O, the pure event-based approach cannot be implemented. However, clever researchers have derived methods that work fairly well in their place. For example, Pai et al describe a hybrid approach in which events are used to process network packets, and a thread pool is used to manage outstanding I/Os.</p>

<p>UNIX SIGNALS</p>

<p>A huge and fascinating infrastructure known as <strong>signals</strong> is present in all mod ern UNIX variants. At its simplest, signals provide a way to communicate with a process. Specifically, a signal can be delivered to an application; doing so stops the application from whatever it is doing to run a <strong>signal handler</strong>, i.e., some code in the application to handle that signal. When finished, the process just resumes its previous behaviour. A program can be configured to catch that signal. Or when a signal is sent to a process not config- ured to handle that signal, some default behavior is enacted; for SEGV, the process is killed.</p>

<p><strong>Issue: State Management</strong></p>

<p>When an event handler issues an asynchronous I/O, it must package up some program state for the next event handler to use when the I/O finally completes; this additional work is not needed in thread-based programs, as the state the program needs is on the stack of the thread. Adya et al. call this work <strong>manual stack management</strong>, and it is fundamental to event-based programming.</p>

<p>Solution: Continuation</p>

<p>Use an old programming language construct known as a <strong>continuation</strong>. Though it sounds complicated, the idea is rather simple: basically, record the needed information to finish processing this event in some data structure; when the event happens (i.e., when the disk I/O completes), look up the needed information and process the event.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/os-event_state_management.png" alt="os-event_state_management.png" /></p>

<p>Record the socket descriptor (sd) in some kind of data structure (e.g., a hash table), indexed by the file descriptor (fd). When the disk I/O completes, the event handler would use the file descriptor to look up the continuation, which will return the value of the socket descriptor to the caller.</p>

<p><strong>What Is Still Difficult With Events</strong></p>

<p>Multiple CPUS. When systems moved from a single CPU to multiple CPUs, some of the simplicity of the event-based approach disappeared. Specifically, in order to utilize more than one CPU, the event server has to run multiple event handlers in parallel; when doing so, the usual synchronization problems (e.g., critical sections) arise, and the usual solutions (e.g., locks) must be employed. Thus, on modern multicore systems, simple event handling without locks is no longer possible.</p>

<p>Implicit blocking. It does not integrate well with certain kinds of systems activity, such as paging. For example, if an event-handler page faults, it will block, and thus the server will not make progress until the page fault completes. Even though the server has been structured to avoid explicit blocking, this type of implicit blocking due to page faults is hard to avoid and thus can lead to large performance problems when prevalent.</p>

<p>API changes all the time. That event-based code can be hard to manage over time, as the exact semantics of various routines changes]. For example, if a routine changes from non-blocking to blocking, the event handler that calls that routine must also change to accommodate its new nature, by ripping itself into two pieces. Because blocking is so disastrous for event-based servers, a programmer must always be on the lookout for such changes in the semantics of the APIs each event uses.</p>

<p>Async network I/O. Though asynchronous disk I/O is now possible on most platforms, it has taken a long time to get there, and it never quite integrates with asynchronous network I/O in as simple and uniform a manner as you might think. For example, while one would simply like to use the select() interface to manage all outstanding I/Os, usually some combination of select() for networking and the AIO calls for disk I/O are required.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Review] Website Performance Optimization]]></title>
    <link href="http://blog.ifyouseewendy.com/blog/2015/12/19/web-performance-optimization/"/>
    <updated>2015-12-19T15:21:58+08:00</updated>
    <id>http://blog.ifyouseewendy.com/blog/2015/12/19/web-performance-optimization</id>
    <content type="html"><![CDATA[<p>After several years working, Iâ€™ve learned many lessons like how to write HTML, how to minify and compress CSS and JavaScript files, where to put the CSS and JavaScript reference, how to do the cache control and etc.. But all the knowledge are scattered, and the real mechanism, like the HTML rendering, seems like a mysterious process to me. So I spent some time digging and learning, the things finally got clear.</p>

<p><strong><em>For short, whatâ€™s the basic idea of web performance optimization?</em></strong></p>

<ul>
  <li>Minimize the number of critical resources, like optimizing CSS (inline, or specify media query), and optimizing JavaScript (defer execution).</li>
  <li>Minimize the number of critical bytes, like optimizing content efficiency, minify, compress and HTTP cache control.</li>
  <li>Minimize the critical path length, like preload scanner.</li>
</ul>

<p><strong>Materials</strong></p>

<ul>
  <li><a href="https://www.udacity.com/course/website-performance-optimization--ud884">Udacity - Website Performance Optimization</a></li>
  <li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/?hl=en">Google Developer - Critical Rendering Path</a></li>
</ul>

<p><strong>TOC</strong></p>

<ul id="markdown-toc">
  <li><a href="#optimizing-content-efficiency">Optimizing content efficiency</a>    <ul>
      <li><a href="#eliminating-unnecessary-downloads">Eliminating unnecessary downloads</a></li>
      <li><a href="#optimizing-encoding-and-transfer-size-of-text-based-assets">Optimizing encoding and transfer size of text-based assets</a></li>
      <li><a href="#image-optimization">Image optimization</a></li>
      <li><a href="#web-font-optimization">Web font optimization</a></li>
      <li><a href="#http-caching">HTTP caching</a></li>
    </ul>
  </li>
  <li><a href="#critical-rendering-path">Critical Rendering Path</a>    <ul>
      <li><a href="#critical-rendering-path-1">Critical Rendering Path</a></li>
      <li><a href="#analysing-critical-rendering-path-performance">Analysing Critical Rendering Path Performance</a></li>
      <li><a href="#optimizing-the-critical-rendering-path">Optimizing the critical rendering path</a></li>
    </ul>
  </li>
  <li><a href="#browser-rendering-optimization">Browser Rendering Optimization</a></li>
</ul>

<h2 id="optimizing-content-efficiency">Optimizing content efficiency</h2>

<ul>
  <li>Apply content-specific optimizations first: CSS, JS, and HTML minifiers.</li>
  <li>Apply GZIP to compress the minified output.</li>
</ul>

<h3 id="eliminating-unnecessary-downloads">Eliminating unnecessary downloads</h3>

<p>The fastest and best optimized resource is a resource not sent.</p>

<ul>
  <li>Inventory all own and third party assets on your pages</li>
  <li>Measure the performance of each asset: its value and its technical performance</li>
  <li>Determine if the resources are providing sufficient value</li>
</ul>

<p>For best results you should periodically inventory and revisit these questions for each and every asset on your pages.</p>

<h3 id="optimizing-encoding-and-transfer-size-of-text-based-assets">Optimizing encoding and transfer size of text-based assets</h3>

<p><strong>Data Compression</strong></p>

<p>Compression is the process of encoding information using fewer bits. Eliminating unnecessary data always yields the best results.</p>

<p><strong>Minification: preprocessing &amp; context-specific optimizations</strong></p>

<ul>
  <li>Remove comments</li>
  <li>Remove inefficient ways of defining CSS rules</li>
  <li>Strip out all the whitespaces (tabs and spaces).</li>
</ul>

<p>We can keep the original page as our â€œdevelopment versionâ€ and then apply the steps above whenever we are ready to release the page on our website.</p>

<blockquote>
  <p>Case in point, the uncompressed development version of the JQuery library is now approaching ~300KB. The same library, but minified (removed comments, etc.) is about 3x smaller: ~100KB.</p>
</blockquote>

<p><strong>Text compression with GZIP</strong></p>

<p>GZIP is a generic compressor that can be applied to any stream of bytes. In practice, GZIP performs best on text-based content, often achieving compression rates of as high as 70-90% for larger files.</p>

<p>All modern browsers support and automatically negotiate GZIP compression for all HTTP requests.</p>

<p>A quick and simple way to see GZIP in action is to open Chrome DevTools and inspect the â€œSize / Contentâ€ column in the Network panel: â€œSizeâ€ indicates the transfer size of the asset, and â€œContentâ€ the uncompressed size of the asset.</p>

<ul>
  <li><a href="http://www.whatsmyip.org/http-compression-test/">HTTP Compression Test</a></li>
  <li><a href="https://github.com/h5bp/server-configs-nginx">Nginx HTTP server boilerplate configs</a></li>
</ul>

<h3 id="image-optimization">Image optimization</h3>

<ul>
  <li>Prefer vector formats: vector images are resolution and scale independent, which makes them a perfect fit for the multi-device and high-resolution world.</li>
  <li>Minify and compress SVG assets: XML markup produced by most drawing applications often contains unnecessary metadata which can be removed; ensure that your servers are configured to apply GZIP compression for SVG assets.</li>
  <li>Pick best raster image format: determine your functional requirements and select the one that suits each particular asset.</li>
  <li>Experiment with optimal quality settings for raster formats: donâ€™t be afraid to dial down the â€œqualityâ€ settings, the results are often very good and byte savings are significant.</li>
  <li>Remove unnecessary image metadata: many raster images contain unnecessary metadata about the asset: geo information, camera information, and so on. Use appropriate tools to strip this data.</li>
  <li>Serve scaled images: resize images on the server and ensure that the â€œdisplayâ€ size is as close as possible to the â€œnaturalâ€ size of the image. Pay close to attention to large images in particular, as they account for largest overhead when resized!</li>
  <li>Automate, automate, automate: invest into automated tools and infrastructure that will ensure that all of your image assets are always optimized.</li>
</ul>

<p><strong>Eliminating and replacing images</strong></p>

<ul>
  <li>Eliminate unnecessary image resources</li>
  <li>Leverage CSS3 effects where possible</li>
  <li>Use web fonts instead of encoding text in images</li>
</ul>

<p><strong>Vector vs. Raster images</strong></p>

<ul>
  <li>Vector images are ideal for images that consist of geometric shapes</li>
  <li>Vector images are zoom and resolution-independent</li>
  <li>Raster images should be used for complex scenes with lots of irregular shapes and details</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/vector_vs_raster_image.png" alt="vector_vs_raster_image.png" /></p>

<ul>
  <li>Vector graphics use lines, points, and polygons to represent an image.</li>
  <li>Raster graphics represent an image by encoding the individual values of each pixel within a rectangular grid.</li>
</ul>

<p><strong>Implications of high-resolution screens</strong></p>

<ul>
  <li>High resolution screens have multiple device pixels per CSS pixel</li>
  <li>High resolution images require significantly higher number of pixels and bytes</li>
  <li>Image optimization techniques are the same regardless of resolution</li>
</ul>

<p>High resolution screens also require high-resolution images: prefer vector images whenever possible as they are resolution independent and always deliver sharp results, and if a raster image is required, deliver and optimize multiple variants of each imagewith the help of srcset and picture.</p>

<p><strong>Optimizing vector images</strong></p>

<ul>
  <li>SVG is an XML-based image format</li>
  <li>SVG files should be minified to reduce their size</li>
  <li>SVG files should be compressed with GZIP</li>
</ul>

<p>All modern browsers support Scalable Vector Graphics (SVG), which is an XML-based image format for two-dimensional graphics: we can embed the SVG markup directly on the page, or as an external resource.</p>

<p><strong>Optimizing raster images</strong></p>

<p>Image optimization boils down to two criteria: optimizing the number of bytes used to encode each image pixel, and optimizing the total number of pixels: the filesize of the image is simply the total number of pixels times the number of bytes used to encode each pixel.</p>

<ul>
  <li>A raster image is a grid of pixels</li>
  <li>Each pixel encodes color and transparency information</li>
  <li>Image compressors use a variety of techniques to reduce the number of required bits per pixel to reduce file size of the image</li>
</ul>

<p>A raster image is simply a 2-dimensional grid of individual â€œpixelsâ€ - e.g. a 100x100 pixel image is a sequence of 10,000 pixels. In turn, each pixel stores the â€œRGBAâ€ values: (R) red channel, (G) green channel, (B) blue channel, and (A) alpha (transparency) channel.</p>

<p>Internally, the browser allocates 256 values (shades) for each channel, which translates to 8 bits per channel (2 ^ 8 = 256), and 4 bytes per pixel (4 channels x 8 bits = 32 bits = 4 bytes).</p>

<p>So, a 100 x 100px image, is 39 KB size without losing any information.</p>

<blockquote>
  <p>100 x 100px image is composed of 10,000 pixels<br />
10,000 pixels x 4 bytes = 40,000 bytes<br />
40,000 bytes / 1024 = 39 KB  </p>
</blockquote>

<p><strong>Lossless vs lossy image compression</strong></p>

<ul>
  <li>Due to how our eyes work, images are great candidates for lossy compression</li>
  <li>Image optimization is a function of lossy and lossless compression</li>
  <li>Differences in image formats are due to the difference in how and which lossy and lossless algorithms are used to optimize the image</li>
  <li>There is no single best format or â€œquality settingâ€ for all images: each combination of particular compressor and image contents produce a unique output</li>
</ul>

<p>In fact, the difference between various image formats, such as GIF, PNG, JPEG, and others, is in the combination of the specific algorithms they use (or omit) when applying the lossy and lossless steps.</p>

<p><strong><em>What is the â€œoptimalâ€ configuration of lossy and lossless optimization?</em></strong></p>

<p>The answer depends on the image contents and your own criteria such as the tradeoff between filesize and artifacts introduced by lossy compression.</p>

<p><strong>Selecting the right image format</strong></p>

<ul>
  <li>Start by selecting the right universal format: GIF, PNG, JPEG</li>
  <li>Experiment and select the best settings for each format: quality, palette size, etc.</li>
  <li>Consider adding WebP and JPEG XR assets for modern clients</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/select_the_right_image.png" alt="select_the_right_image.png" /></p>

<ul>
  <li><strong>GIF</strong> limits the color palette to at most 256 colors, which makes it a poor choice for most images.</li>
  <li><strong>PNG</strong> does not apply any lossy compression algorithms beyond the choice of the size of the color palette. As a result, it will produce the highest quality image, but at a cost of significantly higher filesize than other formats. Use judiciously.</li>
  <li>If the image asset contains imagery composed of geometric shapes, consider converting it to a vector (<strong>SVG</strong>) format!</li>
  <li>If the image asset contains text, stop and reconsider. Text in images is not selectable, searchable, or â€œzoomableâ€. If you need to convey a custom look (for branding or other reasons), use a <strong>web font</strong> instead.</li>
  <li><strong>JPEG</strong> uses a combination of lossy and lossless optimization to reduce filesize of the image asset.</li>
  <li>Also consider adding an additional variant encoded in <strong>WebP</strong> and <strong>JPEG XR</strong>. WebP delivers a 30% filesize decrease over a comparable JPEG image.</li>
</ul>

<p><strong>Tools and parameter tuning</strong></p>

<ul>
  <li><a href="http://www.lcdf.org/gifsicle/">gifsicle</a>, create and optimize GIF images</li>
  <li><a href="http://jpegclub.org/jpegtran/">jpegqran</a>, optimize JPEG images</li>
  <li><a href="http://optipng.sourceforge.net/">optpng</a>, lossless PNG optimization</li>
  <li><a href="http://pngquant.org/">pngquant</a>, lossy PNG optimization</li>
</ul>

<p><strong>Delivering scaled image assets</strong></p>

<p>One of the simplest and most effective image optimization techniques is to ensure that we are not shipping any more pixels than needed to display the asset at its intended size in the browser. Most pages fail this test for many of their image assets: typically, they ship larger assets and rely on the browser to rescale them - which also consumes extra CPU resources - and display them at a lower resolution.</p>

<p>You should ensure that the number of unnecessary pixels is minimal, and that your large assets in particular are delivered as close as possible to their display size.</p>

<h3 id="web-font-optimization">Web font optimization</h3>

<p>Use of webfonts does not need to delay page rendering or have negative impact on other performance metrics. Well optimized use of fonts can deliver a much better overall user experience:</p>

<ul>
  <li>Audit and monitor your font use: do not use too many fonts on your pages, and for each font, minimize the number of used variants. This will assist in delivering a more consistent and a faster experience for your users.</li>
  <li>Subset your font resources: many fonts can be subset, or split into multiple unicode-ranges to deliver just the glyphs required by a particular page - this reduces the filesize and improves download speed of the resource. However, when defining the subsets be careful to optimize for font re-use - e.g. you donâ€™t want to download a different but overlapping set of characters on each page. A good practice is to subset based on script - e.g. Latin, Cyrillic, and so on.</li>
  <li>Deliver optimized font formats to each browser: each font should be provided in WOFF2, WOFF, EOT, and TTF formats. Make sure to apply GZIP compression to EOT and TTF formats, as they are not compressed by default.</li>
  <li>Specify revalidation and optimal caching policies: fonts are static resources that are infrequently updated. Make sure that your servers provide a long-lived max-age timestamp, and a revalidation token, to allow for efficient font re-use between different pages.</li>
  <li>Use Font Loading API to optimize the Critical Rendering Path: default lazyloading behavior may result in delayed text rendering. Font Loading API allows us to override this behavior for particular fonts, and to specify custom rendering and timeout strategies for different content on the page. For older browsers that do not support the API, you can use the webfontloader JavaScript library or use the CSS inlining strategy.</li>
</ul>

<p><strong>Anatomy of a webfont</strong></p>

<p>A webfont is a collection of glyphs, and each glyph is a vector shape that describes a letter or symbol. As a result, the size of a particular font file is determined by two simple variables:</p>

<ul>
  <li>the complexity of the vector paths of each glyph</li>
  <li>the number of glyphs in a particular font</li>
</ul>

<p>Today there are four font container formats in use on the web: EOT, TTF, WOFF, and WOFF2.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/fonts.png" alt="fonts.png" /></p>

<p>Consider using <a href="http://en.wikipedia.org/wiki/Zopfli">Zopfli compression</a> for EOT, TTF, and WOFF formats. Zopfli is a zlib compatible compressor that delivers ~5% filesize reduction over gzip.</p>

<p><strong>Defining font family with @font-face</strong></p>

<p>format selection</p>

<p>A â€œfullâ€ webfont that includes all stylistic variants, which we may not need, plus all the glyphs, which may go unused, can easily result in a multi-megabyte download. To address this, the @font-face CSS rule is specifically designed to allow us to split the font family into a collection of resources: unicode subsets, distinct style variants, and so on.</p>

<p>The @font-face CSS at-rule allows us to define the location of a particular font resource, its style characteristics, and the Unicode codepoints for which it should be used. A combination of such @font-face declarations can be used to construct a â€œfont familyâ€, which the browser will use to evaluate which font resources need to be downloaded and applied to the current page.</p>

<p>Each @font-face declaration provides the name of the font family, which acts as a logical group of multiple declarations, font properties such as style, weight, and stretch, and the src descriptor that specifies a prioritized list of locations for the font resource.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/font_face_1.png" alt="font_face_1.png" /></p>

<p>The browser figures out which resources are required and will select the optimal format on our behalf.</p>

<p>Unicode-range subsetting</p>

<p>In addition to font properties such as style, weight, and stretch, the @font-face rule allows us to define a set of Unicode codepoints supported by each resource. This enables us to split a large Unicode font into smaller subsets (e.g. Latin, Cyrillic, Greek subsets) and only download the glyphs required to render the text on a particular page.</p>

<p>The use of unicode range subsets, and separate files for each stylistic variant of the font allows us to define a composite font family that is both faster and more efficient to download - the visitor will only download the variants and subsets it needs, and they are not forced to download subsets that they may never see or use on the page.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/font_face_2.png" alt="font_face_2.png" /></p>

<p>Unicode-range subsetting is particularly important for Asian languages, where the number of glyphs is much larger than in western languages and a typical â€˜fullâ€™ font is often measured in megabytes, instead of tens of kilobytes!</p>

<p>There is one small gotcha with unicode-range: <a href="http://caniuse.com/#feat=font-unicode-range">not all browser support it</a>. We have to fallback to providing a single font resource that contains all necessary subsets, and hide the rest from the browser. We can use the open-source <a href="https://github.com/behdad/fonttools/blob/master/Lib/fontTools/subset.py#L16">pyftsubset</a> tool to subset and optimize your fonts.</p>

<p>Font selection and synthesis</p>

<p>Each font family is composed of multiple stylistic variants (regular, bold, italic) and multiple weights for each style, each of which, in turn, may contain very different glyph shapes - e.g. different spacing, sizing, or a different shape altogether.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/font_size.png" alt="font_size.png" /></p>

<p>All other in-between variants (indicated in gray) are automatically mapped to the closest variant by the browser. Similar logic applies to italic variants. itâ€™s a good idea to keep the number of variants small!</p>

<p>What happens if one of our CSS rules specifies a different font weight, or sets the font-style property to italic?</p>

<ul>
  <li>If an exact font match is not available the browser will substitute the closest match.</li>
  <li>If no stylistic match is found (e.g. we did not declare any italic variants in example above), then the browser will <strong>synthesize</strong> its own font variant.</li>
</ul>

<p>For best consistency and visual results you should not rely on font synthesis. Instead, minimize the number of used font variants and specify their locations, such that the browser can download them when they are used on the page.</p>

<p><strong>Optimizing loading and rendering</strong></p>

<p>Font requests are delayed until the render tree is constructed, which can result in delayed text rendering.</p>

<p>Lazy loading of fonts carries an important hidden implication that may delay text rendering: the browser must construct the render tree, which is dependent on the DOM and CSSOM trees, before it will know which font resources it will need to render the text. As a result, font requests are delayed well after other critical resources, and the browser may be blocked from rendering text until the resource is fetched.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/font_rendering.png" alt="font_rendering.png" /></p>

<p>Font requests are dispatched once render tree indicates which font variants are needed to render the specified text on the page</p>

<p>The â€œraceâ€ between the first paint of page content, which can be done shortly after the render tree is built, and the request for the font resource is what creates the â€œblank text problemâ€ where the browser may render page layout but omits any text.</p>

<ul>
  <li>Safari hold text rendering until the font download is complete.</li>
  <li>Chrome and Firefox hold font rendering for up to 3 seconds, after which they use a fallback font, and once the font download has finished they re-render the text once more with the downloaded font.</li>
  <li>IE immediately renders with the fallback font if the request font is not yet available, and re-renders it once the font download is complete.</li>
</ul>

<p>Optimizing font rendering with the Font Loading API</p>

<p>Font Loading API provides a scripting interface to define and manipulate CSS font faces, track their download progress, and override their default lazyload behavior.</p>

<p>If weâ€™re certain that a particular font variant will be required, we can define it and tell the browser to initiate an immediate fetch of the font resource:</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/font_loading_api.png" alt="font_loading_api.png" /></p>

<ul>
  <li>We can hold all text rendering until the font is available.</li>
  <li>We can implement a custom timeout for each font.</li>
  <li>We can use the fallback font to unblock rendering and inject a new style that uses desired font once the font is available.</li>
</ul>

<p>Optimizing font rendering with inlining</p>

<p>To inline the font contents into a CSS stylesheet:</p>

<ul>
  <li>CSS stylesheets with matching media queries are automatically downloaded by the browser with high priority as they are required to construct the CSSOM.</li>
  <li>Inlining the font data into CSS stylesheet forces the browser to download the font with high priority and without waiting for the render tree - i.e. this acts as a manual override to the default lazyload behavior.</li>
</ul>

<p>Optimizing font reuse with HTTP Caching</p>

<p>Font resources are, typically, static resources that donâ€™t see frequent updates. As a result, they are ideally suited for a long max-age expiry.</p>

<p>There is no need to store fonts in localStorage or via other mechanisms - each of those has their set of performance gotchas. The browserâ€™s HTTP cache, in combination with Font Loading API or the webfontloader library, provides the best and most robust mechanism to deliver font resources to the browser.</p>

<h3 id="http-caching">HTTP caching</h3>

<p>The combination of ETag, Cache-Control, and unique URLs allows us to deliver the best of all worlds: long-lived expiry times, control over where the response can be cached, and on-demand updates.</p>

<ul>
  <li>Use consistent URLs: if you serve the same content on different URLs, then that content will be fetched and stored multiple times. Tip: note that URLs are case sensitive!</li>
  <li>Ensure the server provides a validation token (ETag): validation tokens eliminate the need to transfer the same bytes when a resource has not changed on the server.</li>
  <li>Identify which resources can be cached by intermediaries: those with responses that are identical for all users are great candidates to be cached by a CDN and other intermediaries.</li>
  <li>Determine the optimal cache lifetime for each resource: different resources may have different freshness requirements. Audit and determine the appropriate max-age for each one.</li>
  <li>Determine the best cache hierarchy for your site: the combination of resource URLs with content fingerprints, and short or no-cache lifetimes for HTML documents allows you to control how quickly updates are picked up by the client.</li>
  <li>Minimize churn: some resources are updated more frequently than others. If there is a particular part of resource (e.g. JavaScript function, or set of CSS styles) that are often updated, consider delivering that code as a separate file. Doing so allows the remainder of the content (e.g. library code that does not change very often), to be fetched from cache and minimizes the amount of downloaded content whenever an update is fetched.</li>
</ul>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/http_caching.png" alt="http_caching.png" /></p>

<p><strong>Validating cached responses with ETags</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/http_caching_with_ETags.png" alt="http_caching_with_ETags.png" /></p>

<ul>
  <li>Validation token is communicated by the server via the ETag HTTP header</li>
  <li>Validation token enables efficient resource update checks: no data transfer if the resource has not changed.</li>
</ul>

<p><strong>Cache-Control</strong></p>

<ul>
  <li>Each resource can define its caching policy via Cache-Control HTTP header</li>
  <li>Cache-Control directives control who can cache the response, under which conditions, and for how long</li>
</ul>

<p>Cache-Control header was defined as part of the HTTP/1.1 specification and supersedes previous headers (e.g. Expires) used to define response caching policies. All modern browsers support Cache-Control, hence that is all we will need.</p>

<p>â€œno-cacheâ€ indicates that the returned response cannot be used to satisfy a subsequent request to the same URL without first checking with the server if the response has changed. As a result, if a proper validation token (ETag) is present, no-cache will incur a roundtrip to validate the cached response, but can eliminate the download if the resource has not changed.</p>

<p>â€œno-storeâ€ is much simpler, as it simply disallows the browser and all intermediate caches to store any version of the returned response - e.g. one containing private personal or banking data.</p>

<p>If the response is marked as â€œpublicâ€ then it can be cached, even if it has HTTP authentication associated with it, and even when the response status code isnâ€™t normally cacheable. Most of the time, â€œpublicâ€ isnâ€™t necessary, because explicit caching information (like â€œmax-ageâ€) indicates that the response is cacheable anyway.</p>

<p>â€œprivateâ€ responses can be cached by the browser but are typically intended for a single user and hence are not allowed to be cached by any intermediate cache - e.g. an HTML page with private user information can be cached by that userâ€™s browser, but not by a CDN.</p>

<p>â€œmax-ageâ€ specifies the maximum time in seconds that the fetched response is allowed to be reused for from the time of the request.</p>

<p><strong>Defining optimal Cache-Control policy</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/http_cache_control_policy.png" alt="http_cache_control_policy.png" /></p>

<p><strong>Invalidating and updating cached responses</strong></p>

<p>What if we want to update or invalidate a cached response? For example, letâ€™s say weâ€™ve told our visitors to cache a CSS stylesheet for up to 24 hours (max-age=86400), but our designer has just committed an update that we would like to make available to all users. How do we notify all the visitors with what is now a â€œstaleâ€ cached copy of our CSS to update their caches? Itâ€™s a trick question - we canâ€™t, at least not without changing the URL of the resource.</p>

<p>Simple, we can change the URL of the resource and force the user to download the new response whenever its content changes. Typically, this is done by embedding a fingerprint of the file, or a version number, in its filename - e.g. style.x234dff.css.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/http_update_cache_by_fingerprints.png" alt="http_update_cache_by_fingerprints.png" /></p>

<p>The ability to define per-resource caching policies allows us to define â€œcache hierarchiesâ€ that allow us to control not only how long each is cached for, but also how quickly new versions are seen by visitor.</p>

<p>The HTML is marked with â€œno-cacheâ€, which means that the browser will always revalidate the document on each request and fetch the latest version if the contents change. Also, within the HTML markup we embed fingerprints in the URLs for CSS and JavaScript assets: if the contents of those files change, then the HTML of the page will change as well and new copy of the HTML response will be downloaded.</p>

<h2 id="critical-rendering-path">Critical Rendering Path</h2>

<h3 id="critical-rendering-path-1">Critical Rendering Path</h3>

<p>Optimizing for performance is all about understanding what happens in these intermediate steps between receiving the HTML, CSS, and JavaScript bytes and the required processing to turn them into rendered pixels - thatâ€™s the critical rendering path.</p>

<p>By optimizing the critical rendering path we can significantly improve the time to first render of our pages. Further, understanding the critical rendering path will also serve as a foundation for building well performing interactive applications. It turns out, the process for processing interactive updates is the same, just done in a continuous loop and ideally at 60 frames per second!</p>

<ul>
  <li>Process HTML markup and build the <strong>DOM tree</strong>.</li>
  <li>Process CSS markup and build the <strong>CSSOM tree</strong>.</li>
  <li>Combine the DOM and CSSOM into a <strong>render tree</strong>.</li>
  <li>Run <strong>layout</strong> on the render tree to compute geometry of each node.</li>
  <li><strong>Paint</strong> the individual nodes to the screen.</li>
</ul>

<p>Optimizing the critical rendering path is the process of minimizing the total amount of time spent in steps 1 through 5 in the above sequence. Doing so enables us to render content to the screen as soon as possible and also to reduces the amount of time between screen updates after the initial render.</p>

<p><strong>DOM</strong></p>

<p>The Document Object Model (DOM) is an application programming interface (API) for valid HTML and well-formed XML documents. It defines the logical structure of documents and the way a document is accessed and manipulated.</p>

<p>from <a href="http://www.w3.org/TR/DOM-Level-2-Core/introduction.html">http://www.w3.org/TR/DOM-Level-2-Core/introduction.html</a></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/dom_construction.png" alt="dom_construction.png" /></p>

<p>Every time the browser has to process HTML markup it has to step through all of the steps above: convert bytes to characters, identify tokens, convert tokens to nodes, and build the DOM tree.</p>

<p><strong>CSSOM</strong></p>

<p>The DOM tree captures the properties and relationships of the document markup, but it does not tell us anything about how the element should look when rendered. Thatâ€™s the responsibility of the CSSOM.</p>

<p>The CSS bytes are converted into characters, then to tokens and nodes, and finally are linked into a tree structure known as the â€œCSS Object Modelâ€, or CSSOM for short:</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/cssom_construction.png" alt="cssom_construction.png" /></p>

<p><strong><em>Is this the complete CSSOM?</em></strong></p>

<p>No. Note that the above tree is not the complete CSSOM tree and only shows the styles we decided to
override in our stylesheet. Every browser provides a default set of styles also known as â€œuser agent stylesâ€ â€“ thatâ€™s what we see when we donâ€™t provide any of our own â€“ and our styles simply override these defaults.</p>

<p><strong><em>Why does the CSSOM have a tree structure?</em></strong></p>

<p>When computing the final set of styles for any object on the page, the browser starts with the most general rule applicable to that node (e.g. if it is a child of body element, then all body styles apply) and then recursively refines the computed styles by applying more specific rules - i.e. the rules â€œcascade downâ€.</p>

<p><strong><em>Curious to know how long the CSS processing took?</em></strong></p>

<p>Record a timeline in DevTools and look for â€œRecalculate Styleâ€ event: unlike DOM parsing, the timeline doesnâ€™t show a separate â€œParse CSSâ€ entry, and instead captures parsing and CSSOM tree construction, plus the recursive calculation of computed styles under this one event.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/css_render_timeline.png" alt="css_render_timeline.png" /></p>

<p><strong><em>Why we say that CSS is render blocking?</em></strong></p>

<p>Review the rendering process, DOM and CSSOM construct the render tree, then calculate layout, and paint. So CSS is a rendering blocking resource which blocks on rendering process.</p>

<p><strong><em>Why do browsers match CSS selectors from right to left?</em></strong></p>

<p>It sounds like that it is done this way to avoid having to look at all the children of parent (which could be many) rather than all the parents of a child which must be one. Even if the DOM is deep it would only look at one node per level rather than multiple in the RTL matching. </p>

<p>from <a href="http://stackoverflow.com/questions/5797014/why-do-browsers-match-css-selectors-from-right-to-left">Why do browsers match CSS selectors from right to left?</a></p>

<p><strong>Render Blocking CSS</strong></p>

<ul>
  <li>Get it down to the client as soon and as quickly as possible to optimize the time to first render</li>
  <li>Use media types and queries to unblock rendering</li>
</ul>

<p>By default CSS is treated as a render blocking resource, which means that the browser will hold rendering of any processed content until the CSSOM is constructed. Note that â€œrender blockingâ€ only refers to whether the browser will have to hold the initial rendering of the page on that resource. In either case, the CSS asset is still downloaded by the browser, albeit with a lower priority for non-blocking resources (like images).</p>

<p><strong><em>How to make it non-blocking?</em></strong></p>

<p>By using media queries, our presentation can be tailored to specific use cases such as display vs. print, and also to dynamic conditions such as changes in screen orientation, resize events, and more. When declaring your stylesheet assets, pay close attention to the media type and queries, as they will have big performance impact on the critical rendering path!</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span>    <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span>    <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;all&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;portrait.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;orientation:portrait&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;print.css&quot;</span>    <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;print&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The third declaration has a dynamic media query which will be evaluated when the page is being loaded. Depending on the orientation of the device when the page is being loaded, portrait.css may or may not be render blocking.</p>

<p>The last declaration is only applied when the page is being printed, hence it is not render blocking when the page is first loaded in the browser.</p>

<p><strong>Render Tree</strong></p>

<p>The CSSOM and DOM trees are combined into a render tree, which is then used to</p>

<ul>
  <li>compute the layout of each visible element</li>
  <li>serves as an input to the paint process which renders the pixels to screen</li>
</ul>

<p>Render tree contains only the nodes required to render the page.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/render_tree_construction.png" alt="render_tree_construction.png" /></p>

<p><strong>Layout Stage</strong></p>

<p>The layout stage calculates the exact position and size within the viewport of the device.</p>

<p>The output of the layout process is a â€œbox modelâ€ which precisely captures the exact position and size of each element within the viewport: all of the relative measures are converted to absolute pixels positions on the screen, and so on.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/layout_timeline.png" alt="layout_timeline.png" /></p>

<p><strong>Painting Stage</strong></p>

<p>Now that we know which nodes are visible, their computed styles, and geometry, we can finally pass this information to our final stage which will convert each node in the render tree to actual pixels on the screen - this step is often referred to as â€œpaintingâ€ or â€œrasterizing.â€</p>

<p><strong><em>Can painting happen in the meantime dom is parsing?</em></strong></p>

<p>This is a gradual process: browsers wonâ€™t wait until all HTML is parsed. Parts of the content will be parsed and displayed, while the process continues with the rest of the contents that keeps coming from the network.</p>

<p>from <a href="http://stackoverflow.com/questions/34269416/when-does-parsing-html-dom-tree-happen">peslaâ€™s answer</a> in SO</p>

<p><strong>Image</strong></p>

<p>Not all resources are critical to deliver the fast first paint. Images do not block the initial render of the page - although, of course, we should try to make sure that we get the images painted as soon as possible also.</p>

<p>Image donâ€™t block on domContentLoaded, but blocks â€œloadâ€ event.</p>

<p><strong>Javascript</strong></p>

<ul>
  <li>The location of the script in the document is significant.</li>
  <li>JavaScript can query and modify DOM and CSSOM.</li>
  <li>JavaScript execution blocks on CSSOM.</li>
  <li>JavaScript blocks DOM construction unless explicitly declared as async or defer</li>
</ul>

<p>The location of the script in the document is significant. The script is executed at the exact point where it is inserted in the document. When the HTML parser encounters a script tag, it pauses its process of constructing the DOM and yields control over to the JavaScript engine; once the JavaScript engine has finished running, the browser then picks up from where it left off and resumes the DOM construction.</p>

<p><strong><em>Why we say that JavaScript is parser blocking?</em></strong></p>

<p>It means JavaScript will block the DOM tree parsing process. And also, as it has dependency on CSSOM, so the total process is, DOM parsing blocks on JavaScript execution, and JavaScript execution blocks on CSSOM construction. Thatâ€™s why we put the CSS link ref in head, and put the JavaScript link just before the close body tag.</p>

<p><strong><em>What if the browser hasnâ€™t finished downloading and building the CSSOM when we want to run our script?</em></strong></p>

<p>The browser will delay script execution until it has finished downloading and constructing the CSSOM, and while weâ€™re waiting, the DOM construction is also blocked!</p>

<p><strong><em>Whatâ€™s the difference between inline script and external script?</em></strong></p>

<p>Javascript is the same as the CSS and images, being a resource of the HTML, which all need a process of downloading and executing.</p>

<p>The inline script has no extra downloading time, compared to external script, but has the same execution time.</p>

<p><strong><em>Where is the best place to put JavaScript?</em></strong></p>

<p>Library may place in the head, and application logic js is better placed right before closing body tag.</p>

<p>You donâ€™t improve the total parsing time by including <code>&lt;script&gt;</code> at the end of the document. It does enhance the user experience, as the process of parsing and painting isnâ€™t interrupted by <code>&lt;script&gt;</code> that need to be executed.</p>

<p><strong>Navigation Timing API</strong> (Measuring the Critical Rendering Path)</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/navigation_timing_api.png" alt="navigation_timing_api.png" /></p>

<ul>
  <li><em>domLoading</em>: this is the starting timestamp of the entire process, the browser is about to start parsing the first received bytes of the HTML document.</li>
  <li><em>domInteractive</em>: marks when DOM is ready.</li>
  <li><em>domContentLoaded</em>: marks the point when both the DOM is ready and there are no stylesheets that are blocking JavaScript execution - meaning we can now (potentially) construct the render tree. Typically marks when both the DOM and CSSOM are ready. The sooner the domContentLoaded event fires, the sooner other application logic can begin executing. jQueryâ€™s $(document).ready() is hooked on domContentLoaded.</li>
  <li><em>loadEvent</em>: as a final step in every page load the browser fires an onload event which can trigger additional application logic.</li>
</ul>

<h3 id="analysing-critical-rendering-path-performance">Analysing Critical Rendering Path Performance</h3>

<ul>
  <li><strong>Critical Resource</strong>: resource that may block initial rendering of the page.</li>
  <li><strong>Critical Path Length</strong>: number of roundtrips, or the total time required to fetch all of the critical resources.</li>
  <li><strong>Critical Bytes</strong>: total amount of bytes required to get to first render of the page, which is the sum of the transfer filesizes of all critical resources. Our first example with a single HTML page contained a single critical resource (the HTML document), the critical path length was also equal to 1 network roundtrip (assuming file is small), and the total critical bytes was just the transfer size of the HTML document itself.</li>
</ul>

<p><strong>Without Javascript and CSS</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/without_js_and_css_timeline.png" alt="without_js_and_css_timeline.png" /></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/without_js_and_css_crp_diagram.png" alt="without_js_and_css_crp_diagram.png" /></p>

<ul>
  <li>1 critical resource</li>
  <li>1 roundtrip</li>
  <li>5 KB of critical bytes</li>
</ul>

<p><strong>With Only CSS</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_only_css_crp_diagram.png" alt="with_only_css_crp_diagram.png" /></p>

<ul>
  <li>2 critical resources</li>
  <li>2 or more roundtrips for the minimum critical path length</li>
  <li>9 KB of critical bytes</li>
</ul>

<p><strong>With JavaScript and CSS</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_and_css_timeline.png" alt="with_js_and_css_timeline.png" /></p>

<p>As Javascript blocks the DOM construction, also depends on the CSSOM, so the domContentLoaded event is blocked until the CSS file is downloaded and parsed.</p>

<p>Iâ€™m confusing on the image for a long long time! Finally, when Iâ€™m making this note, I get things through. Watch closely to the blue and red line. Blue line fires when the CSSOM has been created. And then Javascript executes, image downloads over, there fires the red line.</p>

<p>Remember, what does domContentLoaded mean? Marks the point when both the DOM is ready and there are no stylesheets that are blocking JavaScript execution - meaning we can now (potentially) construct the render tree. Typically marks when both the DOM and CSSOM are ready.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_and_css_crp_diagram.png" alt="with_js_and_css_crp_diagram.png" /></p>

<ul>
  <li>3 critical resources</li>
  <li>2 or more roundtrips for the minimum critical path length</li>
  <li>11 KB of critical bytes</li>
</ul>

<p><strong>With JavaScript (inline) and CSS</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_inline_and_css_timeline.png" alt="with_js_inline_and_css_timeline.png" /></p>

<p>Same time as the external Javascript, only without downloading process.</p>

<p><strong>With Javascript (inline) and CSS (inline)</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_inline_and_css_inline_timeline.png" alt="with_js_inline_and_css_inline_timeline.png" /></p>

<p><strong>With JavaScript (async) and CSS</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_async_and_css_timeline.png" alt="with_js_async_and_css_timeline.png" /></p>

<p>Much better! The domContentLoaded event fires shortly after the HTML is parsed: the browser knows not to block on JavaScript and since there are no other parser blocking scripts the CSSOM construction can also proceed in parallel.</p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_async_and_css_crp_diagram.png" alt="with_js_async_and_css_crp_diagram.png" /></p>

<ul>
  <li>2 critical resources (HTML and CSS)</li>
  <li>2 or more roundtrips for the minimum critical path length</li>
  <li>9 KB of critical bytes</li>
</ul>

<p><strong>With Javascript (async) and CSS (non-blocking)</strong></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/with_js_async_and_css_non_block_crp_diagram.png.png" alt="with_js_async_and_css_non_block_crp_diagram.png.png" /></p>

<ul>
  <li>1 critical resource</li>
  <li>1 or more roundtrips for the minimum critical path length</li>
  <li>5 KB of critical bytes</li>
</ul>

<p>Demo and CRP diagram</p>

<p>Code from <a href="https://github.com/igrigorik/udacity-webperf/blob/master/assets/ex2-diagram.html">https://github.com/igrigorik/udacity-webperf/blob/master/assets/ex2-diagram.html</a></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;html&gt;</span>
</span><span class="line">  <span class="nt">&lt;head&gt;</span>
</span><span class="line">    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">&gt;</span>
</span><span class="line">    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
</span><span class="line">    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;print.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;print&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;/head&gt;</span>
</span><span class="line">  <span class="nt">&lt;body&gt;</span>
</span><span class="line">    <span class="nt">&lt;p&gt;</span>
</span><span class="line">      Hello <span class="nt">&lt;span&gt;</span>web performance<span class="nt">&lt;/span&gt;</span> students!
</span><span class="line">    <span class="nt">&lt;/p&gt;</span>
</span><span class="line">    <span class="nt">&lt;div&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;awesome-photo.jpg&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class="line">    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;app.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class="line">    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;analytics.js&quot;</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class="line">  <span class="nt">&lt;/body&gt;</span>
</span><span class="line"><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>CRP diagram by <a href="https://discussions.udacity.com/t/quiz-crp-diagrams/16162/11?u=ifyouseewendy">connie_273453529</a></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/demo_crp_diagram_by_connie.png" alt="demo_crp_diagram_by_connie.png" /></p>

<ul>
  <li>3 critical resources</li>
  <li>total (HTML file + style.css + app.js) critical bytes</li>
  <li>2 roundtrip for the minimum critical path length</li>
</ul>

<h3 id="optimizing-the-critical-rendering-path">Optimizing the critical rendering path</h3>

<p><strong>Basic idea</strong></p>

<ul>
  <li>Minimize the number of critical resources.</li>
  <li>Minimize the number of critical bytes.</li>
  <li>Minimize the critical path length.</li>
</ul>

<p>To reduce the number of bytes we can reduce the number of resources (eliminate them or make them non-critical), and also ensure that we minimize the transfer size by compressing and optimizing each resource.</p>

<p>The fewer of these resources there are on the page, the less work the browser has to do to get content on the screen, and the less contention there is for CPU and other resources.</p>

<p>The critical path length is a function of the dependency graph between all the critical resources required by the page and their bytesize: some resource downloads can only be initiated once a previous resource has been processed, and the larger the resource the more roundtrips it will take us to download it.</p>

<p>The general sequence of steps to optimize the critical rendering path is:</p>

<ul>
  <li>Analyze and characterize your critical path: number of resources, bytes, length.</li>
  <li>Minimize number of critical resources: eliminate them, defer their download, mark them as async, etc.</li>
  <li>Optimize the order in which the remaining critical resources are loaded: you want to download all critical assets as early as possible to shorten the critical path length.</li>
  <li>Optimize the number of critical bytes to reduce the download time (number of roundtrips).</li>
</ul>

<p>The cardinal rule of web performance is, measure first, then optimize.</p>

<p><strong>Optimize JavaScript Use</strong></p>

<ul>
  <li>Prefer async JavaScript resources</li>
  <li>Defer parsing JavaScript</li>
  <li>Avoid synchronous server calls</li>
  <li>Avoid long running JavaScript</li>
</ul>

<p>Any initialization logic and functionality that is non-essential for the first render should be deferred until later. If a long initialization sequence needs to be run, consider splitting it into several stages to allow the browser to process other events in between.</p>

<p>async vs. defer</p>

<p>from <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html">async vs defer attributes</a></p>

<p><img src="https://github.com/ifyouseewendy/ifyouseewendy.github.io/raw/source/image-repo/web-performance-optimization/async_vs_defer.png" alt="async_vs_defer.png" /></p>

<p><strong>Optimize CSS Use</strong></p>

<ul>
  <li>Put CSS in the document head</li>
  <li>Avoid CSS imports. CSS import (@import) directive enables one stylesheet to import rules from another stylesheet file. However, these directives should be avoided because they introduce additional roundtrips into the critical path: the imported CSS resources are discovered only after the CSS stylesheet with the @import rule itself has been received and parsed.</li>
  <li>Inline render-blocking CSS</li>
</ul>

<p><strong>The Preload Scanner</strong></p>

<p>from <a href="http://andydavies.me/blog/2013/10/22/how-the-browser-pre-loader-makes-pages-load-faster/">How the Browser Pre-loader Makes Pages Load Faster</a></p>

<p>Internet Explorer, WebKit and Mozilla all implemented pre-loaders in 2008 as a way of overcoming the low network utilisation while waiting for scripts to download and execute.</p>

<p>When the browser is blocked on a script, a second lightweight parser scans the rest of the markup looking for other resources e.g. stylesheets, scripts, images etc., that also need to be retrieved.</p>

<p>The pre-loader then starts retrieving these resources in the background with the aim that by the time the main HTML parser reaches them they may have already been downloaded and so reduce blocking later in the page.</p>

<p><strong>Others</strong></p>

<ul>
  <li><a href="http://www.stevesouders.com/blog/2009/05/18/flushing-the-document-early/">Flushing the Document Early</a></li>
  <li><a href="http://blog.cowchimp.com/chunk-scatter-http-chunked-response-analysis-tool/">Chunk Scatter, a fantastic tool for visualizing chunked HTTP responses</a></li>
  <li><a href="https://developer.chrome.com/devtools/docs/timeline">Performance profiling with the Timeline</a></li>
  <li><a href="http://www.webpagetest.org/forums/showthread.php?tid=10990">Record a Chrome dev tools timeline by webpagetest</a></li>
</ul>

<p><strong><em>Why should I profile the site on my phone?</em></strong></p>

<p>Chances are, you are developing your site on a fast laptop or a desktop machine. Mobile phones on the other hand are much more resource constrained: slower CPUs, less RAM and GPU memory, higher connection latencies, and so on. As a result, you should always try to profile and debug your site on mobile hardware to get a better and closer picture of how your users will experience your site on their handset.</p>

<h2 id="browser-rendering-optimization">Browser Rendering Optimization</h2>

<blockquote>
  <p>TODO <a href="https://www.udacity.com/course/browser-rendering-optimization--ud860">https://www.udacity.com/course/browser-rendering-optimizationâ€“ud860</a></p>
</blockquote>

]]></content>
  </entry>
  
</feed>
